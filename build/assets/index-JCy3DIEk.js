(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var bK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wP(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Z1={exports:{}},Jm={},J1={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function Dk(){if(XE)return bn;XE=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function b(X,oe,ye){this.props=X,this.context=oe,this.refs=M,this.updater=ye||y}b.prototype.isReactComponent={},b.prototype.setState=function(X,oe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,oe,"setState")},b.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(X,oe,ye){this.props=X,this.context=oe,this.refs=M,this.updater=ye||y}var C=E.prototype=new _;C.constructor=E,x(C,b.prototype),C.isPureReactComponent=!0;var P=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function U(X,oe,ye){var Pe,Ue={},de=null,me=null;if(oe!=null)for(Pe in oe.ref!==void 0&&(me=oe.ref),oe.key!==void 0&&(de=""+oe.key),oe)D.call(oe,Pe)&&!O.hasOwnProperty(Pe)&&(Ue[Pe]=oe[Pe]);var De=arguments.length-2;if(De===1)Ue.children=ye;else if(1<De){for(var Be=Array(De),We=0;We<De;We++)Be[We]=arguments[We+2];Ue.children=Be}if(X&&X.defaultProps)for(Pe in De=X.defaultProps,De)Ue[Pe]===void 0&&(Ue[Pe]=De[Pe]);return{$$typeof:i,type:X,key:de,ref:me,props:Ue,_owner:F.current}}function I(X,oe){return{$$typeof:i,type:X.type,key:oe,ref:X.ref,props:X.props,_owner:X._owner}}function k(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function j(X){var oe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(ye){return oe[ye]})}var W=/\/+/g;function $(X,oe){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):oe.toString(36)}function se(X,oe,ye,Pe,Ue){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(de){case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case i:case e:me=!0}}if(me)return me=X,Ue=Ue(me),X=Pe===""?"."+$(me,0):Pe,P(Ue)?(ye="",X!=null&&(ye=X.replace(W,"$&/")+"/"),se(Ue,oe,ye,"",function(We){return We})):Ue!=null&&(k(Ue)&&(Ue=I(Ue,ye+(!Ue.key||me&&me.key===Ue.key?"":(""+Ue.key).replace(W,"$&/")+"/")+X)),oe.push(Ue)),1;if(me=0,Pe=Pe===""?".":Pe+":",P(X))for(var De=0;De<X.length;De++){de=X[De];var Be=Pe+$(de,De);me+=se(de,oe,ye,Be,Ue)}else if(Be=g(X),typeof Be=="function")for(X=Be.call(X),De=0;!(de=X.next()).done;)de=de.value,Be=Pe+$(de,De++),me+=se(de,oe,ye,Be,Ue);else if(de==="object")throw oe=String(X),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return me}function Z(X,oe,ye){if(X==null)return X;var Pe=[],Ue=0;return se(X,Pe,"","",function(de){return oe.call(ye,de,Ue++)}),Pe}function te(X){if(X._status===-1){var oe=X._result;oe=oe(),oe.then(function(ye){(X._status===0||X._status===-1)&&(X._status=1,X._result=ye)},function(ye){(X._status===0||X._status===-1)&&(X._status=2,X._result=ye)}),X._status===-1&&(X._status=0,X._result=oe)}if(X._status===1)return X._result.default;throw X._result}var q={current:null},z={transition:null},J={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:z,ReactCurrentOwner:F};function V(){throw Error("act(...) is not supported in production builds of React.")}return bn.Children={map:Z,forEach:function(X,oe,ye){Z(X,function(){oe.apply(this,arguments)},ye)},count:function(X){var oe=0;return Z(X,function(){oe++}),oe},toArray:function(X){return Z(X,function(oe){return oe})||[]},only:function(X){if(!k(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},bn.Component=b,bn.Fragment=t,bn.Profiler=r,bn.PureComponent=E,bn.StrictMode=n,bn.Suspense=c,bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,bn.act=V,bn.cloneElement=function(X,oe,ye){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Pe=x({},X.props),Ue=X.key,de=X.ref,me=X._owner;if(oe!=null){if(oe.ref!==void 0&&(de=oe.ref,me=F.current),oe.key!==void 0&&(Ue=""+oe.key),X.type&&X.type.defaultProps)var De=X.type.defaultProps;for(Be in oe)D.call(oe,Be)&&!O.hasOwnProperty(Be)&&(Pe[Be]=oe[Be]===void 0&&De!==void 0?De[Be]:oe[Be])}var Be=arguments.length-2;if(Be===1)Pe.children=ye;else if(1<Be){De=Array(Be);for(var We=0;We<Be;We++)De[We]=arguments[We+2];Pe.children=De}return{$$typeof:i,type:X.type,key:Ue,ref:de,props:Pe,_owner:me}},bn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},bn.createElement=U,bn.createFactory=function(X){var oe=U.bind(null,X);return oe.type=X,oe},bn.createRef=function(){return{current:null}},bn.forwardRef=function(X){return{$$typeof:a,render:X}},bn.isValidElement=k,bn.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:te}},bn.memo=function(X,oe){return{$$typeof:f,type:X,compare:oe===void 0?null:oe}},bn.startTransition=function(X){var oe=z.transition;z.transition={};try{X()}finally{z.transition=oe}},bn.unstable_act=V,bn.useCallback=function(X,oe){return q.current.useCallback(X,oe)},bn.useContext=function(X){return q.current.useContext(X)},bn.useDebugValue=function(){},bn.useDeferredValue=function(X){return q.current.useDeferredValue(X)},bn.useEffect=function(X,oe){return q.current.useEffect(X,oe)},bn.useId=function(){return q.current.useId()},bn.useImperativeHandle=function(X,oe,ye){return q.current.useImperativeHandle(X,oe,ye)},bn.useInsertionEffect=function(X,oe){return q.current.useInsertionEffect(X,oe)},bn.useLayoutEffect=function(X,oe){return q.current.useLayoutEffect(X,oe)},bn.useMemo=function(X,oe){return q.current.useMemo(X,oe)},bn.useReducer=function(X,oe,ye){return q.current.useReducer(X,oe,ye)},bn.useRef=function(X){return q.current.useRef(X)},bn.useState=function(X){return q.current.useState(X)},bn.useSyncExternalStore=function(X,oe,ye){return q.current.useSyncExternalStore(X,oe,ye)},bn.useTransition=function(){return q.current.useTransition()},bn.version="18.3.1",bn}var YE;function Yp(){return YE||(YE=1,J1.exports=Dk()),J1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function kk(){if(qE)return Jm;qE=1;var i=Yp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,f){var p,m={},g=null,y=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(p in c)n.call(c,p)&&!s.hasOwnProperty(p)&&(m[p]=c[p]);if(a&&a.defaultProps)for(p in c=a.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:a,key:g,ref:y,props:m,_owner:r.current}}return Jm.Fragment=t,Jm.jsx=o,Jm.jsxs=o,Jm}var $E;function Fk(){return $E||($E=1,Z1.exports=kk()),Z1.exports}var N=Fk(),Vv={},Q1={exports:{}},Js={},eS={exports:{}},tS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function Ok(){return KE||(KE=1,(function(i){function e(z,J){var V=z.length;z.push(J);e:for(;0<V;){var X=V-1>>>1,oe=z[X];if(0<r(oe,J))z[X]=J,z[V]=oe,V=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],V=z.pop();if(V!==J){z[0]=V;e:for(var X=0,oe=z.length,ye=oe>>>1;X<ye;){var Pe=2*(X+1)-1,Ue=z[Pe],de=Pe+1,me=z[de];if(0>r(Ue,V))de<oe&&0>r(me,Ue)?(z[X]=me,z[de]=V,X=de):(z[X]=Ue,z[Pe]=V,X=Pe);else if(de<oe&&0>r(me,V))z[X]=me,z[de]=V,X=de;else break e}}return J}function r(z,J){var V=z.sortIndex-J.sortIndex;return V!==0?V:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var c=[],f=[],p=1,m=null,g=3,y=!1,x=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var J=t(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=z)n(f),J.sortIndex=J.expirationTime,e(c,J);else break;J=t(f)}}function P(z){if(M=!1,C(z),!x)if(t(c)!==null)x=!0,te(D);else{var J=t(f);J!==null&&q(P,J.startTime-z)}}function D(z,J){x=!1,M&&(M=!1,_(U),U=-1),y=!0;var V=g;try{for(C(J),m=t(c);m!==null&&(!(m.expirationTime>J)||z&&!j());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var oe=X(m.expirationTime<=J);J=i.unstable_now(),typeof oe=="function"?m.callback=oe:m===t(c)&&n(c),C(J)}else n(c);m=t(c)}if(m!==null)var ye=!0;else{var Pe=t(f);Pe!==null&&q(P,Pe.startTime-J),ye=!1}return ye}finally{m=null,g=V,y=!1}}var F=!1,O=null,U=-1,I=5,k=-1;function j(){return!(i.unstable_now()-k<I)}function W(){if(O!==null){var z=i.unstable_now();k=z;var J=!0;try{J=O(!0,z)}finally{J?$():(F=!1,O=null)}}else F=!1}var $;if(typeof E=="function")$=function(){E(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=W,$=function(){Z.postMessage(null)}}else $=function(){b(W,0)};function te(z){O=z,F||(F=!0,$())}function q(z,J){U=b(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){x||y||(x=!0,te(D))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var V=g;g=J;try{return z()}finally{g=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=g;g=z;try{return J()}finally{g=V}},i.unstable_scheduleCallback=function(z,J,V){var X=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,z={id:p++,callback:J,priorityLevel:z,startTime:V,expirationTime:oe,sortIndex:-1},V>X?(z.sortIndex=V,e(f,z),t(c)===null&&z===t(f)&&(M?(_(U),U=-1):M=!0,q(P,V-X))):(z.sortIndex=oe,e(c,z),x||y||(x=!0,te(D))),z},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(z){var J=g;return function(){var V=g;g=J;try{return z.apply(this,arguments)}finally{g=V}}}})(tS)),tS}var ZE;function Uk(){return ZE||(ZE=1,eS.exports=Ok()),eS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function Bk(){if(JE)return Js;JE=1;var i=Yp(),e=Uk();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(r[l]=u,l=0;l<u.length;l++)n.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(l){return c.call(m,l)?!0:c.call(p,l)?!1:f.test(l)?m[l]=!0:(p[l]=!0,!1)}function y(l,u,v,w){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:v!==null?!v.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,u,v,w){if(u===null||typeof u>"u"||y(l,u,v,w))return!0;if(w)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function M(l,u,v,w,A,L,G){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=v,this.propertyName=l,this.type=u,this.sanitizeURL=L,this.removeEmptyString=G}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new M(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];b[u]=new M(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new M(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new M(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new M(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new M(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new M(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new M(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new M(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,E);b[u]=new M(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,E);b[u]=new M(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,E);b[u]=new M(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new M(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new M(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,u,v,w){var A=b.hasOwnProperty(u)?b[u]:null;(A!==null?A.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,v,A,w)&&(v=null),w||A===null?g(u)&&(v===null?l.removeAttribute(u):l.setAttribute(u,""+v)):A.mustUseProperty?l[A.propertyName]=v===null?A.type===3?!1:"":v:(u=A.attributeName,w=A.attributeNamespace,v===null?l.removeAttribute(u):(A=A.type,v=A===3||A===4&&v===!0?"":""+v,w?l.setAttributeNS(w,u,v):l.setAttribute(u,v))))}var P=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),z=Symbol.iterator;function J(l){return l===null||typeof l!="object"?null:(l=z&&l[z]||l["@@iterator"],typeof l=="function"?l:null)}var V=Object.assign,X;function oe(l){if(X===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+l}var ye=!1;function Pe(l,u){if(!l||ye)return"";ye=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ee){var w=Ee}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ee){w=Ee}l.call(u.prototype)}else{try{throw Error()}catch(Ee){w=Ee}l()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var A=Ee.stack.split(`
`),L=w.stack.split(`
`),G=A.length-1,ie=L.length-1;1<=G&&0<=ie&&A[G]!==L[ie];)ie--;for(;1<=G&&0<=ie;G--,ie--)if(A[G]!==L[ie]){if(G!==1||ie!==1)do if(G--,ie--,0>ie||A[G]!==L[ie]){var ue=`
`+A[G].replace(" at new "," at ");return l.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",l.displayName)),ue}while(1<=G&&0<=ie);break}}}finally{ye=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?oe(l):""}function Ue(l){switch(l.tag){case 5:return oe(l.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function de(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case F:return"Portal";case I:return"Profiler";case U:return"StrictMode";case $:return"Suspense";case se:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case j:return(l.displayName||"Context")+".Consumer";case k:return(l._context.displayName||"Context")+".Provider";case W:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return u=l.displayName||null,u!==null?u:de(l.type)||"Memo";case te:u=l._payload,l=l._init;try{return de(l(u))}catch{}}return null}function me(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(u);case 8:return u===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function De(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Be(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function We(l){var u=Be(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),w=""+l[u];if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,L=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function(G){w=""+G,L.call(this,G)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(G){w=""+G},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function yt(l){l._valueTracker||(l._valueTracker=We(l))}function Bt(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var v=u.getValue(),w="";return l&&(w=Be(l)?l.checked?"true":"false":l.value),l=w,l!==v?(u.setValue(l),!0):!1}function qe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ce(l,u){var v=u.checked;return V({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??l._wrapperState.initialChecked})}function ke(l,u){var v=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;v=De(u.value!=null?u.value:v),l._wrapperState={initialChecked:w,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Le(l,u){u=u.checked,u!=null&&C(l,"checked",u,!1)}function ae(l,u){Le(l,u);var v=De(u.value),w=u.type;if(v!=null)w==="number"?(v===0&&l.value===""||l.value!=v)&&(l.value=""+v):l.value!==""+v&&(l.value=""+v);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?wt(l,u.type,v):u.hasOwnProperty("defaultValue")&&wt(l,u.type,De(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Q(l,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,v||u===l.value||(l.value=u),l.defaultValue=u}v=l.name,v!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,v!==""&&(l.name=v)}function wt(l,u,v){(u!=="number"||qe(l.ownerDocument)!==l)&&(v==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+v&&(l.defaultValue=""+v))}var Je=Array.isArray;function st(l,u,v,w){if(l=l.options,u){u={};for(var A=0;A<v.length;A++)u["$"+v[A]]=!0;for(v=0;v<l.length;v++)A=u.hasOwnProperty("$"+l[v].value),l[v].selected!==A&&(l[v].selected=A),A&&w&&(l[v].defaultSelected=!0)}else{for(v=""+De(v),u=null,A=0;A<l.length;A++){if(l[A].value===v){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function Ye(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return V({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function K(l,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(t(92));if(Je(v)){if(1<v.length)throw Error(t(93));v=v[0]}u=v}u==null&&(u=""),v=u}l._wrapperState={initialValue:De(v)}}function H(l,u){var v=De(u.value),w=De(u.defaultValue);v!=null&&(v=""+v,v!==l.value&&(l.value=v),u.defaultValue==null&&l.defaultValue!==v&&(l.defaultValue=v)),w!=null&&(l.defaultValue=""+w)}function le(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Te(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Te(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var be,ct=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,w,A){MSApp.execUnsafeLocalFunction(function(){return l(u,v,w,A)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=be.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function $e(l,u){if(u){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=u;return}}l.textContent=u}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(l){vt.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),pt[u]=pt[l]})});function He(l,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||pt.hasOwnProperty(l)&&pt[l]?(""+u).trim():u+"px"}function et(l,u){l=l.style;for(var v in u)if(u.hasOwnProperty(v)){var w=v.indexOf("--")===0,A=He(v,u[v],w);v==="float"&&(v="cssFloat"),w?l.setProperty(v,A):l[v]=A}}var xt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(l,u){if(u){if(xt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Qe(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function re(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ot=null,Ve=null,it=null;function Oe(l){if(l=Sa(l)){if(typeof ot!="function")throw Error(t(280));var u=l.stateNode;u&&(u=ch(u),ot(l.stateNode,l.type,u))}}function Ne(l){Ve?it?it.push(l):it=[l]:Ve=l}function tt(){if(Ve){var l=Ve,u=it;if(it=Ve=null,Oe(l),u)for(l=0;l<u.length;l++)Oe(u[l])}}function Vt(l,u){return l(u)}function Mn(){}var ft=!1;function Ct(l,u,v){if(ft)return l(u,v);ft=!0;try{return Vt(l,u,v)}finally{ft=!1,(Ve!==null||it!==null)&&(Mn(),tt())}}function Kt(l,u){var v=l.stateNode;if(v===null)return null;var w=ch(v);if(w===null)return null;v=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(t(231,u,typeof v));return v}var ut=!1;if(a)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){ut=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{ut=!1}function Ot(l,u,v,w,A,L,G,ie,ue){var Ee=Array.prototype.slice.call(arguments,3);try{u.apply(v,Ee)}catch(Xe){this.onError(Xe)}}var Wt=!1,Jn=null,Zt=!1,In=null,vi={onError:function(l){Wt=!0,Jn=l}};function Kn(l,u,v,w,A,L,G,ie,ue){Wt=!1,Jn=null,Ot.apply(vi,arguments)}function Wn(l,u,v,w,A,L,G,ie,ue){if(Kn.apply(this,arguments),Wt){if(Wt){var Ee=Jn;Wt=!1,Jn=null}else throw Error(t(198));Zt||(Zt=!0,In=Ee)}}function dn(l){var u=l,v=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(v=u.return),l=u.return;while(l)}return u.tag===3?v:null}function ur(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Un(l){if(dn(l)!==l)throw Error(t(188))}function Vi(l){var u=l.alternate;if(!u){if(u=dn(l),u===null)throw Error(t(188));return u!==l?null:l}for(var v=l,w=u;;){var A=v.return;if(A===null)break;var L=A.alternate;if(L===null){if(w=A.return,w!==null){v=w;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===v)return Un(A),l;if(L===w)return Un(A),u;L=L.sibling}throw Error(t(188))}if(v.return!==w.return)v=A,w=L;else{for(var G=!1,ie=A.child;ie;){if(ie===v){G=!0,v=A,w=L;break}if(ie===w){G=!0,w=A,v=L;break}ie=ie.sibling}if(!G){for(ie=L.child;ie;){if(ie===v){G=!0,v=L,w=A;break}if(ie===w){G=!0,w=L,v=A;break}ie=ie.sibling}if(!G)throw Error(t(189))}}if(v.alternate!==w)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?l:u}function Mr(l){return l=Vi(l),l!==null?yi(l):null}function yi(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=yi(l);if(u!==null)return u;l=l.sibling}return null}var xi=e.unstable_scheduleCallback,Ti=e.unstable_cancelCallback,po=e.unstable_shouldYield,Ya=e.unstable_requestPaint,an=e.unstable_now,Y=e.unstable_getCurrentPriorityLevel,fe=e.unstable_ImmediatePriority,Me=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,ve=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,at=null,Fe=null;function je(l){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(at,l,void 0,(l.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:en,At=Math.log,bt=Math.LN2;function en(l){return l>>>=0,l===0?32:31-(At(l)/bt|0)|0}var yn=64,hn=4194304;function Bn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ln(l,u){var v=l.pendingLanes;if(v===0)return 0;var w=0,A=l.suspendedLanes,L=l.pingedLanes,G=v&268435455;if(G!==0){var ie=G&~A;ie!==0?w=Bn(ie):(L&=G,L!==0&&(w=Bn(L)))}else G=v&~A,G!==0?w=Bn(G):L!==0&&(w=Bn(L));if(w===0)return 0;if(u!==0&&u!==w&&(u&A)===0&&(A=w&-w,L=u&-u,A>=L||A===16&&(L&4194240)!==0))return u;if((w&4)!==0&&(w|=v&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=w;0<u;)v=31-dt(u),A=1<<v,w|=l[v],u&=~A;return w}function Gt(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(l,u){for(var v=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,L=l.pendingLanes;0<L;){var G=31-dt(L),ie=1<<G,ue=A[G];ue===-1?((ie&v)===0||(ie&w)!==0)&&(A[G]=Gt(ie,u)):ue<=u&&(l.expiredLanes|=ie),L&=~ie}}function _n(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Qn(){var l=yn;return yn<<=1,(yn&4194240)===0&&(yn=64),l}function Go(l){for(var u=[],v=0;31>v;v++)u.push(l);return u}function Hi(l,u,v){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-dt(u),l[u]=v}function Cl(l,u){var v=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<v;){var A=31-dt(v),L=1<<A;u[A]=0,w[A]=-1,l[A]=-1,v&=~L}}function Nn(l,u){var v=l.entangledLanes|=u;for(l=l.entanglements;v;){var w=31-dt(v),A=1<<w;A&u|l[w]&u&&(l[w]|=u),v&=~A}}var Jt=0;function Gi(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Ei,Zi,Cu,zs,Nd,Pl=!1,Dd=[],Wo=null,gn=null,ha=null,Rl=new Map,Pu=new Map,qa=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wi(l,u){switch(l){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Rl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(u.pointerId)}}function Il(l,u,v,w,A,L){return l===null||l.nativeEvent!==L?(l={blockedOn:u,domEventName:v,eventSystemFlags:w,nativeEvent:L,targetContainers:[A]},u!==null&&(u=Sa(u),u!==null&&Zi(u)),l):(l.eventSystemFlags|=w,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function M1(l,u,v,w,A){switch(u){case"focusin":return Wo=Il(Wo,l,u,v,w,A),!0;case"dragenter":return gn=Il(gn,l,u,v,w,A),!0;case"mouseover":return ha=Il(ha,l,u,v,w,A),!0;case"pointerover":var L=A.pointerId;return Rl.set(L,Il(Rl.get(L)||null,l,u,v,w,A)),!0;case"gotpointercapture":return L=A.pointerId,Pu.set(L,Il(Pu.get(L)||null,l,u,v,w,A)),!0}return!1}function kd(l){var u=tl(l.target);if(u!==null){var v=dn(u);if(v!==null){if(u=v.tag,u===13){if(u=ur(v),u!==null){l.blockedOn=u,Nd(l.priority,function(){Cu(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Fd(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var v=Hs(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(v===null){v=l.nativeEvent;var w=new v.constructor(v.type,v);Yt=w,v.target.dispatchEvent(w),Yt=null}else return u=Sa(v),u!==null&&Zi(u),l.blockedOn=v,!1;u.shift()}return!0}function jc(l,u,v){Fd(l)&&v.delete(u)}function jo(){Pl=!1,Wo!==null&&Fd(Wo)&&(Wo=null),gn!==null&&Fd(gn)&&(gn=null),ha!==null&&Fd(ha)&&(ha=null),Rl.forEach(jc),Pu.forEach(jc)}function Xc(l,u){l.blockedOn===u&&(l.blockedOn=null,Pl||(Pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jo)))}function Yc(l){function u(A){return Xc(A,l)}if(0<Dd.length){Xc(Dd[0],l);for(var v=1;v<Dd.length;v++){var w=Dd[v];w.blockedOn===l&&(w.blockedOn=null)}}for(Wo!==null&&Xc(Wo,l),gn!==null&&Xc(gn,l),ha!==null&&Xc(ha,l),Rl.forEach(u),Pu.forEach(u),v=0;v<qa.length;v++)w=qa[v],w.blockedOn===l&&(w.blockedOn=null);for(;0<qa.length&&(v=qa[0],v.blockedOn===null);)kd(v),v.blockedOn===null&&qa.shift()}var kr=P.ReactCurrentBatchConfig,Vs=!0;function Od(l,u,v,w){var A=Jt,L=kr.transition;kr.transition=null;try{Jt=1,Ud(l,u,v,w)}finally{Jt=A,kr.transition=L}}function sm(l,u,v,w){var A=Jt,L=kr.transition;kr.transition=null;try{Jt=4,Ud(l,u,v,w)}finally{Jt=A,kr.transition=L}}function Ud(l,u,v,w){if(Vs){var A=Hs(l,u,v,w);if(A===null)rh(l,u,w,Bd,v),Wi(l,w);else if(M1(A,l,u,v,w))w.stopPropagation();else if(Wi(l,w),u&4&&-1<w1.indexOf(l)){for(;A!==null;){var L=Sa(A);if(L!==null&&Ei(L),L=Hs(l,u,v,w),L===null&&rh(l,u,w,Bd,v),L===A)break;A=L}A!==null&&w.stopPropagation()}else rh(l,u,w,null,v)}}var Bd=null;function Hs(l,u,v,w){if(Bd=null,l=re(w),l=tl(l),l!==null)if(u=dn(l),u===null)l=null;else if(v=u.tag,v===13){if(l=ur(u),l!==null)return l;l=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Bd=l,null}function K0(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y()){case fe:return 1;case Me:return 4;case Se:case ve:return 16;case Ke:return 536870912;default:return 16}default:return 16}}var mo=null,om=null,Kr=null;function qc(){if(Kr)return Kr;var l,u=om,v=u.length,w,A="value"in mo?mo.value:mo.textContent,L=A.length;for(l=0;l<v&&u[l]===A[l];l++);var G=v-l;for(w=1;w<=G&&u[v-w]===A[L-w];w++);return Kr=A.slice(l,1<w?1-w:void 0)}function Ll(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function pa(){return!0}function zd(){return!1}function Fr(l){function u(v,w,A,L,G){this._reactName=v,this._targetInst=A,this.type=w,this.nativeEvent=L,this.target=G,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(v=l[ie],this[ie]=v?v(L):L[ie]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?pa:zd,this.isPropagationStopped=zd,this}return V(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),u}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Fr(Nl),Dl=V({},Nl,{view:0,detail:0}),Ru=Fr(Dl),Zr,Gs,Ws,Iu=V({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ws&&(Ws&&l.type==="mousemove"?(Zr=l.screenX-Ws.screenX,Gs=l.screenY-Ws.screenY):Gs=Zr=0,Ws=l),Zr)},movementY:function(l){return"movementY"in l?l.movementY:Gs}}),am=Fr(Iu),ma=V({},Iu,{dataTransfer:0}),$a=Fr(ma),Vd=V({},Dl,{relatedTarget:0}),Hd=Fr(Vd),Gd=V({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=Fr(Gd),J0=V({},Nl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),lm=Fr(J0),Wd=V({},Nl,{data:0}),um=Fr(Wd),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=cm[l])?!!u[l]:!1}function Ka(){return Lu}var jd=V({},Dl,{key:function(l){if(l.key){var u=Q0[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ll(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ev[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(l){return l.type==="keypress"?Ll(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ll(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Xd=Fr(jd),js=V({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=Fr(js),kl=V({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),ga=Fr(kl),va=V({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fl=Fr(va),tv=V({},Iu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),fm=Fr(tv),dm=[9,13,27,32],Or=a&&"CompositionEvent"in window,cr=null;a&&"documentMode"in document&&(cr=document.documentMode);var ci=a&&"TextEvent"in window&&!cr,Nu=a&&(!Or||cr&&8<cr&&11>=cr),Xs=" ",hm=!1;function pm(l,u){switch(l){case"keyup":return dm.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yd(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Za=!1;function nv(l,u){switch(l){case"compositionend":return Yd(u);case"keypress":return u.which!==32?null:(hm=!0,Xs);case"textInput":return l=u.data,l===Xs&&hm?null:l;default:return null}}function Kc(l,u){if(Za)return l==="compositionend"||!Or&&pm(l,u)?(l=qc(),Kr=om=mo=null,Za=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Nu&&u.locale!=="ko"?null:u.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Du[l.type]:u==="textarea"}function ku(l,u,v,w){Ne(w),u=sh(u,"onChange"),0<u.length&&(v=new $c("onChange","change",null,v,w),l.push({event:v,listeners:u}))}var Ja=null,Fu=null;function iv(l){zu(l,0)}function ya(l){var u=Ai(l);if(Bt(u))return l}function rv(l,u){if(l==="change")return u}var Ou=!1;if(a){var Jr;if(a){var Ol="oninput"in document;if(!Ol){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),Ol=typeof Ul.oninput=="function"}Jr=Ol}else Jr=!1;Ou=Jr&&(!document.documentMode||9<document.documentMode)}function go(){Ja&&(Ja.detachEvent("onpropertychange",$d),Fu=Ja=null)}function $d(l){if(l.propertyName==="value"&&ya(Fu)){var u=[];ku(u,Fu,l,re(l)),Ct(iv,u)}}function Uu(l,u,v){l==="focusin"?(go(),Ja=u,Fu=v,Ja.attachEvent("onpropertychange",$d)):l==="focusout"&&go()}function sv(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ya(Fu)}function mm(l,u){if(l==="click")return ya(u)}function pi(l,u){if(l==="input"||l==="change")return ya(u)}function Kd(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ms=typeof Object.is=="function"?Object.is:Kd;function Bl(l,u){if(ms(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var v=Object.keys(l),w=Object.keys(u);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var A=v[w];if(!c.call(u,A)||!ms(l[A],u[A]))return!1}return!0}function Zc(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function gs(l,u){var v=Zc(l);l=0;for(var w;v;){if(v.nodeType===3){if(w=l+v.textContent.length,l<=u&&w>=u)return{node:v,offset:u-l};l=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Zc(v)}}function zl(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?zl(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function mi(){for(var l=window,u=qe();u instanceof l.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)l=u.contentWindow;else break;u=qe(l.document)}return u}function Ji(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Qi(l){var u=mi(),v=l.focusedElem,w=l.selectionRange;if(u!==v&&v&&v.ownerDocument&&zl(v.ownerDocument.documentElement,v)){if(w!==null&&Ji(v)){if(u=w.start,l=w.end,l===void 0&&(l=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(l,v.value.length);else if(l=(u=v.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var A=v.textContent.length,L=Math.min(w.start,A);w=w.end===void 0?L:Math.min(w.end,A),!l.extend&&L>w&&(A=w,w=L,L=A),A=gs(v,L);var G=gs(v,w);A&&G&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),l.removeAllRanges(),L>w?(l.addRange(u),l.extend(G.node,G.offset)):(u.setEnd(G.node,G.offset),l.addRange(u)))}}for(u=[],l=v;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)l=u[v],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Zd=a&&"documentMode"in document&&11>=document.documentMode,Xo=null,Vl=null,Jc=null,er=!1;function Jd(l,u,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;er||Xo==null||Xo!==qe(w)||(w=Xo,"selectionStart"in w&&Ji(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Jc&&Bl(Jc,w)||(Jc=w,w=sh(Vl,"onSelect"),0<w.length&&(u=new $c("onSelect","select",null,u,v),l.push({event:u,listeners:w}),u.target=Xo)))}function Bu(l,u){var v={};return v[l.toLowerCase()]=u.toLowerCase(),v["Webkit"+l]="webkit"+u,v["Moz"+l]="moz"+u,v}var Qa={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},vo={},yo={};a&&(yo=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Yo(l){if(vo[l])return vo[l];if(!Qa[l])return l;var u=Qa[l],v;for(v in u)if(u.hasOwnProperty(v)&&v in yo)return vo[l]=u[v];return l}var Qc=Yo("animationend"),ef=Yo("animationiteration"),gm=Yo("animationstart"),vm=Yo("transitionend"),ym=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(l,u){ym.set(l,u),s(u,[l])}for(var Qd=0;Qd<xm.length;Qd++){var tf=xm[Qd],nf=tf.toLowerCase(),ov=tf[0].toUpperCase()+tf.slice(1);xa(nf,"on"+ov)}xa(Qc,"onAnimationEnd"),xa(ef,"onAnimationIteration"),xa(gm,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(vm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function th(l,u,v){var w=l.type||"unknown-event";l.currentTarget=v,Wn(w,u,void 0,l),l.currentTarget=null}function zu(l,u){u=(u&4)!==0;for(var v=0;v<l.length;v++){var w=l[v],A=w.event;w=w.listeners;e:{var L=void 0;if(u)for(var G=w.length-1;0<=G;G--){var ie=w[G],ue=ie.instance,Ee=ie.currentTarget;if(ie=ie.listener,ue!==L&&A.isPropagationStopped())break e;th(A,ie,Ee),L=ue}else for(G=0;G<w.length;G++){if(ie=w[G],ue=ie.instance,Ee=ie.currentTarget,ie=ie.listener,ue!==L&&A.isPropagationStopped())break e;th(A,ie,Ee),L=ue}}}if(Zt)throw l=In,Zt=!1,In=null,l}function ei(l,u){var v=u[Wl];v===void 0&&(v=u[Wl]=new Set);var w=l+"__bubble";v.has(w)||(ih(u,l,2,!1),v.add(w))}function nh(l,u,v){var w=0;u&&(w|=4),ih(v,l,w,u)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Vu(l){if(!l[rf]){l[rf]=!0,n.forEach(function(v){v!=="selectionchange"&&(eh.has(v)||nh(v,!1,l),nh(v,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[rf]||(u[rf]=!0,nh("selectionchange",!1,u))}}function ih(l,u,v,w){switch(K0(u)){case 1:var A=Od;break;case 4:A=sm;break;default:A=Ud}v=A.bind(null,u,v,l),A=void 0,!ut||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(u,v,{capture:!0,passive:A}):l.addEventListener(u,v,!0):A!==void 0?l.addEventListener(u,v,{passive:A}):l.addEventListener(u,v,!1)}function rh(l,u,v,w,A){var L=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var ie=w.stateNode.containerInfo;if(ie===A||ie.nodeType===8&&ie.parentNode===A)break;if(G===4)for(G=w.return;G!==null;){var ue=G.tag;if((ue===3||ue===4)&&(ue=G.stateNode.containerInfo,ue===A||ue.nodeType===8&&ue.parentNode===A))return;G=G.return}for(;ie!==null;){if(G=tl(ie),G===null)return;if(ue=G.tag,ue===5||ue===6){w=L=G;continue e}ie=ie.parentNode}}w=w.return}Ct(function(){var Ee=L,Xe=re(v),Ze=[];e:{var Ge=ym.get(l);if(Ge!==void 0){var Mt=$c,Lt=l;switch(l){case"keypress":if(Ll(v)===0)break e;case"keydown":case"keyup":Mt=Xd;break;case"focusin":Lt="focus",Mt=Hd;break;case"focusout":Lt="blur",Mt=Hd;break;case"beforeblur":case"afterblur":Mt=Hd;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=$a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=ga;break;case Qc:case ef:case gm:Mt=Z0;break;case vm:Mt=Fl;break;case"scroll":Mt=Ru;break;case"wheel":Mt=fm;break;case"copy":case"cut":case"paste":Mt=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=ps}var Ft=(u&4)!==0,Xi=!Ft&&l==="scroll",xe=Ft?Ge!==null?Ge+"Capture":null:Ge;Ft=[];for(var he=Ee,_e;he!==null;){_e=he;var rt=_e.stateNode;if(_e.tag===5&&rt!==null&&(_e=rt,xe!==null&&(rt=Kt(he,xe),rt!=null&&Ft.push(Hu(he,rt,_e)))),Xi)break;he=he.return}0<Ft.length&&(Ge=new Mt(Ge,Lt,null,v,Xe),Ze.push({event:Ge,listeners:Ft}))}}if((u&7)===0){e:{if(Ge=l==="mouseover"||l==="pointerover",Mt=l==="mouseout"||l==="pointerout",Ge&&v!==Yt&&(Lt=v.relatedTarget||v.fromElement)&&(tl(Lt)||Lt[vs]))break e;if((Mt||Ge)&&(Ge=Xe.window===Xe?Xe:(Ge=Xe.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Mt?(Lt=v.relatedTarget||v.toElement,Mt=Ee,Lt=Lt?tl(Lt):null,Lt!==null&&(Xi=dn(Lt),Lt!==Xi||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Mt=null,Lt=Ee),Mt!==Lt)){if(Ft=am,rt="onMouseLeave",xe="onMouseEnter",he="mouse",(l==="pointerout"||l==="pointerover")&&(Ft=ps,rt="onPointerLeave",xe="onPointerEnter",he="pointer"),Xi=Mt==null?Ge:Ai(Mt),_e=Lt==null?Ge:Ai(Lt),Ge=new Ft(rt,he+"leave",Mt,v,Xe),Ge.target=Xi,Ge.relatedTarget=_e,rt=null,tl(Xe)===Ee&&(Ft=new Ft(xe,he+"enter",Lt,v,Xe),Ft.target=_e,Ft.relatedTarget=Xi,rt=Ft),Xi=rt,Mt&&Lt)t:{for(Ft=Mt,xe=Lt,he=0,_e=Ft;_e;_e=Hl(_e))he++;for(_e=0,rt=xe;rt;rt=Hl(rt))_e++;for(;0<he-_e;)Ft=Hl(Ft),he--;for(;0<_e-he;)xe=Hl(xe),_e--;for(;he--;){if(Ft===xe||xe!==null&&Ft===xe.alternate)break t;Ft=Hl(Ft),xe=Hl(xe)}Ft=null}else Ft=null;Mt!==null&&av(Ze,Ge,Mt,Ft,!1),Lt!==null&&Xi!==null&&av(Ze,Xi,Lt,Ft,!0)}}e:{if(Ge=Ee?Ai(Ee):window,Mt=Ge.nodeName&&Ge.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Ge.type==="file")var zt=rv;else if(qd(Ge))if(Ou)zt=pi;else{zt=sv;var qt=Uu}else(Mt=Ge.nodeName)&&Mt.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(zt=mm);if(zt&&(zt=zt(l,Ee))){ku(Ze,zt,v,Xe);break e}qt&&qt(l,Ge,Ee),l==="focusout"&&(qt=Ge._wrapperState)&&qt.controlled&&Ge.type==="number"&&wt(Ge,"number",Ge.value)}switch(qt=Ee?Ai(Ee):window,l){case"focusin":(qd(qt)||qt.contentEditable==="true")&&(Xo=qt,Vl=Ee,Jc=null);break;case"focusout":Jc=Vl=Xo=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":er=!1,Jd(Ze,v,Xe);break;case"selectionchange":if(Zd)break;case"keydown":case"keyup":Jd(Ze,v,Xe)}var $t;if(Or)e:{switch(l){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Za?pm(l,v)&&(nn="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(nn="onCompositionStart");nn&&(Nu&&v.locale!=="ko"&&(Za||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Za&&($t=qc()):(mo=Xe,om="value"in mo?mo.value:mo.textContent,Za=!0)),qt=sh(Ee,nn),0<qt.length&&(nn=new um(nn,l,null,v,Xe),Ze.push({event:nn,listeners:qt}),$t?nn.data=$t:($t=Yd(v),$t!==null&&(nn.data=$t)))),($t=ci?nv(l,v):Kc(l,v))&&(Ee=sh(Ee,"onBeforeInput"),0<Ee.length&&(Xe=new um("onBeforeInput","beforeinput",null,v,Xe),Ze.push({event:Xe,listeners:Ee}),Xe.data=$t))}zu(Ze,u)})}function Hu(l,u,v){return{instance:l,listener:u,currentTarget:v}}function sh(l,u){for(var v=u+"Capture",w=[];l!==null;){var A=l,L=A.stateNode;A.tag===5&&L!==null&&(A=L,L=Kt(l,v),L!=null&&w.unshift(Hu(l,L,A)),L=Kt(l,u),L!=null&&w.push(Hu(l,L,A))),l=l.return}return w}function Hl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function av(l,u,v,w,A){for(var L=u._reactName,G=[];v!==null&&v!==w;){var ie=v,ue=ie.alternate,Ee=ie.stateNode;if(ue!==null&&ue===w)break;ie.tag===5&&Ee!==null&&(ie=Ee,A?(ue=Kt(v,L),ue!=null&&G.unshift(Hu(v,ue,ie))):A||(ue=Kt(v,L),ue!=null&&G.push(Hu(v,ue,ie)))),v=v.return}G.length!==0&&l.push({event:u,listeners:G})}var b1=/\r\n?/g,lv=/\u0000|\uFFFD/g;function _m(l){return(typeof l=="string"?l:""+l).replace(b1,`
`).replace(lv,"")}function sf(l,u,v){if(u=_m(u),_m(l)!==u&&v)throw Error(t(425))}function of(){}var Gu=null,Sm=null;function wm(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(l){return oh.resolve(null).then(l).catch(uv)}:Mm;function uv(l){setTimeout(function(){throw l})}function ah(l,u){var v=u,w=0;do{var A=v.nextSibling;if(l.removeChild(v),A&&A.nodeType===8)if(v=A.data,v==="/$"){if(w===0){l.removeChild(A),Yc(u);return}w--}else v!=="$"&&v!=="$?"&&v!=="$!"||w++;v=A}while(v);Yc(u)}function _a(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Tm(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return l;u--}else v==="/$"&&u++}l=l.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),ji="__reactFiber$"+Gl,Wu="__reactProps$"+Gl,vs="__reactContainer$"+Gl,Wl="__reactEvents$"+Gl,lh="__reactListeners$"+Gl,uh="__reactHandles$"+Gl;function tl(l){var u=l[ji];if(u)return u;for(var v=l.parentNode;v;){if(u=v[vs]||v[ji]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(l=Tm(l);l!==null;){if(v=l[ji])return v;l=Tm(l)}return u}l=v,v=l.parentNode}return null}function Sa(l){return l=l[ji]||l[vs],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ai(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function ch(l){return l[Wu]||null}var Em=[],tr=-1;function _i(l){return{current:l}}function ti(l){0>tr||(l.current=Em[tr],Em[tr]=null,tr--)}function Zn(l,u){tr++,Em[tr]=l.current,l.current=u}var wa={},fr=_i(wa),Ur=_i(!1),Ma=wa;function jl(l,u){var v=l.type.contextTypes;if(!v)return wa;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var A={},L;for(L in v)A[L]=u[L];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function br(l){return l=l.childContextTypes,l!=null}function af(){ti(Ur),ti(fr)}function Am(l,u,v){if(fr.current!==wa)throw Error(t(168));Zn(fr,u),Zn(Ur,v)}function lf(l,u,v){var w=l.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var A in w)if(!(A in u))throw Error(t(108,me(l)||"Unknown",A));return V({},v,w)}function Xl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||wa,Ma=fr.current,Zn(fr,l),Zn(Ur,Ur.current),!0}function Cm(l,u,v){var w=l.stateNode;if(!w)throw Error(t(169));v?(l=lf(l,u,Ma),w.__reactInternalMemoizedMergedChildContext=l,ti(Ur),ti(fr),Zn(fr,l)):ti(Ur),Zn(Ur,v)}var xo=null,uf=!1,fh=!1;function cf(l){xo===null?xo=[l]:xo.push(l)}function cv(l){uf=!0,cf(l)}function qo(){if(!fh&&xo!==null){fh=!0;var l=0,u=Jt;try{var v=xo;for(Jt=1;l<v.length;l++){var w=v[l];do w=w(!0);while(w!==null)}xo=null,uf=!1}catch(A){throw xo!==null&&(xo=xo.slice(l+1)),xi(fe,qo),A}finally{Jt=u,fh=!1}}return null}var Yl=[],Qr=0,dh=null,hh=0,Br=[],nr=0,ql=null,lt=1,Ys="";function ba(l,u){Yl[Qr++]=hh,Yl[Qr++]=dh,dh=l,hh=u}function Pm(l,u,v){Br[nr++]=lt,Br[nr++]=Ys,Br[nr++]=ql,ql=l;var w=lt;l=Ys;var A=32-dt(w)-1;w&=~(1<<A),v+=1;var L=32-dt(u)+A;if(30<L){var G=A-A%5;L=(w&(1<<G)-1).toString(32),w>>=G,A-=G,lt=1<<32-dt(u)+A|v<<A|w,Ys=L+l}else lt=1<<L|v<<A|w,Ys=l}function Rm(l){l.return!==null&&(ba(l,1),Pm(l,1,0))}function Ta(l){for(;l===dh;)dh=Yl[--Qr],Yl[Qr]=null,hh=Yl[--Qr],Yl[Qr]=null;for(;l===ql;)ql=Br[--nr],Br[nr]=null,Ys=Br[--nr],Br[nr]=null,lt=Br[--nr],Br[nr]=null}var dr=null,zr=null,ri=!1,qs=null;function Im(l,u){var v=Qo(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=l,u=l.deletions,u===null?(l.deletions=[v],l.flags|=16):u.push(v)}function Lm(l,u){switch(l.tag){case 5:var v=l.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,dr=l,zr=_a(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,dr=l,zr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=ql!==null?{id:lt,overflow:Ys}:null,l.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=Qo(18,null,null,0),v.stateNode=u,v.return=l,l.child=v,dr=l,zr=null,!0):!1;default:return!1}}function ph(l){return(l.mode&1)!==0&&(l.flags&128)===0}function mh(l){if(ri){var u=zr;if(u){var v=u;if(!Lm(l,u)){if(ph(l))throw Error(t(418));u=_a(v.nextSibling);var w=dr;u&&Lm(l,u)?Im(w,v):(l.flags=l.flags&-4097|2,ri=!1,dr=l)}}else{if(ph(l))throw Error(t(418));l.flags=l.flags&-4097|2,ri=!1,dr=l}}}function gh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;dr=l}function ju(l){if(l!==dr)return!1;if(!ri)return gh(l),ri=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!wm(l.type,l.memoizedProps)),u&&(u=zr)){if(ph(l))throw Nm(),Error(t(418));for(;u;)Im(l,u),u=_a(u.nextSibling)}if(gh(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="/$"){if(u===0){zr=_a(l.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}l=l.nextSibling}zr=null}}else zr=dr?_a(l.stateNode.nextSibling):null;return!0}function Nm(){for(var l=zr;l;)l=_a(l.nextSibling)}function nl(){zr=dr=null,ri=!1}function Xu(l){qs===null?qs=[l]:qs.push(l)}var E1=P.ReactCurrentBatchConfig;function ff(l,u,v){if(l=v.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var w=v.stateNode}if(!w)throw Error(t(147,l));var A=w,L=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===L?u.ref:(u=function(G){var ie=A.refs;G===null?delete ie[L]:ie[L]=G},u._stringRef=L,u)}if(typeof l!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,l))}return l}function df(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Dm(l){var u=l._init;return u(l._payload)}function km(l){function u(xe,he){if(l){var _e=xe.deletions;_e===null?(xe.deletions=[he],xe.flags|=16):_e.push(he)}}function v(xe,he){if(!l)return null;for(;he!==null;)u(xe,he),he=he.sibling;return null}function w(xe,he){for(xe=new Map;he!==null;)he.key!==null?xe.set(he.key,he):xe.set(he.index,he),he=he.sibling;return xe}function A(xe,he){return xe=ic(xe,he),xe.index=0,xe.sibling=null,xe}function L(xe,he,_e){return xe.index=_e,l?(_e=xe.alternate,_e!==null?(_e=_e.index,_e<he?(xe.flags|=2,he):_e):(xe.flags|=2,he)):(xe.flags|=1048576,he)}function G(xe){return l&&xe.alternate===null&&(xe.flags|=2),xe}function ie(xe,he,_e,rt){return he===null||he.tag!==6?(he=j1(_e,xe.mode,rt),he.return=xe,he):(he=A(he,_e),he.return=xe,he)}function ue(xe,he,_e,rt){var zt=_e.type;return zt===O?Xe(xe,he,_e.props.children,rt,_e.key):he!==null&&(he.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===te&&Dm(zt)===he.type)?(rt=A(he,_e.props),rt.ref=ff(xe,he,_e),rt.return=xe,rt):(rt=Nv(_e.type,_e.key,_e.props,null,xe.mode,rt),rt.ref=ff(xe,he,_e),rt.return=xe,rt)}function Ee(xe,he,_e,rt){return he===null||he.tag!==4||he.stateNode.containerInfo!==_e.containerInfo||he.stateNode.implementation!==_e.implementation?(he=X1(_e,xe.mode,rt),he.return=xe,he):(he=A(he,_e.children||[]),he.return=xe,he)}function Xe(xe,he,_e,rt,zt){return he===null||he.tag!==7?(he=Pf(_e,xe.mode,rt,zt),he.return=xe,he):(he=A(he,_e),he.return=xe,he)}function Ze(xe,he,_e){if(typeof he=="string"&&he!==""||typeof he=="number")return he=j1(""+he,xe.mode,_e),he.return=xe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return _e=Nv(he.type,he.key,he.props,null,xe.mode,_e),_e.ref=ff(xe,null,he),_e.return=xe,_e;case F:return he=X1(he,xe.mode,_e),he.return=xe,he;case te:var rt=he._init;return Ze(xe,rt(he._payload),_e)}if(Je(he)||J(he))return he=Pf(he,xe.mode,_e,null),he.return=xe,he;df(xe,he)}return null}function Ge(xe,he,_e,rt){var zt=he!==null?he.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return zt!==null?null:ie(xe,he,""+_e,rt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case D:return _e.key===zt?ue(xe,he,_e,rt):null;case F:return _e.key===zt?Ee(xe,he,_e,rt):null;case te:return zt=_e._init,Ge(xe,he,zt(_e._payload),rt)}if(Je(_e)||J(_e))return zt!==null?null:Xe(xe,he,_e,rt,null);df(xe,_e)}return null}function Mt(xe,he,_e,rt,zt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return xe=xe.get(_e)||null,ie(he,xe,""+rt,zt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case D:return xe=xe.get(rt.key===null?_e:rt.key)||null,ue(he,xe,rt,zt);case F:return xe=xe.get(rt.key===null?_e:rt.key)||null,Ee(he,xe,rt,zt);case te:var qt=rt._init;return Mt(xe,he,_e,qt(rt._payload),zt)}if(Je(rt)||J(rt))return xe=xe.get(_e)||null,Xe(he,xe,rt,zt,null);df(he,rt)}return null}function Lt(xe,he,_e,rt){for(var zt=null,qt=null,$t=he,nn=he=0,Cr=null;$t!==null&&nn<_e.length;nn++){$t.index>nn?(Cr=$t,$t=null):Cr=$t.sibling;var Gn=Ge(xe,$t,_e[nn],rt);if(Gn===null){$t===null&&($t=Cr);break}l&&$t&&Gn.alternate===null&&u(xe,$t),he=L(Gn,he,nn),qt===null?zt=Gn:qt.sibling=Gn,qt=Gn,$t=Cr}if(nn===_e.length)return v(xe,$t),ri&&ba(xe,nn),zt;if($t===null){for(;nn<_e.length;nn++)$t=Ze(xe,_e[nn],rt),$t!==null&&(he=L($t,he,nn),qt===null?zt=$t:qt.sibling=$t,qt=$t);return ri&&ba(xe,nn),zt}for($t=w(xe,$t);nn<_e.length;nn++)Cr=Mt($t,xe,nn,_e[nn],rt),Cr!==null&&(l&&Cr.alternate!==null&&$t.delete(Cr.key===null?nn:Cr.key),he=L(Cr,he,nn),qt===null?zt=Cr:qt.sibling=Cr,qt=Cr);return l&&$t.forEach(function(rc){return u(xe,rc)}),ri&&ba(xe,nn),zt}function Ft(xe,he,_e,rt){var zt=J(_e);if(typeof zt!="function")throw Error(t(150));if(_e=zt.call(_e),_e==null)throw Error(t(151));for(var qt=zt=null,$t=he,nn=he=0,Cr=null,Gn=_e.next();$t!==null&&!Gn.done;nn++,Gn=_e.next()){$t.index>nn?(Cr=$t,$t=null):Cr=$t.sibling;var rc=Ge(xe,$t,Gn.value,rt);if(rc===null){$t===null&&($t=Cr);break}l&&$t&&rc.alternate===null&&u(xe,$t),he=L(rc,he,nn),qt===null?zt=rc:qt.sibling=rc,qt=rc,$t=Cr}if(Gn.done)return v(xe,$t),ri&&ba(xe,nn),zt;if($t===null){for(;!Gn.done;nn++,Gn=_e.next())Gn=Ze(xe,Gn.value,rt),Gn!==null&&(he=L(Gn,he,nn),qt===null?zt=Gn:qt.sibling=Gn,qt=Gn);return ri&&ba(xe,nn),zt}for($t=w(xe,$t);!Gn.done;nn++,Gn=_e.next())Gn=Mt($t,xe,nn,Gn.value,rt),Gn!==null&&(l&&Gn.alternate!==null&&$t.delete(Gn.key===null?nn:Gn.key),he=L(Gn,he,nn),qt===null?zt=Gn:qt.sibling=Gn,qt=Gn);return l&&$t.forEach(function(Nk){return u(xe,Nk)}),ri&&ba(xe,nn),zt}function Xi(xe,he,_e,rt){if(typeof _e=="object"&&_e!==null&&_e.type===O&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case D:e:{for(var zt=_e.key,qt=he;qt!==null;){if(qt.key===zt){if(zt=_e.type,zt===O){if(qt.tag===7){v(xe,qt.sibling),he=A(qt,_e.props.children),he.return=xe,xe=he;break e}}else if(qt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===te&&Dm(zt)===qt.type){v(xe,qt.sibling),he=A(qt,_e.props),he.ref=ff(xe,qt,_e),he.return=xe,xe=he;break e}v(xe,qt);break}else u(xe,qt);qt=qt.sibling}_e.type===O?(he=Pf(_e.props.children,xe.mode,rt,_e.key),he.return=xe,xe=he):(rt=Nv(_e.type,_e.key,_e.props,null,xe.mode,rt),rt.ref=ff(xe,he,_e),rt.return=xe,xe=rt)}return G(xe);case F:e:{for(qt=_e.key;he!==null;){if(he.key===qt)if(he.tag===4&&he.stateNode.containerInfo===_e.containerInfo&&he.stateNode.implementation===_e.implementation){v(xe,he.sibling),he=A(he,_e.children||[]),he.return=xe,xe=he;break e}else{v(xe,he);break}else u(xe,he);he=he.sibling}he=X1(_e,xe.mode,rt),he.return=xe,xe=he}return G(xe);case te:return qt=_e._init,Xi(xe,he,qt(_e._payload),rt)}if(Je(_e))return Lt(xe,he,_e,rt);if(J(_e))return Ft(xe,he,_e,rt);df(xe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,he!==null&&he.tag===6?(v(xe,he.sibling),he=A(he,_e),he.return=xe,xe=he):(v(xe,he),he=j1(_e,xe.mode,rt),he.return=xe,xe=he),G(xe)):v(xe,he)}return Xi}var $l=km(!0),hf=km(!1),Kl=_i(null),Zl=null,Ea=null,Yu=null;function Jl(){Yu=Ea=Zl=null}function pf(l){var u=Kl.current;ti(Kl),l._currentValue=u}function mf(l,u,v){for(;l!==null;){var w=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),l===v)break;l=l.return}}function il(l,u){Zl=l,Yu=Ea=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(pn=!0),l.firstContext=null)}function ys(l){var u=l._currentValue;if(Yu!==l)if(l={context:l,memoizedValue:u,next:null},Ea===null){if(Zl===null)throw Error(t(308));Ea=l,Zl.dependencies={lanes:0,firstContext:l}}else Ea=Ea.next=l;return u}var Aa=null;function Fm(l){Aa===null?Aa=[l]:Aa.push(l)}function gf(l,u,v,w){var A=u.interleaved;return A===null?(v.next=v,Fm(u)):(v.next=A.next,A.next=v),u.interleaved=v,_o(l,w)}function _o(l,u){l.lanes|=u;var v=l.alternate;for(v!==null&&(v.lanes|=u),v=l,l=l.return;l!==null;)l.childLanes|=u,v=l.alternate,v!==null&&(v.childLanes|=u),v=l,l=l.return;return v.tag===3?v.stateNode:null}var Xn=!1;function cn(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ci(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Yn(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function fi(l,u,v){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(zn&2)!==0){var A=w.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),w.pending=u,_o(l,v)}return A=w.interleaved,A===null?(u.next=u,Fm(w)):(u.next=A.next,A.next=u),w.interleaved=u,_o(l,v)}function Tr(l,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var w=u.lanes;w&=l.pendingLanes,v|=w,u.lanes=v,Nn(l,v)}}function Ql(l,u){var v=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var A=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};L===null?A=L=G:L=L.next=G,v=v.next}while(v!==null);L===null?A=L=u:L=L.next=u}else A=L=u;v={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:w.shared,effects:w.effects},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=u:l.next=u,v.lastBaseUpdate=u}function Si(l,u,v,w){var A=l.updateQueue;Xn=!1;var L=A.firstBaseUpdate,G=A.lastBaseUpdate,ie=A.shared.pending;if(ie!==null){A.shared.pending=null;var ue=ie,Ee=ue.next;ue.next=null,G===null?L=Ee:G.next=Ee,G=ue;var Xe=l.alternate;Xe!==null&&(Xe=Xe.updateQueue,ie=Xe.lastBaseUpdate,ie!==G&&(ie===null?Xe.firstBaseUpdate=Ee:ie.next=Ee,Xe.lastBaseUpdate=ue))}if(L!==null){var Ze=A.baseState;G=0,Xe=Ee=ue=null,ie=L;do{var Ge=ie.lane,Mt=ie.eventTime;if((w&Ge)===Ge){Xe!==null&&(Xe=Xe.next={eventTime:Mt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var Lt=l,Ft=ie;switch(Ge=u,Mt=v,Ft.tag){case 1:if(Lt=Ft.payload,typeof Lt=="function"){Ze=Lt.call(Mt,Ze,Ge);break e}Ze=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Ft.payload,Ge=typeof Lt=="function"?Lt.call(Mt,Ze,Ge):Lt,Ge==null)break e;Ze=V({},Ze,Ge);break e;case 2:Xn=!0}}ie.callback!==null&&ie.lane!==0&&(l.flags|=64,Ge=A.effects,Ge===null?A.effects=[ie]:Ge.push(ie))}else Mt={eventTime:Mt,lane:Ge,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Xe===null?(Ee=Xe=Mt,ue=Ze):Xe=Xe.next=Mt,G|=Ge;if(ie=ie.next,ie===null){if(ie=A.shared.pending,ie===null)break;Ge=ie,ie=Ge.next,Ge.next=null,A.lastBaseUpdate=Ge,A.shared.pending=null}}while(!0);if(Xe===null&&(ue=Ze),A.baseState=ue,A.firstBaseUpdate=Ee,A.lastBaseUpdate=Xe,u=A.shared.interleaved,u!==null){A=u;do G|=A.lane,A=A.next;while(A!==u)}else L===null&&(A.shared.lanes=0);Tf|=G,l.lanes=G,l.memoizedState=Ze}}function qu(l,u,v){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var w=l[u],A=w.callback;if(A!==null){if(w.callback=null,w=v,typeof A!="function")throw Error(t(191,A));A.call(w)}}}var $o={},xs=_i($o),eu=_i($o),Ca=_i($o);function Di(l){if(l===$o)throw Error(t(174));return l}function vf(l,u){switch(Zn(Ca,u),Zn(eu,l),Zn(xs,$o),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Re(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Re(u,l)}ti(xs),Zn(xs,u)}function rl(){ti(xs),ti(eu),ti(Ca)}function tu(l){Di(Ca.current);var u=Di(xs.current),v=Re(u,l.type);u!==v&&(Zn(eu,l),Zn(xs,v))}function $u(l){eu.current===l&&(ti(xs),ti(eu))}var si=_i(0);function So(l){for(var u=l;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ku=[];function Ko(){for(var l=0;l<Ku.length;l++)Ku[l]._workInProgressVersionPrimary=null;Ku.length=0}var nu=P.ReactCurrentDispatcher,iu=P.ReactCurrentBatchConfig,Pa=0,ni=null,wi=null,On=null,wo=!1,Er=!1,sl=0,es=0;function hr(){throw Error(t(321))}function yf(l,u){if(u===null)return!1;for(var v=0;v<u.length&&v<l.length;v++)if(!ms(l[v],u[v]))return!1;return!0}function xf(l,u,v,w,A,L){if(Pa=L,ni=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,nu.current=l===null||l.memoizedState===null?vv:yv,l=v(w,A),Er){L=0;do{if(Er=!1,sl=0,25<=L)throw Error(t(301));L+=1,On=wi=null,u.updateQueue=null,nu.current=xv,l=v(w,A)}while(Er)}if(nu.current=Mh,u=wi!==null&&wi.next!==null,Pa=0,On=wi=ni=null,wo=!1,u)throw Error(t(300));return l}function Om(){var l=sl!==0;return sl=0,l}function pr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?ni.memoizedState=On=l:On=On.next=l,On}function _s(){if(wi===null){var l=ni.alternate;l=l!==null?l.memoizedState:null}else l=wi.next;var u=On===null?ni.memoizedState:On.next;if(u!==null)On=u,wi=l;else{if(l===null)throw Error(t(310));wi=l,l={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},On===null?ni.memoizedState=On=l:On=On.next=l}return On}function Zu(l,u){return typeof u=="function"?u(l):u}function _f(l){var u=_s(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var w=wi,A=w.baseQueue,L=v.pending;if(L!==null){if(A!==null){var G=A.next;A.next=L.next,L.next=G}w.baseQueue=A=L,v.pending=null}if(A!==null){L=A.next,w=w.baseState;var ie=G=null,ue=null,Ee=L;do{var Xe=Ee.lane;if((Pa&Xe)===Xe)ue!==null&&(ue=ue.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:l(w,Ee.action);else{var Ze={lane:Xe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ue===null?(ie=ue=Ze,G=w):ue=ue.next=Ze,ni.lanes|=Xe,Tf|=Xe}Ee=Ee.next}while(Ee!==null&&Ee!==L);ue===null?G=w:ue.next=ie,ms(w,u.memoizedState)||(pn=!0),u.memoizedState=w,u.baseState=G,u.baseQueue=ue,v.lastRenderedState=w}if(l=v.interleaved,l!==null){A=l;do L=A.lane,ni.lanes|=L,Tf|=L,A=A.next;while(A!==l)}else A===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function Ra(l){var u=_s(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var w=v.dispatch,A=v.pending,L=u.memoizedState;if(A!==null){v.pending=null;var G=A=A.next;do L=l(L,G.action),G=G.next;while(G!==A);ms(L,u.memoizedState)||(pn=!0),u.memoizedState=L,u.baseQueue===null&&(u.baseState=L),v.lastRenderedState=L}return[L,w]}function Um(){}function Bm(l,u){var v=ni,w=_s(),A=u(),L=!ms(w.memoizedState,A);if(L&&(w.memoizedState=A,pn=!0),w=w.queue,Hm(fv.bind(null,v,w,l),[l]),w.getSnapshot!==u||L||On!==null&&On.memoizedState.tag&1){if(v.flags|=2048,Mo(9,Sf.bind(null,v,w,A,u),void 0,null),Ar===null)throw Error(t(349));(Pa&30)!==0||vh(v,u,A)}return A}function vh(l,u,v){l.flags|=16384,l={getSnapshot:u,value:v},u=ni.updateQueue,u===null?(u={lastEffect:null,stores:null},ni.updateQueue=u,u.stores=[l]):(v=u.stores,v===null?u.stores=[l]:v.push(l))}function Sf(l,u,v,w){u.value=v,u.getSnapshot=w,dv(u)&&zm(l)}function fv(l,u,v){return v(function(){dv(u)&&zm(l)})}function dv(l){var u=l.getSnapshot;l=l.value;try{var v=u();return!ms(l,v)}catch{return!0}}function zm(l){var u=_o(l,1);u!==null&&ka(u,l,1,-1)}function Vm(l){var u=pr();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:l},u.queue=l,l=l.dispatch=ru.bind(null,ni,l),[u.memoizedState,l]}function Mo(l,u,v,w){return l={tag:l,create:u,destroy:v,deps:w,next:null},u=ni.updateQueue,u===null?(u={lastEffect:null,stores:null},ni.updateQueue=u,u.lastEffect=l.next=l):(v=u.lastEffect,v===null?u.lastEffect=l.next=l:(w=v.next,v.next=l,l.next=w,u.lastEffect=l)),l}function hv(){return _s().memoizedState}function Zo(l,u,v,w){var A=pr();ni.flags|=l,A.memoizedState=Mo(1|u,v,void 0,w===void 0?null:w)}function wf(l,u,v,w){var A=_s();w=w===void 0?null:w;var L=void 0;if(wi!==null){var G=wi.memoizedState;if(L=G.destroy,w!==null&&yf(w,G.deps)){A.memoizedState=Mo(u,v,L,w);return}}ni.flags|=l,A.memoizedState=Mo(1|u,v,L,w)}function Vr(l,u){return Zo(8390656,8,l,u)}function Hm(l,u){return wf(2048,8,l,u)}function Gm(l,u){return wf(4,2,l,u)}function pv(l,u){return wf(4,4,l,u)}function mv(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Wm(l,u,v){return v=v!=null?v.concat([l]):null,wf(4,4,mv.bind(null,u,l),v)}function yh(){}function gv(l,u){var v=_s();u=u===void 0?null:u;var w=v.memoizedState;return w!==null&&u!==null&&yf(u,w[1])?w[0]:(v.memoizedState=[l,u],l)}function Ss(l,u){var v=_s();u=u===void 0?null:u;var w=v.memoizedState;return w!==null&&u!==null&&yf(u,w[1])?w[0]:(l=l(),v.memoizedState=[l,u],l)}function xh(l,u,v){return(Pa&21)===0?(l.baseState&&(l.baseState=!1,pn=!0),l.memoizedState=v):(ms(v,u)||(v=Qn(),ni.lanes|=v,Tf|=v,l.baseState=!0),u)}function A1(l,u){var v=Jt;Jt=v!==0&&4>v?v:4,l(!0);var w=iu.transition;iu.transition={};try{l(!1),u()}finally{Jt=v,iu.transition=w}}function Ia(){return _s().memoizedState}function _h(l,u,v){var w=tc(l);if(v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},Mf(l))Sh(u,v);else if(v=gf(l,u,v,w),v!==null){var A=Ms();ka(v,l,w,A),wh(v,u,w)}}function ru(l,u,v){var w=tc(l),A={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(Mf(l))Sh(u,A);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=u.lastRenderedReducer,L!==null))try{var G=u.lastRenderedState,ie=L(G,v);if(A.hasEagerState=!0,A.eagerState=ie,ms(ie,G)){var ue=u.interleaved;ue===null?(A.next=A,Fm(u)):(A.next=ue.next,ue.next=A),u.interleaved=A;return}}catch{}finally{}v=gf(l,u,A,w),v!==null&&(A=Ms(),ka(v,l,w,A),wh(v,u,w))}}function Mf(l){var u=l.alternate;return l===ni||u!==null&&u===ni}function Sh(l,u){Er=wo=!0;var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}function wh(l,u,v){if((v&4194240)!==0){var w=u.lanes;w&=l.pendingLanes,v|=w,u.lanes=v,Nn(l,v)}}var Mh={readContext:ys,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},vv={readContext:ys,useCallback:function(l,u){return pr().memoizedState=[l,u===void 0?null:u],l},useContext:ys,useEffect:Vr,useImperativeHandle:function(l,u,v){return v=v!=null?v.concat([l]):null,Zo(4194308,4,mv.bind(null,u,l),v)},useLayoutEffect:function(l,u){return Zo(4194308,4,l,u)},useInsertionEffect:function(l,u){return Zo(4,2,l,u)},useMemo:function(l,u){var v=pr();return u=u===void 0?null:u,l=l(),v.memoizedState=[l,u],l},useReducer:function(l,u,v){var w=pr();return u=v!==void 0?v(u):u,w.memoizedState=w.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},w.queue=l,l=l.dispatch=_h.bind(null,ni,l),[w.memoizedState,l]},useRef:function(l){var u=pr();return l={current:l},u.memoizedState=l},useState:Vm,useDebugValue:yh,useDeferredValue:function(l){return pr().memoizedState=l},useTransition:function(){var l=Vm(!1),u=l[0];return l=A1.bind(null,l[1]),pr().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,v){var w=ni,A=pr();if(ri){if(v===void 0)throw Error(t(407));v=v()}else{if(v=u(),Ar===null)throw Error(t(349));(Pa&30)!==0||vh(w,u,v)}A.memoizedState=v;var L={value:v,getSnapshot:u};return A.queue=L,Vr(fv.bind(null,w,L,l),[l]),w.flags|=2048,Mo(9,Sf.bind(null,w,L,v,u),void 0,null),v},useId:function(){var l=pr(),u=Ar.identifierPrefix;if(ri){var v=Ys,w=lt;v=(w&~(1<<32-dt(w)-1)).toString(32)+v,u=":"+u+"R"+v,v=sl++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=es++,u=":"+u+"r"+v.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},yv={readContext:ys,useCallback:gv,useContext:ys,useEffect:Hm,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:pv,useMemo:Ss,useReducer:_f,useRef:hv,useState:function(){return _f(Zu)},useDebugValue:yh,useDeferredValue:function(l){var u=_s();return xh(u,wi.memoizedState,l)},useTransition:function(){var l=_f(Zu)[0],u=_s().memoizedState;return[l,u]},useMutableSource:Um,useSyncExternalStore:Bm,useId:Ia,unstable_isNewReconciler:!1},xv={readContext:ys,useCallback:gv,useContext:ys,useEffect:Hm,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:pv,useMemo:Ss,useReducer:Ra,useRef:hv,useState:function(){return Ra(Zu)},useDebugValue:yh,useDeferredValue:function(l){var u=_s();return wi===null?u.memoizedState=l:xh(u,wi.memoizedState,l)},useTransition:function(){var l=Ra(Zu)[0],u=_s().memoizedState;return[l,u]},useMutableSource:Um,useSyncExternalStore:Bm,useId:Ia,unstable_isNewReconciler:!1};function $s(l,u){if(l&&l.defaultProps){u=V({},u),l=l.defaultProps;for(var v in l)u[v]===void 0&&(u[v]=l[v]);return u}return u}function bf(l,u,v,w){u=l.memoizedState,v=v(w,u),v=v==null?u:V({},u,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var bh={isMounted:function(l){return(l=l._reactInternals)?dn(l)===l:!1},enqueueSetState:function(l,u,v){l=l._reactInternals;var w=Ms(),A=tc(l),L=Yn(w,A);L.payload=u,v!=null&&(L.callback=v),u=fi(l,L,A),u!==null&&(ka(u,l,A,w),Tr(u,l,A))},enqueueReplaceState:function(l,u,v){l=l._reactInternals;var w=Ms(),A=tc(l),L=Yn(w,A);L.tag=1,L.payload=u,v!=null&&(L.callback=v),u=fi(l,L,A),u!==null&&(ka(u,l,A,w),Tr(u,l,A))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var v=Ms(),w=tc(l),A=Yn(v,w);A.tag=2,u!=null&&(A.callback=u),u=fi(l,A,w),u!==null&&(ka(u,l,w,v),Tr(u,l,w))}};function _v(l,u,v,w,A,L,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,L,G):u.prototype&&u.prototype.isPureReactComponent?!Bl(v,w)||!Bl(A,L):!0}function d(l,u,v){var w=!1,A=wa,L=u.contextType;return typeof L=="object"&&L!==null?L=ys(L):(A=br(u)?Ma:fr.current,w=u.contextTypes,L=(w=w!=null)?jl(l,A):wa),u=new u(v,L),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=bh,l.stateNode=u,u._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=L),u}function h(l,u,v,w){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,w),u.state!==l&&bh.enqueueReplaceState(u,u.state,null)}function S(l,u,v,w){var A=l.stateNode;A.props=v,A.state=l.memoizedState,A.refs={},cn(l);var L=u.contextType;typeof L=="object"&&L!==null?A.context=ys(L):(L=br(u)?Ma:fr.current,A.context=jl(l,L)),A.state=l.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(bf(l,u,L,v),A.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&bh.enqueueReplaceState(A,A.state,null),Si(l,v,A,w),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function T(l,u){try{var v="",w=u;do v+=Ue(w),w=w.return;while(w);var A=v}catch(L){A=`
Error generating stack: `+L.message+`
`+L.stack}return{value:l,source:u,stack:A,digest:null}}function R(l,u,v){return{value:l,source:null,stack:v??null,digest:u??null}}function B(l,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var ne=typeof WeakMap=="function"?WeakMap:Map;function pe(l,u,v){v=Yn(-1,v),v.tag=3,v.payload={element:null};var w=u.value;return v.callback=function(){Av||(Av=!0,O1=w),B(l,u)},v}function Ie(l,u,v){v=Yn(-1,v),v.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var A=u.value;v.payload=function(){return w(A)},v.callback=function(){B(l,u)}}var L=l.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(v.callback=function(){B(l,u),typeof w!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})}),v}function nt(l,u,v){var w=l.pingCache;if(w===null){w=l.pingCache=new ne;var A=new Set;w.set(u,A)}else A=w.get(u),A===void 0&&(A=new Set,w.set(u,A));A.has(v)||(A.add(v),l=wk.bind(null,l,u,v),u.then(l,l))}function Et(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function rn(l,u,v,w,A){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=Yn(-1,1),u.tag=2,fi(v,u,1))),v.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var Xt=P.ReactCurrentOwner,pn=!1;function _t(l,u,v,w){u.child=l===null?hf(u,null,v,w):$l(u,l.child,v,w)}function mr(l,u,v,w,A){v=v.render;var L=u.ref;return il(u,A),w=xf(l,u,v,w,L,A),v=Om(),l!==null&&!pn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,su(l,u,A)):(ri&&v&&Rm(u),u.flags|=1,_t(l,u,w,A),u.child)}function ws(l,u,v,w,A){if(l===null){var L=v.type;return typeof L=="function"&&!W1(L)&&L.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=L,we(l,u,L,w,A)):(l=Nv(v.type,null,w,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(L=l.child,(l.lanes&A)===0){var G=L.memoizedProps;if(v=v.compare,v=v!==null?v:Bl,v(G,w)&&l.ref===u.ref)return su(l,u,A)}return u.flags|=1,l=ic(L,w),l.ref=u.ref,l.return=u,u.child=l}function we(l,u,v,w,A){if(l!==null){var L=l.memoizedProps;if(Bl(L,w)&&l.ref===u.ref)if(pn=!1,u.pendingProps=w=L,(l.lanes&A)!==0)(l.flags&131072)!==0&&(pn=!0);else return u.lanes=l.lanes,su(l,u,A)}return mt(l,u,v,w,A)}function ge(l,u,v){var w=u.pendingProps,A=w.children,L=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(Eh,bo),bo|=v;else{if((v&1073741824)===0)return l=L!==null?L.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Zn(Eh,bo),bo|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=L!==null?L.baseLanes:v,Zn(Eh,bo),bo|=w}else L!==null?(w=L.baseLanes|v,u.memoizedState=null):w=v,Zn(Eh,bo),bo|=w;return _t(l,u,A,v),u.child}function Ae(l,u){var v=u.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function mt(l,u,v,w,A){var L=br(v)?Ma:fr.current;return L=jl(u,L),il(u,A),v=xf(l,u,v,w,L,A),w=Om(),l!==null&&!pn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,su(l,u,A)):(ri&&w&&Rm(u),u.flags|=1,_t(l,u,v,A),u.child)}function Ut(l,u,v,w,A){if(br(v)){var L=!0;Xl(u)}else L=!1;if(il(u,A),u.stateNode===null)wv(l,u),d(u,v,w),S(u,v,w,A),w=!0;else if(l===null){var G=u.stateNode,ie=u.memoizedProps;G.props=ie;var ue=G.context,Ee=v.contextType;typeof Ee=="object"&&Ee!==null?Ee=ys(Ee):(Ee=br(v)?Ma:fr.current,Ee=jl(u,Ee));var Xe=v.getDerivedStateFromProps,Ze=typeof Xe=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ze||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==w||ue!==Ee)&&h(u,G,w,Ee),Xn=!1;var Ge=u.memoizedState;G.state=Ge,Si(u,w,G,A),ue=u.memoizedState,ie!==w||Ge!==ue||Ur.current||Xn?(typeof Xe=="function"&&(bf(u,v,Xe,w),ue=u.memoizedState),(ie=Xn||_v(u,v,ie,w,Ge,ue,Ee))?(Ze||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(u.flags|=4194308)):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=ue),G.props=w,G.state=ue,G.context=Ee,w=ie):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{G=u.stateNode,Ci(l,u),ie=u.memoizedProps,Ee=u.type===u.elementType?ie:$s(u.type,ie),G.props=Ee,Ze=u.pendingProps,Ge=G.context,ue=v.contextType,typeof ue=="object"&&ue!==null?ue=ys(ue):(ue=br(v)?Ma:fr.current,ue=jl(u,ue));var Mt=v.getDerivedStateFromProps;(Xe=typeof Mt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==Ze||Ge!==ue)&&h(u,G,w,ue),Xn=!1,Ge=u.memoizedState,G.state=Ge,Si(u,w,G,A);var Lt=u.memoizedState;ie!==Ze||Ge!==Lt||Ur.current||Xn?(typeof Mt=="function"&&(bf(u,v,Mt,w),Lt=u.memoizedState),(Ee=Xn||_v(u,v,Ee,w,Ge,Lt,ue)||!1)?(Xe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,Lt,ue),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,Lt,ue)),typeof G.componentDidUpdate=="function"&&(u.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof G.componentDidUpdate!="function"||ie===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Lt),G.props=w,G.state=Lt,G.context=ue,w=Ee):(typeof G.componentDidUpdate!="function"||ie===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=1024),w=!1)}return ln(l,u,v,w,L,A)}function ln(l,u,v,w,A,L){Ae(l,u);var G=(u.flags&128)!==0;if(!w&&!G)return A&&Cm(u,v,!1),su(l,u,L);w=u.stateNode,Xt.current=u;var ie=G&&typeof v.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,l!==null&&G?(u.child=$l(u,l.child,null,L),u.child=$l(u,null,ie,L)):_t(l,u,ie,L),u.memoizedState=w.state,A&&Cm(u,v,!0),u.child}function sn(l){var u=l.stateNode;u.pendingContext?Am(l,u.pendingContext,u.pendingContext!==u.context):u.context&&Am(l,u.context,!1),vf(l,u.containerInfo)}function Dn(l,u,v,w,A){return nl(),Xu(A),u.flags|=256,_t(l,u,v,w),u.child}var ki={dehydrated:null,treeContext:null,retryLane:0};function Pn(l){return{baseLanes:l,cachePool:null,transitions:null}}function La(l,u,v){var w=u.pendingProps,A=si.current,L=!1,G=(u.flags&128)!==0,ie;if((ie=G)||(ie=l!==null&&l.memoizedState===null?!1:(A&2)!==0),ie?(L=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),Zn(si,A&1),l===null)return mh(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(G=w.children,l=w.fallback,L?(w=u.mode,L=u.child,G={mode:"hidden",children:G},(w&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=G):L=Dv(G,w,0,null),l=Pf(l,w,v,null),L.return=u,l.return=u,L.sibling=l,u.child=L,u.child.memoizedState=Pn(v),u.memoizedState=ki,l):jm(u,G));if(A=l.memoizedState,A!==null&&(ie=A.dehydrated,ie!==null))return ck(l,u,G,w,ie,A,v);if(L){L=w.fallback,G=u.mode,A=l.child,ie=A.sibling;var ue={mode:"hidden",children:w.children};return(G&1)===0&&u.child!==A?(w=u.child,w.childLanes=0,w.pendingProps=ue,u.deletions=null):(w=ic(A,ue),w.subtreeFlags=A.subtreeFlags&14680064),ie!==null?L=ic(ie,L):(L=Pf(L,G,v,null),L.flags|=2),L.return=u,w.return=u,w.sibling=L,u.child=w,w=L,L=u.child,G=l.child.memoizedState,G=G===null?Pn(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},L.memoizedState=G,L.childLanes=l.childLanes&~v,u.memoizedState=ki,w}return L=l.child,l=L.sibling,w=ic(L,{mode:"visible",children:w.children}),(u.mode&1)===0&&(w.lanes=v),w.return=u,w.sibling=null,l!==null&&(v=u.deletions,v===null?(u.deletions=[l],u.flags|=16):v.push(l)),u.child=w,u.memoizedState=null,w}function jm(l,u){return u=Dv({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Sv(l,u,v,w){return w!==null&&Xu(w),$l(u,l.child,null,v),l=jm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function ck(l,u,v,w,A,L,G){if(v)return u.flags&256?(u.flags&=-257,w=R(Error(t(422))),Sv(l,u,G,w)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(L=w.fallback,A=u.mode,w=Dv({mode:"visible",children:w.children},A,0,null),L=Pf(L,A,G,null),L.flags|=2,w.return=u,L.return=u,w.sibling=L,u.child=w,(u.mode&1)!==0&&$l(u,l.child,null,G),u.child.memoizedState=Pn(G),u.memoizedState=ki,L);if((u.mode&1)===0)return Sv(l,u,G,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ie=w.dgst;return w=ie,L=Error(t(419)),w=R(L,w,void 0),Sv(l,u,G,w)}if(ie=(G&l.childLanes)!==0,pn||ie){if(w=Ar,w!==null){switch(G&-G){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|G))!==0?0:A,A!==0&&A!==L.retryLane&&(L.retryLane=A,_o(l,A),ka(w,l,A,-1))}return G1(),w=R(Error(t(421))),Sv(l,u,G,w)}return A.data==="$?"?(u.flags|=128,u.child=l.child,u=Mk.bind(null,l),A._reactRetry=u,null):(l=L.treeContext,zr=_a(A.nextSibling),dr=u,ri=!0,qs=null,l!==null&&(Br[nr++]=lt,Br[nr++]=Ys,Br[nr++]=ql,lt=l.id,Ys=l.overflow,ql=u),u=jm(u,w.children),u.flags|=4096,u)}function mE(l,u,v){l.lanes|=u;var w=l.alternate;w!==null&&(w.lanes|=u),mf(l.return,u,v)}function C1(l,u,v,w,A){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:A}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=v,L.tailMode=A)}function gE(l,u,v){var w=u.pendingProps,A=w.revealOrder,L=w.tail;if(_t(l,u,w.children,v),w=si.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&mE(l,v,u);else if(l.tag===19)mE(l,v,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Zn(si,w),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(v=u.child,A=null;v!==null;)l=v.alternate,l!==null&&So(l)===null&&(A=v),v=v.sibling;v=A,v===null?(A=u.child,u.child=null):(A=v.sibling,v.sibling=null),C1(u,!1,A,v,L);break;case"backwards":for(v=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&So(l)===null){u.child=A;break}l=A.sibling,A.sibling=v,v=A,A=l}C1(u,!0,v,null,L);break;case"together":C1(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wv(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function su(l,u,v){if(l!==null&&(u.dependencies=l.dependencies),Tf|=u.lanes,(v&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,v=ic(l,l.pendingProps),u.child=v,v.return=u;l.sibling!==null;)l=l.sibling,v=v.sibling=ic(l,l.pendingProps),v.return=u;v.sibling=null}return u.child}function fk(l,u,v){switch(u.tag){case 3:sn(u),nl();break;case 5:tu(u);break;case 1:br(u.type)&&Xl(u);break;case 4:vf(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,A=u.memoizedProps.value;Zn(Kl,w._currentValue),w._currentValue=A;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(Zn(si,si.current&1),u.flags|=128,null):(v&u.child.childLanes)!==0?La(l,u,v):(Zn(si,si.current&1),l=su(l,u,v),l!==null?l.sibling:null);Zn(si,si.current&1);break;case 19:if(w=(v&u.childLanes)!==0,(l.flags&128)!==0){if(w)return gE(l,u,v);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Zn(si,si.current),w)break;return null;case 22:case 23:return u.lanes=0,ge(l,u,v)}return su(l,u,v)}var vE,P1,yE,xE;vE=function(l,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)l.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},P1=function(){},yE=function(l,u,v,w){var A=l.memoizedProps;if(A!==w){l=u.stateNode,Di(xs.current);var L=null;switch(v){case"input":A=Ce(l,A),w=Ce(l,w),L=[];break;case"select":A=V({},A,{value:void 0}),w=V({},w,{value:void 0}),L=[];break;case"textarea":A=Ye(l,A),w=Ye(l,w),L=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=of)}St(v,w);var G;v=null;for(Ee in A)if(!w.hasOwnProperty(Ee)&&A.hasOwnProperty(Ee)&&A[Ee]!=null)if(Ee==="style"){var ie=A[Ee];for(G in ie)ie.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(r.hasOwnProperty(Ee)?L||(L=[]):(L=L||[]).push(Ee,null));for(Ee in w){var ue=w[Ee];if(ie=A?.[Ee],w.hasOwnProperty(Ee)&&ue!==ie&&(ue!=null||ie!=null))if(Ee==="style")if(ie){for(G in ie)!ie.hasOwnProperty(G)||ue&&ue.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ue)ue.hasOwnProperty(G)&&ie[G]!==ue[G]&&(v||(v={}),v[G]=ue[G])}else v||(L||(L=[]),L.push(Ee,v)),v=ue;else Ee==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ie=ie?ie.__html:void 0,ue!=null&&ie!==ue&&(L=L||[]).push(Ee,ue)):Ee==="children"?typeof ue!="string"&&typeof ue!="number"||(L=L||[]).push(Ee,""+ue):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ee)?(ue!=null&&Ee==="onScroll"&&ei("scroll",l),L||ie===ue||(L=[])):(L=L||[]).push(Ee,ue))}v&&(L=L||[]).push("style",v);var Ee=L;(u.updateQueue=Ee)&&(u.flags|=4)}},xE=function(l,u,v,w){v!==w&&(u.flags|=4)};function Xm(l,u){if(!ri)switch(l.tailMode){case"hidden":u=l.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function ts(l){var u=l.alternate!==null&&l.alternate.child===l.child,v=0,w=0;if(u)for(var A=l.child;A!==null;)v|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)v|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=v,u}function dk(l,u,v){var w=u.pendingProps;switch(Ta(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(u),null;case 1:return br(u.type)&&af(),ts(u),null;case 3:return w=u.stateNode,rl(),ti(Ur),ti(fr),Ko(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(ju(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qs!==null&&(z1(qs),qs=null))),P1(l,u),ts(u),null;case 5:$u(u);var A=Di(Ca.current);if(v=u.type,l!==null&&u.stateNode!=null)yE(l,u,v,w,A),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(t(166));return ts(u),null}if(l=Di(xs.current),ju(u)){w=u.stateNode,v=u.type;var L=u.memoizedProps;switch(w[ji]=u,w[Wu]=L,l=(u.mode&1)!==0,v){case"dialog":ei("cancel",w),ei("close",w);break;case"iframe":case"object":case"embed":ei("load",w);break;case"video":case"audio":for(A=0;A<el.length;A++)ei(el[A],w);break;case"source":ei("error",w);break;case"img":case"image":case"link":ei("error",w),ei("load",w);break;case"details":ei("toggle",w);break;case"input":ke(w,L),ei("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!L.multiple},ei("invalid",w);break;case"textarea":K(w,L),ei("invalid",w)}St(v,L),A=null;for(var G in L)if(L.hasOwnProperty(G)){var ie=L[G];G==="children"?typeof ie=="string"?w.textContent!==ie&&(L.suppressHydrationWarning!==!0&&sf(w.textContent,ie,l),A=["children",ie]):typeof ie=="number"&&w.textContent!==""+ie&&(L.suppressHydrationWarning!==!0&&sf(w.textContent,ie,l),A=["children",""+ie]):r.hasOwnProperty(G)&&ie!=null&&G==="onScroll"&&ei("scroll",w)}switch(v){case"input":yt(w),Q(w,L,!0);break;case"textarea":yt(w),le(w);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(w.onclick=of)}w=A,u.updateQueue=w,w!==null&&(u.flags|=4)}else{G=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Te(v)),l==="http://www.w3.org/1999/xhtml"?v==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=G.createElement(v,{is:w.is}):(l=G.createElement(v),v==="select"&&(G=l,w.multiple?G.multiple=!0:w.size&&(G.size=w.size))):l=G.createElementNS(l,v),l[ji]=u,l[Wu]=w,vE(l,u,!1,!1),u.stateNode=l;e:{switch(G=Qe(v,w),v){case"dialog":ei("cancel",l),ei("close",l),A=w;break;case"iframe":case"object":case"embed":ei("load",l),A=w;break;case"video":case"audio":for(A=0;A<el.length;A++)ei(el[A],l);A=w;break;case"source":ei("error",l),A=w;break;case"img":case"image":case"link":ei("error",l),ei("load",l),A=w;break;case"details":ei("toggle",l),A=w;break;case"input":ke(l,w),A=Ce(l,w),ei("invalid",l);break;case"option":A=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},A=V({},w,{value:void 0}),ei("invalid",l);break;case"textarea":K(l,w),A=Ye(l,w),ei("invalid",l);break;default:A=w}St(v,A),ie=A;for(L in ie)if(ie.hasOwnProperty(L)){var ue=ie[L];L==="style"?et(l,ue):L==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&ct(l,ue)):L==="children"?typeof ue=="string"?(v!=="textarea"||ue!=="")&&$e(l,ue):typeof ue=="number"&&$e(l,""+ue):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(r.hasOwnProperty(L)?ue!=null&&L==="onScroll"&&ei("scroll",l):ue!=null&&C(l,L,ue,G))}switch(v){case"input":yt(l),Q(l,w,!1);break;case"textarea":yt(l),le(l);break;case"option":w.value!=null&&l.setAttribute("value",""+De(w.value));break;case"select":l.multiple=!!w.multiple,L=w.value,L!=null?st(l,!!w.multiple,L,!1):w.defaultValue!=null&&st(l,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=of)}switch(v){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ts(u),null;case 6:if(l&&u.stateNode!=null)xE(l,u,l.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(t(166));if(v=Di(Ca.current),Di(xs.current),ju(u)){if(w=u.stateNode,v=u.memoizedProps,w[ji]=u,(L=w.nodeValue!==v)&&(l=dr,l!==null))switch(l.tag){case 3:sf(w.nodeValue,v,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&sf(w.nodeValue,v,(l.mode&1)!==0)}L&&(u.flags|=4)}else w=(v.nodeType===9?v:v.ownerDocument).createTextNode(w),w[ji]=u,u.stateNode=w}return ts(u),null;case 13:if(ti(si),w=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(ri&&zr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Nm(),nl(),u.flags|=98560,L=!1;else if(L=ju(u),w!==null&&w.dehydrated!==null){if(l===null){if(!L)throw Error(t(318));if(L=u.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(t(317));L[ji]=u}else nl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ts(u),L=!1}else qs!==null&&(z1(qs),qs=null),L=!0;if(!L)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=v,u):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(si.current&1)!==0?gr===0&&(gr=3):G1())),u.updateQueue!==null&&(u.flags|=4),ts(u),null);case 4:return rl(),P1(l,u),l===null&&Vu(u.stateNode.containerInfo),ts(u),null;case 10:return pf(u.type._context),ts(u),null;case 17:return br(u.type)&&af(),ts(u),null;case 19:if(ti(si),L=u.memoizedState,L===null)return ts(u),null;if(w=(u.flags&128)!==0,G=L.rendering,G===null)if(w)Xm(L,!1);else{if(gr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(G=So(l),G!==null){for(u.flags|=128,Xm(L,!1),w=G.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=v,v=u.child;v!==null;)L=v,l=w,L.flags&=14680066,G=L.alternate,G===null?(L.childLanes=0,L.lanes=l,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=G.childLanes,L.lanes=G.lanes,L.child=G.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=G.memoizedProps,L.memoizedState=G.memoizedState,L.updateQueue=G.updateQueue,L.type=G.type,l=G.dependencies,L.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),v=v.sibling;return Zn(si,si.current&1|2),u.child}l=l.sibling}L.tail!==null&&an()>Ah&&(u.flags|=128,w=!0,Xm(L,!1),u.lanes=4194304)}else{if(!w)if(l=So(G),l!==null){if(u.flags|=128,w=!0,v=l.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),Xm(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!ri)return ts(u),null}else 2*an()-L.renderingStartTime>Ah&&v!==1073741824&&(u.flags|=128,w=!0,Xm(L,!1),u.lanes=4194304);L.isBackwards?(G.sibling=u.child,u.child=G):(v=L.last,v!==null?v.sibling=G:u.child=G,L.last=G)}return L.tail!==null?(u=L.tail,L.rendering=u,L.tail=u.sibling,L.renderingStartTime=an(),u.sibling=null,v=si.current,Zn(si,w?v&1|2:v&1),u):(ts(u),null);case 22:case 23:return H1(),w=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(u.flags|=8192),w&&(u.mode&1)!==0?(bo&1073741824)!==0&&(ts(u),u.subtreeFlags&6&&(u.flags|=8192)):ts(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function hk(l,u){switch(Ta(u),u.tag){case 1:return br(u.type)&&af(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return rl(),ti(Ur),ti(fr),Ko(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return $u(u),null;case 13:if(ti(si),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));nl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ti(si),null;case 4:return rl(),null;case 10:return pf(u.type._context),null;case 22:case 23:return H1(),null;case 24:return null;default:return null}}var Mv=!1,ns=!1,pk=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Th(l,u){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Fi(l,u,w)}else v.current=null}function R1(l,u,v){try{v()}catch(w){Fi(l,u,w)}}var _E=!1;function mk(l,u){if(Gu=Vs,l=mi(),Ji(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var A=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{v.nodeType,L.nodeType}catch{v=null;break e}var G=0,ie=-1,ue=-1,Ee=0,Xe=0,Ze=l,Ge=null;t:for(;;){for(var Mt;Ze!==v||A!==0&&Ze.nodeType!==3||(ie=G+A),Ze!==L||w!==0&&Ze.nodeType!==3||(ue=G+w),Ze.nodeType===3&&(G+=Ze.nodeValue.length),(Mt=Ze.firstChild)!==null;)Ge=Ze,Ze=Mt;for(;;){if(Ze===l)break t;if(Ge===v&&++Ee===A&&(ie=G),Ge===L&&++Xe===w&&(ue=G),(Mt=Ze.nextSibling)!==null)break;Ze=Ge,Ge=Ze.parentNode}Ze=Mt}v=ie===-1||ue===-1?null:{start:ie,end:ue}}else v=null}v=v||{start:0,end:0}}else v=null;for(Sm={focusedElem:l,selectionRange:v},Vs=!1,Pt=u;Pt!==null;)if(u=Pt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Pt=l;else for(;Pt!==null;){u=Pt;try{var Lt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Ft=Lt.memoizedProps,Xi=Lt.memoizedState,xe=u.stateNode,he=xe.getSnapshotBeforeUpdate(u.elementType===u.type?Ft:$s(u.type,Ft),Xi);xe.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var _e=u.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(rt){Fi(u,u.return,rt)}if(l=u.sibling,l!==null){l.return=u.return,Pt=l;break}Pt=u.return}return Lt=_E,_E=!1,Lt}function Ym(l,u,v){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&l)===l){var L=A.destroy;A.destroy=void 0,L!==void 0&&R1(u,v,L)}A=A.next}while(A!==w)}}function bv(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&l)===l){var w=v.create;v.destroy=w()}v=v.next}while(v!==u)}}function I1(l){var u=l.ref;if(u!==null){var v=l.stateNode;switch(l.tag){case 5:l=v;break;default:l=v}typeof u=="function"?u(l):u.current=l}}function SE(l){var u=l.alternate;u!==null&&(l.alternate=null,SE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[ji],delete u[Wu],delete u[Wl],delete u[lh],delete u[uh])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function wE(l){return l.tag===5||l.tag===3||l.tag===4}function ME(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||wE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function L1(l,u,v){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(l,u):v.insertBefore(l,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(l,v)):(u=v,u.appendChild(l)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=of));else if(w!==4&&(l=l.child,l!==null))for(L1(l,u,v),l=l.sibling;l!==null;)L1(l,u,v),l=l.sibling}function N1(l,u,v){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?v.insertBefore(l,u):v.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(N1(l,u,v),l=l.sibling;l!==null;)N1(l,u,v),l=l.sibling}var Hr=null,Na=!1;function Ju(l,u,v){for(v=v.child;v!==null;)bE(l,u,v),v=v.sibling}function bE(l,u,v){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(at,v)}catch{}switch(v.tag){case 5:ns||Th(v,u);case 6:var w=Hr,A=Na;Hr=null,Ju(l,u,v),Hr=w,Na=A,Hr!==null&&(Na?(l=Hr,v=v.stateNode,l.nodeType===8?l.parentNode.removeChild(v):l.removeChild(v)):Hr.removeChild(v.stateNode));break;case 18:Hr!==null&&(Na?(l=Hr,v=v.stateNode,l.nodeType===8?ah(l.parentNode,v):l.nodeType===1&&ah(l,v),Yc(l)):ah(Hr,v.stateNode));break;case 4:w=Hr,A=Na,Hr=v.stateNode.containerInfo,Na=!0,Ju(l,u,v),Hr=w,Na=A;break;case 0:case 11:case 14:case 15:if(!ns&&(w=v.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var L=A,G=L.destroy;L=L.tag,G!==void 0&&((L&2)!==0||(L&4)!==0)&&R1(v,u,G),A=A.next}while(A!==w)}Ju(l,u,v);break;case 1:if(!ns&&(Th(v,u),w=v.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(ie){Fi(v,u,ie)}Ju(l,u,v);break;case 21:Ju(l,u,v);break;case 22:v.mode&1?(ns=(w=ns)||v.memoizedState!==null,Ju(l,u,v),ns=w):Ju(l,u,v);break;default:Ju(l,u,v)}}function TE(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new pk),u.forEach(function(w){var A=bk.bind(null,l,w);v.has(w)||(v.add(w),w.then(A,A))})}}function Da(l,u){var v=u.deletions;if(v!==null)for(var w=0;w<v.length;w++){var A=v[w];try{var L=l,G=u,ie=G;e:for(;ie!==null;){switch(ie.tag){case 5:Hr=ie.stateNode,Na=!1;break e;case 3:Hr=ie.stateNode.containerInfo,Na=!0;break e;case 4:Hr=ie.stateNode.containerInfo,Na=!0;break e}ie=ie.return}if(Hr===null)throw Error(t(160));bE(L,G,A),Hr=null,Na=!1;var ue=A.alternate;ue!==null&&(ue.return=null),A.return=null}catch(Ee){Fi(A,u,Ee)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)EE(u,l),u=u.sibling}function EE(l,u){var v=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Da(u,l),ol(l),w&4){try{Ym(3,l,l.return),bv(3,l)}catch(Ft){Fi(l,l.return,Ft)}try{Ym(5,l,l.return)}catch(Ft){Fi(l,l.return,Ft)}}break;case 1:Da(u,l),ol(l),w&512&&v!==null&&Th(v,v.return);break;case 5:if(Da(u,l),ol(l),w&512&&v!==null&&Th(v,v.return),l.flags&32){var A=l.stateNode;try{$e(A,"")}catch(Ft){Fi(l,l.return,Ft)}}if(w&4&&(A=l.stateNode,A!=null)){var L=l.memoizedProps,G=v!==null?v.memoizedProps:L,ie=l.type,ue=l.updateQueue;if(l.updateQueue=null,ue!==null)try{ie==="input"&&L.type==="radio"&&L.name!=null&&Le(A,L),Qe(ie,G);var Ee=Qe(ie,L);for(G=0;G<ue.length;G+=2){var Xe=ue[G],Ze=ue[G+1];Xe==="style"?et(A,Ze):Xe==="dangerouslySetInnerHTML"?ct(A,Ze):Xe==="children"?$e(A,Ze):C(A,Xe,Ze,Ee)}switch(ie){case"input":ae(A,L);break;case"textarea":H(A,L);break;case"select":var Ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!L.multiple;var Mt=L.value;Mt!=null?st(A,!!L.multiple,Mt,!1):Ge!==!!L.multiple&&(L.defaultValue!=null?st(A,!!L.multiple,L.defaultValue,!0):st(A,!!L.multiple,L.multiple?[]:"",!1))}A[Wu]=L}catch(Ft){Fi(l,l.return,Ft)}}break;case 6:if(Da(u,l),ol(l),w&4){if(l.stateNode===null)throw Error(t(162));A=l.stateNode,L=l.memoizedProps;try{A.nodeValue=L}catch(Ft){Fi(l,l.return,Ft)}}break;case 3:if(Da(u,l),ol(l),w&4&&v!==null&&v.memoizedState.isDehydrated)try{Yc(u.containerInfo)}catch(Ft){Fi(l,l.return,Ft)}break;case 4:Da(u,l),ol(l);break;case 13:Da(u,l),ol(l),A=l.child,A.flags&8192&&(L=A.memoizedState!==null,A.stateNode.isHidden=L,!L||A.alternate!==null&&A.alternate.memoizedState!==null||(F1=an())),w&4&&TE(l);break;case 22:if(Xe=v!==null&&v.memoizedState!==null,l.mode&1?(ns=(Ee=ns)||Xe,Da(u,l),ns=Ee):Da(u,l),ol(l),w&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Xe&&(l.mode&1)!==0)for(Pt=l,Xe=l.child;Xe!==null;){for(Ze=Pt=Xe;Pt!==null;){switch(Ge=Pt,Mt=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:Ym(4,Ge,Ge.return);break;case 1:Th(Ge,Ge.return);var Lt=Ge.stateNode;if(typeof Lt.componentWillUnmount=="function"){w=Ge,v=Ge.return;try{u=w,Lt.props=u.memoizedProps,Lt.state=u.memoizedState,Lt.componentWillUnmount()}catch(Ft){Fi(w,v,Ft)}}break;case 5:Th(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){PE(Ze);continue}}Mt!==null?(Mt.return=Ge,Pt=Mt):PE(Ze)}Xe=Xe.sibling}e:for(Xe=null,Ze=l;;){if(Ze.tag===5){if(Xe===null){Xe=Ze;try{A=Ze.stateNode,Ee?(L=A.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ie=Ze.stateNode,ue=Ze.memoizedProps.style,G=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ie.style.display=He("display",G))}catch(Ft){Fi(l,l.return,Ft)}}}else if(Ze.tag===6){if(Xe===null)try{Ze.stateNode.nodeValue=Ee?"":Ze.memoizedProps}catch(Ft){Fi(l,l.return,Ft)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===l)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===l)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===l)break e;Xe===Ze&&(Xe=null),Ze=Ze.return}Xe===Ze&&(Xe=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:Da(u,l),ol(l),w&4&&TE(l);break;case 21:break;default:Da(u,l),ol(l)}}function ol(l){var u=l.flags;if(u&2){try{e:{for(var v=l.return;v!==null;){if(wE(v)){var w=v;break e}v=v.return}throw Error(t(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&($e(A,""),w.flags&=-33);var L=ME(l);N1(l,L,A);break;case 3:case 4:var G=w.stateNode.containerInfo,ie=ME(l);L1(l,ie,G);break;default:throw Error(t(161))}}catch(ue){Fi(l,l.return,ue)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function gk(l,u,v){Pt=l,AE(l)}function AE(l,u,v){for(var w=(l.mode&1)!==0;Pt!==null;){var A=Pt,L=A.child;if(A.tag===22&&w){var G=A.memoizedState!==null||Mv;if(!G){var ie=A.alternate,ue=ie!==null&&ie.memoizedState!==null||ns;ie=Mv;var Ee=ns;if(Mv=G,(ns=ue)&&!Ee)for(Pt=A;Pt!==null;)G=Pt,ue=G.child,G.tag===22&&G.memoizedState!==null?RE(A):ue!==null?(ue.return=G,Pt=ue):RE(A);for(;L!==null;)Pt=L,AE(L),L=L.sibling;Pt=A,Mv=ie,ns=Ee}CE(l)}else(A.subtreeFlags&8772)!==0&&L!==null?(L.return=A,Pt=L):CE(l)}}function CE(l){for(;Pt!==null;){var u=Pt;if((u.flags&8772)!==0){var v=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ns||bv(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!ns)if(v===null)w.componentDidMount();else{var A=u.elementType===u.type?v.memoizedProps:$s(u.type,v.memoizedProps);w.componentDidUpdate(A,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=u.updateQueue;L!==null&&qu(u,L,w);break;case 3:var G=u.updateQueue;if(G!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}qu(u,G,v)}break;case 5:var ie=u.stateNode;if(v===null&&u.flags&4){v=ie;var ue=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&v.focus();break;case"img":ue.src&&(v.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ee=u.alternate;if(Ee!==null){var Xe=Ee.memoizedState;if(Xe!==null){var Ze=Xe.dehydrated;Ze!==null&&Yc(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ns||u.flags&512&&I1(u)}catch(Ge){Fi(u,u.return,Ge)}}if(u===l){Pt=null;break}if(v=u.sibling,v!==null){v.return=u.return,Pt=v;break}Pt=u.return}}function PE(l){for(;Pt!==null;){var u=Pt;if(u===l){Pt=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Pt=v;break}Pt=u.return}}function RE(l){for(;Pt!==null;){var u=Pt;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{bv(4,u)}catch(ue){Fi(u,v,ue)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var A=u.return;try{w.componentDidMount()}catch(ue){Fi(u,A,ue)}}var L=u.return;try{I1(u)}catch(ue){Fi(u,L,ue)}break;case 5:var G=u.return;try{I1(u)}catch(ue){Fi(u,G,ue)}}}catch(ue){Fi(u,u.return,ue)}if(u===l){Pt=null;break}var ie=u.sibling;if(ie!==null){ie.return=u.return,Pt=ie;break}Pt=u.return}}var vk=Math.ceil,Tv=P.ReactCurrentDispatcher,D1=P.ReactCurrentOwner,Jo=P.ReactCurrentBatchConfig,zn=0,Ar=null,ir=null,Gr=0,bo=0,Eh=_i(0),gr=0,qm=null,Tf=0,Ev=0,k1=0,$m=null,Ks=null,F1=0,Ah=1/0,ou=null,Av=!1,O1=null,Qu=null,Cv=!1,ec=null,Pv=0,Km=0,U1=null,Rv=-1,Iv=0;function Ms(){return(zn&6)!==0?an():Rv!==-1?Rv:Rv=an()}function tc(l){return(l.mode&1)===0?1:(zn&2)!==0&&Gr!==0?Gr&-Gr:E1.transition!==null?(Iv===0&&(Iv=Qn()),Iv):(l=Jt,l!==0||(l=window.event,l=l===void 0?16:K0(l.type)),l)}function ka(l,u,v,w){if(50<Km)throw Km=0,U1=null,Error(t(185));Hi(l,v,w),((zn&2)===0||l!==Ar)&&(l===Ar&&((zn&2)===0&&(Ev|=v),gr===4&&nc(l,Gr)),Zs(l,w),v===1&&zn===0&&(u.mode&1)===0&&(Ah=an()+500,uf&&qo()))}function Zs(l,u){var v=l.callbackNode;Cn(l,u);var w=Ln(l,l===Ar?Gr:0);if(w===0)v!==null&&Ti(v),l.callbackNode=null,l.callbackPriority=0;else if(u=w&-w,l.callbackPriority!==u){if(v!=null&&Ti(v),u===1)l.tag===0?cv(LE.bind(null,l)):cf(LE.bind(null,l)),T1(function(){(zn&6)===0&&qo()}),v=null;else{switch(Gi(w)){case 1:v=fe;break;case 4:v=Me;break;case 16:v=Se;break;case 536870912:v=Ke;break;default:v=Se}v=zE(v,IE.bind(null,l))}l.callbackPriority=u,l.callbackNode=v}}function IE(l,u){if(Rv=-1,Iv=0,(zn&6)!==0)throw Error(t(327));var v=l.callbackNode;if(Ch()&&l.callbackNode!==v)return null;var w=Ln(l,l===Ar?Gr:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||u)u=Lv(l,w);else{u=w;var A=zn;zn|=2;var L=DE();(Ar!==l||Gr!==u)&&(ou=null,Ah=an()+500,Af(l,u));do try{_k();break}catch(ie){NE(l,ie)}while(!0);Jl(),Tv.current=L,zn=A,ir!==null?u=0:(Ar=null,Gr=0,u=gr)}if(u!==0){if(u===2&&(A=_n(l),A!==0&&(w=A,u=B1(l,A))),u===1)throw v=qm,Af(l,0),nc(l,w),Zs(l,an()),v;if(u===6)nc(l,w);else{if(A=l.current.alternate,(w&30)===0&&!yk(A)&&(u=Lv(l,w),u===2&&(L=_n(l),L!==0&&(w=L,u=B1(l,L))),u===1))throw v=qm,Af(l,0),nc(l,w),Zs(l,an()),v;switch(l.finishedWork=A,l.finishedLanes=w,u){case 0:case 1:throw Error(t(345));case 2:Cf(l,Ks,ou);break;case 3:if(nc(l,w),(w&130023424)===w&&(u=F1+500-an(),10<u)){if(Ln(l,0)!==0)break;if(A=l.suspendedLanes,(A&w)!==w){Ms(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=Mm(Cf.bind(null,l,Ks,ou),u);break}Cf(l,Ks,ou);break;case 4:if(nc(l,w),(w&4194240)===w)break;for(u=l.eventTimes,A=-1;0<w;){var G=31-dt(w);L=1<<G,G=u[G],G>A&&(A=G),w&=~L}if(w=A,w=an()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*vk(w/1960))-w,10<w){l.timeoutHandle=Mm(Cf.bind(null,l,Ks,ou),w);break}Cf(l,Ks,ou);break;case 5:Cf(l,Ks,ou);break;default:throw Error(t(329))}}}return Zs(l,an()),l.callbackNode===v?IE.bind(null,l):null}function B1(l,u){var v=$m;return l.current.memoizedState.isDehydrated&&(Af(l,u).flags|=256),l=Lv(l,u),l!==2&&(u=Ks,Ks=v,u!==null&&z1(u)),l}function z1(l){Ks===null?Ks=l:Ks.push.apply(Ks,l)}function yk(l){for(var u=l;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var A=v[w],L=A.getSnapshot;A=A.value;try{if(!ms(L(),A))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function nc(l,u){for(u&=~k1,u&=~Ev,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var v=31-dt(u),w=1<<v;l[v]=-1,u&=~w}}function LE(l){if((zn&6)!==0)throw Error(t(327));Ch();var u=Ln(l,0);if((u&1)===0)return Zs(l,an()),null;var v=Lv(l,u);if(l.tag!==0&&v===2){var w=_n(l);w!==0&&(u=w,v=B1(l,w))}if(v===1)throw v=qm,Af(l,0),nc(l,u),Zs(l,an()),v;if(v===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Cf(l,Ks,ou),Zs(l,an()),null}function V1(l,u){var v=zn;zn|=1;try{return l(u)}finally{zn=v,zn===0&&(Ah=an()+500,uf&&qo())}}function Ef(l){ec!==null&&ec.tag===0&&(zn&6)===0&&Ch();var u=zn;zn|=1;var v=Jo.transition,w=Jt;try{if(Jo.transition=null,Jt=1,l)return l()}finally{Jt=w,Jo.transition=v,zn=u,(zn&6)===0&&qo()}}function H1(){bo=Eh.current,ti(Eh)}function Af(l,u){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==-1&&(l.timeoutHandle=-1,bm(v)),ir!==null)for(v=ir.return;v!==null;){var w=v;switch(Ta(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&af();break;case 3:rl(),ti(Ur),ti(fr),Ko();break;case 5:$u(w);break;case 4:rl();break;case 13:ti(si);break;case 19:ti(si);break;case 10:pf(w.type._context);break;case 22:case 23:H1()}v=v.return}if(Ar=l,ir=l=ic(l.current,null),Gr=bo=u,gr=0,qm=null,k1=Ev=Tf=0,Ks=$m=null,Aa!==null){for(u=0;u<Aa.length;u++)if(v=Aa[u],w=v.interleaved,w!==null){v.interleaved=null;var A=w.next,L=v.pending;if(L!==null){var G=L.next;L.next=A,w.next=G}v.pending=w}Aa=null}return l}function NE(l,u){do{var v=ir;try{if(Jl(),nu.current=Mh,wo){for(var w=ni.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}wo=!1}if(Pa=0,On=wi=ni=null,Er=!1,sl=0,D1.current=null,v===null||v.return===null){gr=1,qm=u,ir=null;break}e:{var L=l,G=v.return,ie=v,ue=u;if(u=Gr,ie.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ee=ue,Xe=ie,Ze=Xe.tag;if((Xe.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var Ge=Xe.alternate;Ge?(Xe.updateQueue=Ge.updateQueue,Xe.memoizedState=Ge.memoizedState,Xe.lanes=Ge.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var Mt=Et(G);if(Mt!==null){Mt.flags&=-257,rn(Mt,G,ie,L,u),Mt.mode&1&&nt(L,Ee,u),u=Mt,ue=Ee;var Lt=u.updateQueue;if(Lt===null){var Ft=new Set;Ft.add(ue),u.updateQueue=Ft}else Lt.add(ue);break e}else{if((u&1)===0){nt(L,Ee,u),G1();break e}ue=Error(t(426))}}else if(ri&&ie.mode&1){var Xi=Et(G);if(Xi!==null){(Xi.flags&65536)===0&&(Xi.flags|=256),rn(Xi,G,ie,L,u),Xu(T(ue,ie));break e}}L=ue=T(ue,ie),gr!==4&&(gr=2),$m===null?$m=[L]:$m.push(L),L=G;do{switch(L.tag){case 3:L.flags|=65536,u&=-u,L.lanes|=u;var xe=pe(L,ue,u);Ql(L,xe);break e;case 1:ie=ue;var he=L.type,_e=L.stateNode;if((L.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Qu===null||!Qu.has(_e)))){L.flags|=65536,u&=-u,L.lanes|=u;var rt=Ie(L,ie,u);Ql(L,rt);break e}}L=L.return}while(L!==null)}FE(v)}catch(zt){u=zt,ir===v&&v!==null&&(ir=v=v.return);continue}break}while(!0)}function DE(){var l=Tv.current;return Tv.current=Mh,l===null?Mh:l}function G1(){(gr===0||gr===3||gr===2)&&(gr=4),Ar===null||(Tf&268435455)===0&&(Ev&268435455)===0||nc(Ar,Gr)}function Lv(l,u){var v=zn;zn|=2;var w=DE();(Ar!==l||Gr!==u)&&(ou=null,Af(l,u));do try{xk();break}catch(A){NE(l,A)}while(!0);if(Jl(),zn=v,Tv.current=w,ir!==null)throw Error(t(261));return Ar=null,Gr=0,gr}function xk(){for(;ir!==null;)kE(ir)}function _k(){for(;ir!==null&&!po();)kE(ir)}function kE(l){var u=BE(l.alternate,l,bo);l.memoizedProps=l.pendingProps,u===null?FE(l):ir=u,D1.current=null}function FE(l){var u=l;do{var v=u.alternate;if(l=u.return,(u.flags&32768)===0){if(v=dk(v,u,bo),v!==null){ir=v;return}}else{if(v=hk(v,u),v!==null){v.flags&=32767,ir=v;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{gr=6,ir=null;return}}if(u=u.sibling,u!==null){ir=u;return}ir=u=l}while(u!==null);gr===0&&(gr=5)}function Cf(l,u,v){var w=Jt,A=Jo.transition;try{Jo.transition=null,Jt=1,Sk(l,u,v,w)}finally{Jo.transition=A,Jt=w}return null}function Sk(l,u,v,w){do Ch();while(ec!==null);if((zn&6)!==0)throw Error(t(327));v=l.finishedWork;var A=l.finishedLanes;if(v===null)return null;if(l.finishedWork=null,l.finishedLanes=0,v===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var L=v.lanes|v.childLanes;if(Cl(l,L),l===Ar&&(ir=Ar=null,Gr=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Cv||(Cv=!0,zE(Se,function(){return Ch(),null})),L=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||L){L=Jo.transition,Jo.transition=null;var G=Jt;Jt=1;var ie=zn;zn|=4,D1.current=null,mk(l,v),EE(v,l),Qi(Sm),Vs=!!Gu,Sm=Gu=null,l.current=v,gk(v),Ya(),zn=ie,Jt=G,Jo.transition=L}else l.current=v;if(Cv&&(Cv=!1,ec=l,Pv=A),L=l.pendingLanes,L===0&&(Qu=null),je(v.stateNode),Zs(l,an()),u!==null)for(w=l.onRecoverableError,v=0;v<u.length;v++)A=u[v],w(A.value,{componentStack:A.stack,digest:A.digest});if(Av)throw Av=!1,l=O1,O1=null,l;return(Pv&1)!==0&&l.tag!==0&&Ch(),L=l.pendingLanes,(L&1)!==0?l===U1?Km++:(Km=0,U1=l):Km=0,qo(),null}function Ch(){if(ec!==null){var l=Gi(Pv),u=Jo.transition,v=Jt;try{if(Jo.transition=null,Jt=16>l?16:l,ec===null)var w=!1;else{if(l=ec,ec=null,Pv=0,(zn&6)!==0)throw Error(t(331));var A=zn;for(zn|=4,Pt=l.current;Pt!==null;){var L=Pt,G=L.child;if((Pt.flags&16)!==0){var ie=L.deletions;if(ie!==null){for(var ue=0;ue<ie.length;ue++){var Ee=ie[ue];for(Pt=Ee;Pt!==null;){var Xe=Pt;switch(Xe.tag){case 0:case 11:case 15:Ym(8,Xe,L)}var Ze=Xe.child;if(Ze!==null)Ze.return=Xe,Pt=Ze;else for(;Pt!==null;){Xe=Pt;var Ge=Xe.sibling,Mt=Xe.return;if(SE(Xe),Xe===Ee){Pt=null;break}if(Ge!==null){Ge.return=Mt,Pt=Ge;break}Pt=Mt}}}var Lt=L.alternate;if(Lt!==null){var Ft=Lt.child;if(Ft!==null){Lt.child=null;do{var Xi=Ft.sibling;Ft.sibling=null,Ft=Xi}while(Ft!==null)}}Pt=L}}if((L.subtreeFlags&2064)!==0&&G!==null)G.return=L,Pt=G;else e:for(;Pt!==null;){if(L=Pt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Ym(9,L,L.return)}var xe=L.sibling;if(xe!==null){xe.return=L.return,Pt=xe;break e}Pt=L.return}}var he=l.current;for(Pt=he;Pt!==null;){G=Pt;var _e=G.child;if((G.subtreeFlags&2064)!==0&&_e!==null)_e.return=G,Pt=_e;else e:for(G=he;Pt!==null;){if(ie=Pt,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:bv(9,ie)}}catch(zt){Fi(ie,ie.return,zt)}if(ie===G){Pt=null;break e}var rt=ie.sibling;if(rt!==null){rt.return=ie.return,Pt=rt;break e}Pt=ie.return}}if(zn=A,qo(),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(at,l)}catch{}w=!0}return w}finally{Jt=v,Jo.transition=u}}return!1}function OE(l,u,v){u=T(v,u),u=pe(l,u,1),l=fi(l,u,1),u=Ms(),l!==null&&(Hi(l,1,u),Zs(l,u))}function Fi(l,u,v){if(l.tag===3)OE(l,l,v);else for(;u!==null;){if(u.tag===3){OE(u,l,v);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Qu===null||!Qu.has(w))){l=T(v,l),l=Ie(u,l,1),u=fi(u,l,1),l=Ms(),u!==null&&(Hi(u,1,l),Zs(u,l));break}}u=u.return}}function wk(l,u,v){var w=l.pingCache;w!==null&&w.delete(u),u=Ms(),l.pingedLanes|=l.suspendedLanes&v,Ar===l&&(Gr&v)===v&&(gr===4||gr===3&&(Gr&130023424)===Gr&&500>an()-F1?Af(l,0):k1|=v),Zs(l,u)}function UE(l,u){u===0&&((l.mode&1)===0?u=1:(u=hn,hn<<=1,(hn&130023424)===0&&(hn=4194304)));var v=Ms();l=_o(l,u),l!==null&&(Hi(l,u,v),Zs(l,v))}function Mk(l){var u=l.memoizedState,v=0;u!==null&&(v=u.retryLane),UE(l,v)}function bk(l,u){var v=0;switch(l.tag){case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(v=A.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(u),UE(l,v)}var BE;BE=function(l,u,v){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ur.current)pn=!0;else{if((l.lanes&v)===0&&(u.flags&128)===0)return pn=!1,fk(l,u,v);pn=(l.flags&131072)!==0}else pn=!1,ri&&(u.flags&1048576)!==0&&Pm(u,hh,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;wv(l,u),l=u.pendingProps;var A=jl(u,fr.current);il(u,v),A=xf(null,u,w,l,A,v);var L=Om();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,br(w)?(L=!0,Xl(u)):L=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,cn(u),A.updater=bh,u.stateNode=A,A._reactInternals=u,S(u,w,l,v),u=ln(null,u,w,!0,L,v)):(u.tag=0,ri&&L&&Rm(u),_t(null,u,A,v),u=u.child),u;case 16:w=u.elementType;e:{switch(wv(l,u),l=u.pendingProps,A=w._init,w=A(w._payload),u.type=w,A=u.tag=Ek(w),l=$s(w,l),A){case 0:u=mt(null,u,w,l,v);break e;case 1:u=Ut(null,u,w,l,v);break e;case 11:u=mr(null,u,w,l,v);break e;case 14:u=ws(null,u,w,$s(w.type,l),v);break e}throw Error(t(306,w,""))}return u;case 0:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:$s(w,A),mt(l,u,w,A,v);case 1:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:$s(w,A),Ut(l,u,w,A,v);case 3:e:{if(sn(u),l===null)throw Error(t(387));w=u.pendingProps,L=u.memoizedState,A=L.element,Ci(l,u),Si(u,w,null,v);var G=u.memoizedState;if(w=G.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},u.updateQueue.baseState=L,u.memoizedState=L,u.flags&256){A=T(Error(t(423)),u),u=Dn(l,u,w,v,A);break e}else if(w!==A){A=T(Error(t(424)),u),u=Dn(l,u,w,v,A);break e}else for(zr=_a(u.stateNode.containerInfo.firstChild),dr=u,ri=!0,qs=null,v=hf(u,null,w,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(nl(),w===A){u=su(l,u,v);break e}_t(l,u,w,v)}u=u.child}return u;case 5:return tu(u),l===null&&mh(u),w=u.type,A=u.pendingProps,L=l!==null?l.memoizedProps:null,G=A.children,wm(w,A)?G=null:L!==null&&wm(w,L)&&(u.flags|=32),Ae(l,u),_t(l,u,G,v),u.child;case 6:return l===null&&mh(u),null;case 13:return La(l,u,v);case 4:return vf(u,u.stateNode.containerInfo),w=u.pendingProps,l===null?u.child=$l(u,null,w,v):_t(l,u,w,v),u.child;case 11:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:$s(w,A),mr(l,u,w,A,v);case 7:return _t(l,u,u.pendingProps,v),u.child;case 8:return _t(l,u,u.pendingProps.children,v),u.child;case 12:return _t(l,u,u.pendingProps.children,v),u.child;case 10:e:{if(w=u.type._context,A=u.pendingProps,L=u.memoizedProps,G=A.value,Zn(Kl,w._currentValue),w._currentValue=G,L!==null)if(ms(L.value,G)){if(L.children===A.children&&!Ur.current){u=su(l,u,v);break e}}else for(L=u.child,L!==null&&(L.return=u);L!==null;){var ie=L.dependencies;if(ie!==null){G=L.child;for(var ue=ie.firstContext;ue!==null;){if(ue.context===w){if(L.tag===1){ue=Yn(-1,v&-v),ue.tag=2;var Ee=L.updateQueue;if(Ee!==null){Ee=Ee.shared;var Xe=Ee.pending;Xe===null?ue.next=ue:(ue.next=Xe.next,Xe.next=ue),Ee.pending=ue}}L.lanes|=v,ue=L.alternate,ue!==null&&(ue.lanes|=v),mf(L.return,v,u),ie.lanes|=v;break}ue=ue.next}}else if(L.tag===10)G=L.type===u.type?null:L.child;else if(L.tag===18){if(G=L.return,G===null)throw Error(t(341));G.lanes|=v,ie=G.alternate,ie!==null&&(ie.lanes|=v),mf(G,v,u),G=L.sibling}else G=L.child;if(G!==null)G.return=L;else for(G=L;G!==null;){if(G===u){G=null;break}if(L=G.sibling,L!==null){L.return=G.return,G=L;break}G=G.return}L=G}_t(l,u,A.children,v),u=u.child}return u;case 9:return A=u.type,w=u.pendingProps.children,il(u,v),A=ys(A),w=w(A),u.flags|=1,_t(l,u,w,v),u.child;case 14:return w=u.type,A=$s(w,u.pendingProps),A=$s(w.type,A),ws(l,u,w,A,v);case 15:return we(l,u,u.type,u.pendingProps,v);case 17:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:$s(w,A),wv(l,u),u.tag=1,br(w)?(l=!0,Xl(u)):l=!1,il(u,v),d(u,w,A),S(u,w,A,v),ln(null,u,w,!0,l,v);case 19:return gE(l,u,v);case 22:return ge(l,u,v)}throw Error(t(156,u.tag))};function zE(l,u){return xi(l,u)}function Tk(l,u,v,w){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(l,u,v,w){return new Tk(l,u,v,w)}function W1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ek(l){if(typeof l=="function")return W1(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===Z)return 14}return 2}function ic(l,u){var v=l.alternate;return v===null?(v=Qo(l.tag,u,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=u,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&14680064,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,u=l.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function Nv(l,u,v,w,A,L){var G=2;if(w=l,typeof l=="function")W1(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case O:return Pf(v.children,A,L,u);case U:G=8,A|=8;break;case I:return l=Qo(12,v,u,A|2),l.elementType=I,l.lanes=L,l;case $:return l=Qo(13,v,u,A),l.elementType=$,l.lanes=L,l;case se:return l=Qo(19,v,u,A),l.elementType=se,l.lanes=L,l;case q:return Dv(v,A,L,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:G=10;break e;case j:G=9;break e;case W:G=11;break e;case Z:G=14;break e;case te:G=16,w=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=Qo(G,v,u,A),u.elementType=l,u.type=w,u.lanes=L,u}function Pf(l,u,v,w){return l=Qo(7,l,w,u),l.lanes=v,l}function Dv(l,u,v,w){return l=Qo(22,l,w,u),l.elementType=q,l.lanes=v,l.stateNode={isHidden:!1},l}function j1(l,u,v){return l=Qo(6,l,null,u),l.lanes=v,l}function X1(l,u,v){return u=Qo(4,l.children!==null?l.children:[],l.key,u),u.lanes=v,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Ak(l,u,v,w,A){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Y1(l,u,v,w,A,L,G,ie,ue){return l=new Ak(l,u,v,ie,ue),u===1?(u=1,L===!0&&(u|=8)):u=0,L=Qo(3,null,null,u),l.current=L,L.stateNode=l,L.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},cn(L),l}function Ck(l,u,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:w==null?null:""+w,children:l,containerInfo:u,implementation:v}}function VE(l){if(!l)return wa;l=l._reactInternals;e:{if(dn(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(br(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var v=l.type;if(br(v))return lf(l,v,u)}return u}function HE(l,u,v,w,A,L,G,ie,ue){return l=Y1(v,w,!0,l,A,L,G,ie,ue),l.context=VE(null),v=l.current,w=Ms(),A=tc(v),L=Yn(w,A),L.callback=u??null,fi(v,L,A),l.current.lanes=A,Hi(l,A,w),Zs(l,w),l}function kv(l,u,v,w){var A=u.current,L=Ms(),G=tc(A);return v=VE(v),u.context===null?u.context=v:u.pendingContext=v,u=Yn(L,G),u.payload={element:l},w=w===void 0?null:w,w!==null&&(u.callback=w),l=fi(A,u,G),l!==null&&(ka(l,A,G,L),Tr(l,A,G)),G}function Fv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function GE(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<u?v:u}}function q1(l,u){GE(l,u),(l=l.alternate)&&GE(l,u)}function Pk(){return null}var WE=typeof reportError=="function"?reportError:function(l){console.error(l)};function $1(l){this._internalRoot=l}Ov.prototype.render=$1.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));kv(l,u,null,null)},Ov.prototype.unmount=$1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ef(function(){kv(null,l,null,null)}),u[vs]=null}};function Ov(l){this._internalRoot=l}Ov.prototype.unstable_scheduleHydration=function(l){if(l){var u=zs();l={blockedOn:null,target:l,priority:u};for(var v=0;v<qa.length&&u!==0&&u<qa[v].priority;v++);qa.splice(v,0,l),v===0&&kd(l)}};function K1(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Uv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function jE(){}function Rk(l,u,v,w,A){if(A){if(typeof w=="function"){var L=w;w=function(){var Ee=Fv(G);L.call(Ee)}}var G=HE(u,w,l,0,null,!1,!1,"",jE);return l._reactRootContainer=G,l[vs]=G.current,Vu(l.nodeType===8?l.parentNode:l),Ef(),G}for(;A=l.lastChild;)l.removeChild(A);if(typeof w=="function"){var ie=w;w=function(){var Ee=Fv(ue);ie.call(Ee)}}var ue=Y1(l,0,!1,null,null,!1,!1,"",jE);return l._reactRootContainer=ue,l[vs]=ue.current,Vu(l.nodeType===8?l.parentNode:l),Ef(function(){kv(u,ue,v,w)}),ue}function Bv(l,u,v,w,A){var L=v._reactRootContainer;if(L){var G=L;if(typeof A=="function"){var ie=A;A=function(){var ue=Fv(G);ie.call(ue)}}kv(u,G,l,A)}else G=Rk(v,u,l,A,w);return Fv(G)}Ei=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var v=Bn(u.pendingLanes);v!==0&&(Nn(u,v|1),Zs(u,an()),(zn&6)===0&&(Ah=an()+500,qo()))}break;case 13:Ef(function(){var w=_o(l,1);if(w!==null){var A=Ms();ka(w,l,1,A)}}),q1(l,1)}},Zi=function(l){if(l.tag===13){var u=_o(l,134217728);if(u!==null){var v=Ms();ka(u,l,134217728,v)}q1(l,134217728)}},Cu=function(l){if(l.tag===13){var u=tc(l),v=_o(l,u);if(v!==null){var w=Ms();ka(v,l,u,w)}q1(l,u)}},zs=function(){return Jt},Nd=function(l,u){var v=Jt;try{return Jt=l,u()}finally{Jt=v}},ot=function(l,u,v){switch(u){case"input":if(ae(l,v),u=v.name,v.type==="radio"&&u!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var w=v[u];if(w!==l&&w.form===l.form){var A=ch(w);if(!A)throw Error(t(90));Bt(w),ae(w,A)}}}break;case"textarea":H(l,v);break;case"select":u=v.value,u!=null&&st(l,!!v.multiple,u,!1)}},Vt=V1,Mn=Ef;var Ik={usingClientEntryPoint:!1,Events:[Sa,Ai,ch,Ne,tt,V1]},Zm={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lk={bundleType:Zm.bundleType,version:Zm.version,rendererPackageName:Zm.rendererPackageName,rendererConfig:Zm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Mr(l),l===null?null:l.stateNode},findFiberByHostInstance:Zm.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{at=zv.inject(Lk),Fe=zv}catch{}}return Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik,Js.createPortal=function(l,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K1(u))throw Error(t(200));return Ck(l,u,null,v)},Js.createRoot=function(l,u){if(!K1(l))throw Error(t(299));var v=!1,w="",A=WE;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=Y1(l,1,!1,null,null,v,!1,w,A),l[vs]=u.current,Vu(l.nodeType===8?l.parentNode:l),new $1(u)},Js.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Mr(u),l=l===null?null:l.stateNode,l},Js.flushSync=function(l){return Ef(l)},Js.hydrate=function(l,u,v){if(!Uv(u))throw Error(t(200));return Bv(null,l,u,!0,v)},Js.hydrateRoot=function(l,u,v){if(!K1(l))throw Error(t(405));var w=v!=null&&v.hydratedSources||null,A=!1,L="",G=WE;if(v!=null&&(v.unstable_strictMode===!0&&(A=!0),v.identifierPrefix!==void 0&&(L=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),u=HE(u,null,l,1,v??null,A,!1,L,G),l[vs]=u.current,Vu(l),w)for(l=0;l<w.length;l++)v=w[l],A=v._getVersion,A=A(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,A]:u.mutableSourceEagerHydrationData.push(v,A);return new Ov(u)},Js.render=function(l,u,v){if(!Uv(u))throw Error(t(200));return Bv(null,l,u,!1,v)},Js.unmountComponentAtNode=function(l){if(!Uv(l))throw Error(t(40));return l._reactRootContainer?(Ef(function(){Bv(null,null,l,!1,function(){l._reactRootContainer=null,l[vs]=null})}),!0):!1},Js.unstable_batchedUpdates=V1,Js.unstable_renderSubtreeIntoContainer=function(l,u,v,w){if(!Uv(v))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return Bv(l,u,v,!1,w)},Js.version="18.3.1-next-f1338f8080-20240426",Js}var QE;function zk(){if(QE)return Q1.exports;QE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Q1.exports=Bk(),Q1.exports}var e2;function Vk(){if(e2)return Vv;e2=1;var i=zk();return Vv.createRoot=i.createRoot,Vv.hydrateRoot=i.hydrateRoot,Vv}var Hk=Vk();const Gk="modulepreload",Wk=function(i){return"/"+i},t2={},MP=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");r=o(t.map(f=>{if(f=Wk(f),f in t2)return;t2[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Gk,p||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((y,x)=>{g.addEventListener("load",y),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var ce=Yp();let jk=class extends ce.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:N.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4",children:N.jsxs("div",{className:"max-w-md w-full text-center",children:[N.jsxs("div",{className:"mb-8",children:[N.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full mx-auto flex items-center justify-center mb-6",children:N.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),N.jsx("h1",{className:"text-2xl sm:text-3xl text-white mb-4",children:"Oops! Something went wrong"}),N.jsx("p",{className:"text-indigo-300 mb-8",children:"We encountered an unexpected error. Please try refreshing the page."})]}),N.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg transition-all duration-300 hover:scale-105",children:"Refresh Page"}),!1]})}):this.props.children}};function n2(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function Xk(...i){return e=>{let t=!1;const n=i.map(r=>{const s=n2(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():n2(i[r],null)}}}}function Yk(i){const e=$k(i),t=ce.forwardRef((n,r)=>{const{children:s,...o}=n,a=ce.Children.toArray(s),c=a.find(Zk);if(c){const f=c.props.children,p=a.map(m=>m===c?ce.Children.count(f)>1?ce.Children.only(null):ce.isValidElement(f)?f.props.children:null:m);return N.jsx(e,{...o,ref:r,children:ce.isValidElement(f)?ce.cloneElement(f,void 0,p):null})}return N.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${i}.Slot`,t}var qk=Yk("Slot");function $k(i){const e=ce.forwardRef((t,n)=>{const{children:r,...s}=t;if(ce.isValidElement(r)){const o=Qk(r),a=Jk(s,r.props);return r.type!==ce.Fragment&&(a.ref=n?Xk(n,o):o),ce.cloneElement(r,a)}return ce.Children.count(r)>1?ce.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var Kk=Symbol("radix.slottable");function Zk(i){return ce.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===Kk}function Jk(i,e){const t={...e};for(const n in e){const r=i[n],s=e[n];/^on[A-Z]/.test(n)?r&&s?t[n]=(...a)=>{const c=s(...a);return r(...a),c}:r&&(t[n]=r):n==="style"?t[n]={...r,...s}:n==="className"&&(t[n]=[r,s].filter(Boolean).join(" "))}return{...i,...t}}function Qk(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function bP(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=bP(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function mb(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=bP(i))&&(n&&(n+=" "),n+=e);return n}const i2=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,r2=mb,e5=(i,e)=>t=>{var n;if(e?.variants==null)return r2(i,t?.class,t?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(f=>{const p=t?.[f],m=s?.[f];if(p===null)return null;const g=i2(p)||i2(m);return r[f][g]}),a=t&&Object.entries(t).reduce((f,p)=>{let[m,g]=p;return g===void 0||(f[m]=g),f},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:m,className:g,...y}=p;return Object.entries(y).every(x=>{let[M,b]=x;return Array.isArray(b)?b.includes({...s,...a}[M]):{...s,...a}[M]===b})?[...f,m,g]:f},[]);return r2(i,o,c,t?.class,t?.className)},gb="-",t5=i=>{const e=i5(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:o=>{const a=o.split(gb);return a[0]===""&&a.length!==1&&a.shift(),TP(a,e)||n5(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},TP=(i,e)=>{if(i.length===0)return e.classGroupId;const t=i[0],n=e.nextPart.get(t),r=n?TP(i.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const s=i.join(gb);return e.validators.find(({validator:o})=>o(s))?.classGroupId},s2=/^\[(.+)\]$/,n5=i=>{if(s2.test(i)){const e=s2.exec(i)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},i5=i=>{const{theme:e,classGroups:t}=i,n={nextPart:new Map,validators:[]};for(const r in t)Qw(t[r],n,r,e);return n},Qw=(i,e,t,n)=>{i.forEach(r=>{if(typeof r=="string"){const s=r===""?e:o2(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(r5(r)){Qw(r(n),e,t,n);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{Qw(o,o2(e,s),t,n)})})},o2=(i,e)=>{let t=i;return e.split(gb).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},r5=i=>i.isThemeGetter,s5=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const r=(s,o)=>{t.set(s,o),e++,e>i&&(e=0,n=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},eM="!",tM=":",o5=tM.length,a5=i=>{const{prefix:e,experimentalParseClassName:t}=i;let n=r=>{const s=[];let o=0,a=0,c=0,f;for(let x=0;x<r.length;x++){let M=r[x];if(o===0&&a===0){if(M===tM){s.push(r.slice(c,x)),c=x+o5;continue}if(M==="/"){f=x;continue}}M==="["?o++:M==="]"?o--:M==="("?a++:M===")"&&a--}const p=s.length===0?r:r.substring(c),m=l5(p),g=m!==p,y=f&&f>c?f-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const r=e+tM,s=n;n=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const r=n;n=s=>t({className:s,parseClassName:r})}return n},l5=i=>i.endsWith(eM)?i.substring(0,i.length-1):i.startsWith(eM)?i.substring(1):i,u5=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},c5=i=>({cache:s5(i.cacheSize),parseClassName:a5(i),sortModifiers:u5(i),...t5(i)}),f5=/\s+/,d5=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],a=i.trim().split(f5);let c="";for(let f=a.length-1;f>=0;f-=1){const p=a[f],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:M}=t(p);if(m){c=p+(c.length>0?" "+c:c);continue}let b=!!M,_=n(b?x.substring(0,M):x);if(!_){if(!b){c=p+(c.length>0?" "+c:c);continue}if(_=n(x),!_){c=p+(c.length>0?" "+c:c);continue}b=!1}const E=s(g).join(":"),C=y?E+eM:E,P=C+_;if(o.includes(P))continue;o.push(P);const D=r(_,b);for(let F=0;F<D.length;++F){const O=D[F];o.push(C+O)}c=p+(c.length>0?" "+c:c)}return c};function h5(){let i=0,e,t,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=EP(e))&&(n&&(n+=" "),n+=t);return n}const EP=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=EP(i[n]))&&(t&&(t+=" "),t+=e);return t};function p5(i,...e){let t,n,r,s=o;function o(c){const f=e.reduce((p,m)=>m(p),i());return t=c5(f),n=t.cache.get,r=t.cache.set,s=a,a(c)}function a(c){const f=n(c);if(f)return f;const p=d5(c,t);return r(c,p),p}return function(){return s(h5.apply(null,arguments))}}const vr=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},AP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,CP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,m5=/^\d+\/\d+$/,g5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,x5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ph=i=>m5.test(i),Sn=i=>!!i&&!Number.isNaN(Number(i)),sc=i=>!!i&&Number.isInteger(Number(i)),nS=i=>i.endsWith("%")&&Sn(i.slice(0,-1)),au=i=>g5.test(i),S5=()=>!0,w5=i=>v5.test(i)&&!y5.test(i),PP=()=>!1,M5=i=>x5.test(i),b5=i=>_5.test(i),T5=i=>!Nt(i)&&!Dt(i),E5=i=>qp(i,LP,PP),Nt=i=>AP.test(i),Rf=i=>qp(i,NP,w5),iS=i=>qp(i,I5,Sn),a2=i=>qp(i,RP,PP),A5=i=>qp(i,IP,b5),Hv=i=>qp(i,DP,M5),Dt=i=>CP.test(i),Qm=i=>$p(i,NP),C5=i=>$p(i,L5),l2=i=>$p(i,RP),P5=i=>$p(i,LP),R5=i=>$p(i,IP),Gv=i=>$p(i,DP,!0),qp=(i,e,t)=>{const n=AP.exec(i);return n?n[1]?e(n[1]):t(n[2]):!1},$p=(i,e,t=!1)=>{const n=CP.exec(i);return n?n[1]?e(n[1]):t:!1},RP=i=>i==="position"||i==="percentage",IP=i=>i==="image"||i==="url",LP=i=>i==="length"||i==="size"||i==="bg-size",NP=i=>i==="length",I5=i=>i==="number",L5=i=>i==="family-name",DP=i=>i==="shadow",N5=()=>{const i=vr("color"),e=vr("font"),t=vr("text"),n=vr("font-weight"),r=vr("tracking"),s=vr("leading"),o=vr("breakpoint"),a=vr("container"),c=vr("spacing"),f=vr("radius"),p=vr("shadow"),m=vr("inset-shadow"),g=vr("text-shadow"),y=vr("drop-shadow"),x=vr("blur"),M=vr("perspective"),b=vr("aspect"),_=vr("ease"),E=vr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...P(),Dt,Nt],F=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],U=()=>[Dt,Nt,c],I=()=>[Ph,"full","auto",...U()],k=()=>[sc,"none","subgrid",Dt,Nt],j=()=>["auto",{span:["full",sc,Dt,Nt]},sc,Dt,Nt],W=()=>[sc,"auto",Dt,Nt],$=()=>["auto","min","max","fr",Dt,Nt],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...U()],q=()=>[Ph,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],z=()=>[i,Dt,Nt],J=()=>[...P(),l2,a2,{position:[Dt,Nt]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",P5,E5,{size:[Dt,Nt]}],oe=()=>[nS,Qm,Rf],ye=()=>["","none","full",f,Dt,Nt],Pe=()=>["",Sn,Qm,Rf],Ue=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Sn,nS,l2,a2],De=()=>["","none",x,Dt,Nt],Be=()=>["none",Sn,Dt,Nt],We=()=>["none",Sn,Dt,Nt],yt=()=>[Sn,Dt,Nt],Bt=()=>[Ph,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[au],breakpoint:[au],color:[S5],container:[au],"drop-shadow":[au],ease:["in","out","in-out"],font:[T5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[au],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[au],shadow:[au],spacing:["px",Sn],text:[au],"text-shadow":[au],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ph,Nt,Dt,b]}],container:["container"],columns:[{columns:[Sn,Nt,Dt,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[sc,"auto",Dt,Nt]}],basis:[{basis:[Ph,"full","auto",a,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Sn,Ph,"auto","initial","none",Nt]}],grow:[{grow:["",Sn,Dt,Nt]}],shrink:[{shrink:["",Sn,Dt,Nt]}],order:[{order:[sc,"first","last","none",Dt,Nt]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",t,Qm,Rf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Dt,iS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nS,Nt]}],"font-family":[{font:[C5,Nt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Dt,Nt]}],"line-clamp":[{"line-clamp":[Sn,"none",Dt,iS]}],leading:[{leading:[s,...U()]}],"list-image":[{"list-image":["none",Dt,Nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Dt,Nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Sn,"from-font","auto",Dt,Rf]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Sn,"auto",Dt,Nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt,Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt,Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},sc,Dt,Nt],radial:["",Dt,Nt],conic:[sc,Dt,Nt]},R5,A5]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:Pe()}],"border-w-x":[{"border-x":Pe()}],"border-w-y":[{"border-y":Pe()}],"border-w-s":[{"border-s":Pe()}],"border-w-e":[{"border-e":Pe()}],"border-w-t":[{"border-t":Pe()}],"border-w-r":[{"border-r":Pe()}],"border-w-b":[{"border-b":Pe()}],"border-w-l":[{"border-l":Pe()}],"divide-x":[{"divide-x":Pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Sn,Dt,Nt]}],"outline-w":[{outline:["",Sn,Qm,Rf]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,Gv,Hv]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,Gv,Hv]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:Pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Sn,Rf]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":Pe()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,Gv,Hv]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Sn,Dt,Nt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Sn]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Dt,Nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Sn]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Dt,Nt]}],filter:[{filter:["","none",Dt,Nt]}],blur:[{blur:De()}],brightness:[{brightness:[Sn,Dt,Nt]}],contrast:[{contrast:[Sn,Dt,Nt]}],"drop-shadow":[{"drop-shadow":["","none",y,Gv,Hv]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Sn,Dt,Nt]}],"hue-rotate":[{"hue-rotate":[Sn,Dt,Nt]}],invert:[{invert:["",Sn,Dt,Nt]}],saturate:[{saturate:[Sn,Dt,Nt]}],sepia:[{sepia:["",Sn,Dt,Nt]}],"backdrop-filter":[{"backdrop-filter":["","none",Dt,Nt]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Sn,Dt,Nt]}],"backdrop-contrast":[{"backdrop-contrast":[Sn,Dt,Nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Sn,Dt,Nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Sn,Dt,Nt]}],"backdrop-invert":[{"backdrop-invert":["",Sn,Dt,Nt]}],"backdrop-opacity":[{"backdrop-opacity":[Sn,Dt,Nt]}],"backdrop-saturate":[{"backdrop-saturate":[Sn,Dt,Nt]}],"backdrop-sepia":[{"backdrop-sepia":["",Sn,Dt,Nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Dt,Nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Sn,"initial",Dt,Nt]}],ease:[{ease:["linear","initial",_,Dt,Nt]}],delay:[{delay:[Sn,Dt,Nt]}],animate:[{animate:["none",E,Dt,Nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Dt,Nt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:yt()}],"skew-x":[{"skew-x":yt()}],"skew-y":[{"skew-y":yt()}],transform:[{transform:[Dt,Nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bt()}],"translate-x":[{"translate-x":Bt()}],"translate-y":[{"translate-y":Bt()}],"translate-z":[{"translate-z":Bt()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt,Nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt,Nt]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Sn,Qm,Rf,iS]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kP=p5(N5);function FP(...i){return kP(mb(i))}const D5=e5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function OP({className:i,variant:e,size:t,asChild:n=!1,...r}){const s=n?qk:"button";return N.jsx(s,{"data-slot":"button",className:FP(D5({variant:e,size:t,className:i})),...r})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F5=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),u2=i=>{const e=F5(i);return e.charAt(0).toUpperCase()+e.slice(1)},UP=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ce.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...a},c)=>ce.createElement("svg",{ref:c,...O5,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:UP("lucide",r),...a},[...o.map(([f,p])=>ce.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=(i,e)=>{const t=ce.forwardRef(({className:n,...r},s)=>ce.createElement(U5,{ref:s,iconNode:e,className:UP(`lucide-${k5(u2(i))}`,`lucide-${i}`,n),...r}));return t.displayName=u2(i),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],BP=bi("arrow-right",B5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],V5=bi("book-open",z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],G5=bi("briefcase",H5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],j5=bi("chart-column",W5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y5=bi("check",X5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$5=bi("circle-check",q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Z5=bi("code",K5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q5=bi("compass",J5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],t4=bi("cpu",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],i4=bi("house",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],s4=bi("lightbulb",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],a4=bi("link",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],u4=bi("map",l4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],f4=bi("menu",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],c2=bi("message-circle",d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],p4=bi("palette",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],zP=bi("rocket",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VP=bi("send",g4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],y4=bi("shield-alert",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],_4=bi("sparkles",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],w4=bi("trending-up",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],b4=bi("trophy",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HP=bi("x",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GP=bi("zap",E4),vb=ce.createContext({});function yb(i){const e=ce.useRef(null);return e.current===null&&(e.current=i()),e.current}const WP=typeof window<"u",jP=WP?ce.useLayoutEffect:ce.useEffect,L_=ce.createContext(null);function xb(i,e){i.indexOf(e)===-1&&i.push(e)}function _x(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Sl=(i,e,t)=>t>e?e:t<i?i:t;let _b=()=>{};const Mu={},XP=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function YP(i){return typeof i=="object"&&i!==null}const qP=i=>/^0[^.\s]+$/u.test(i);function Sb(i){let e;return()=>(e===void 0&&(e=i()),e)}const aa=i=>i,A4=(i,e)=>t=>e(i(t)),D0=(...i)=>i.reduce(A4),r0=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class wb{constructor(){this.subscriptions=[]}add(e){return xb(this.subscriptions,e),()=>_x(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ja=i=>i*1e3,ra=i=>i/1e3;function $P(i,e){return e?i*(1e3/e):0}const KP=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,C4=1e-7,P4=12;function R4(i,e,t,n,r){let s,o,a=0;do o=e+(t-e)/2,s=KP(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>C4&&++a<P4);return o}function k0(i,e,t,n){if(i===e&&t===n)return aa;const r=s=>R4(s,0,1,i,t);return s=>s===0||s===1?s:KP(r(s),e,n)}const ZP=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,JP=i=>e=>1-i(1-e),QP=k0(.33,1.53,.69,.99),Mb=JP(QP),eR=ZP(Mb),tR=i=>(i*=2)<1?.5*Mb(i):.5*(2-Math.pow(2,-10*(i-1))),bb=i=>1-Math.sin(Math.acos(i)),nR=JP(bb),iR=ZP(bb),I4=k0(.42,0,1,1),L4=k0(0,0,.58,1),rR=k0(.42,0,.58,1),N4=i=>Array.isArray(i)&&typeof i[0]!="number",sR=i=>Array.isArray(i)&&typeof i[0]=="number",D4={linear:aa,easeIn:I4,easeInOut:rR,easeOut:L4,circIn:bb,circInOut:iR,circOut:nR,backIn:Mb,backInOut:eR,backOut:QP,anticipate:tR},k4=i=>typeof i=="string",f2=i=>{if(sR(i)){_b(i.length===4);const[e,t,n,r]=i;return k0(e,t,n,r)}else if(k4(i))return D4[i];return i},Wv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function F4(i,e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(f.schedule(p),i()),p(a)}const f={schedule:(p,m=!1,g=!1)=>{const x=g&&r?t:n;return m&&o.add(p),x.has(p)||x.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(a=p,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(c),t.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const O4=40;function oR(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Wv.reduce((C,P)=>(C[P]=F4(s),C),{}),{setup:a,read:c,resolveKeyframes:f,preUpdate:p,update:m,preRender:g,render:y,postRender:x}=o,M=()=>{const C=Mu.useManualTiming?r.timestamp:performance.now();t=!1,Mu.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(C-r.timestamp,O4),1)),r.timestamp=C,r.isProcessing=!0,a.process(r),c.process(r),f.process(r),p.process(r),m.process(r),g.process(r),y.process(r),x.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(M))},b=()=>{t=!0,n=!0,r.isProcessing||i(M)};return{schedule:Wv.reduce((C,P)=>{const D=o[P];return C[P]=(F,O=!1,U=!1)=>(t||b(),D.schedule(F,O,U)),C},{}),cancel:C=>{for(let P=0;P<Wv.length;P++)o[Wv[P]].cancel(C)},state:r,steps:o}}const{schedule:hi,cancel:Rc,state:jr,steps:rS}=oR(typeof requestAnimationFrame<"u"?requestAnimationFrame:aa,!0);let ex;function U4(){ex=void 0}const ks={now:()=>(ex===void 0&&ks.set(jr.isProcessing||Mu.useManualTiming?jr.timestamp:performance.now()),ex),set:i=>{ex=i,queueMicrotask(U4)}},aR=i=>e=>typeof e=="string"&&e.startsWith(i),lR=aR("--"),B4=aR("var(--"),Tb=i=>B4(i)?z4.test(i.split("/*")[0].trim()):!1,z4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function d2(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const Kp={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},s0={...Kp,transform:i=>Sl(0,1,i)},jv={...Kp,default:1},Ig=i=>Math.round(i*1e5)/1e5,Eb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V4(i){return i==null}const H4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ab=(i,e)=>t=>!!(typeof t=="string"&&H4.test(t)&&t.startsWith(i)||e&&!V4(t)&&Object.prototype.hasOwnProperty.call(t,e)),uR=(i,e,t)=>n=>{if(typeof n!="string")return n;const[r,s,o,a]=n.match(Eb);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},G4=i=>Sl(0,255,i),sS={...Kp,transform:i=>Math.round(G4(i))},ed={test:Ab("rgb","red"),parse:uR("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+sS.transform(i)+", "+sS.transform(e)+", "+sS.transform(t)+", "+Ig(s0.transform(n))+")"};function W4(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const nM={test:Ab("#"),parse:W4,transform:ed.transform},F0=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),pc=F0("deg"),yl=F0("%"),kt=F0("px"),j4=F0("vh"),X4=F0("vw"),h2={...yl,parse:i=>yl.parse(i)/100,transform:i=>yl.transform(i*100)},lp={test:Ab("hsl","hue"),parse:uR("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+yl.transform(Ig(e))+", "+yl.transform(Ig(t))+", "+Ig(s0.transform(n))+")"},or={test:i=>ed.test(i)||nM.test(i)||lp.test(i),parse:i=>ed.test(i)?ed.parse(i):lp.test(i)?lp.parse(i):nM.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ed.transform(i):lp.transform(i),getAnimatableNone:i=>{const e=or.parse(i);return e.alpha=0,or.transform(e)}},Y4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q4(i){return isNaN(i)&&typeof i=="string"&&(i.match(Eb)?.length||0)+(i.match(Y4)?.length||0)>0}const cR="number",fR="color",$4="var",K4="var(",p2="${}",Z4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function o0(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Z4,c=>(or.test(c)?(n.color.push(s),r.push(fR),t.push(or.parse(c))):c.startsWith(K4)?(n.var.push(s),r.push($4),t.push(c)):(n.number.push(s),r.push(cR),t.push(parseFloat(c))),++s,p2)).split(p2);return{values:t,split:a,indexes:n,types:r}}function dR(i){return o0(i).values}function hR(i){const{split:e,types:t}=o0(i),n=e.length;return r=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===cR?s+=Ig(r[o]):a===fR?s+=or.transform(r[o]):s+=r[o]}return s}}const J4=i=>typeof i=="number"?0:or.test(i)?or.getAnimatableNone(i):i;function Q4(i){const e=dR(i);return hR(i)(e.map(J4))}const Ic={test:q4,parse:dR,createTransformer:hR,getAnimatableNone:Q4};function oS(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function eF({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;r=oS(c,a,i+1/3),s=oS(c,a,i),o=oS(c,a,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Sx(i,e){return t=>t>0?e:i}const Ii=(i,e,t)=>i+(e-i)*t,aS=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},tF=[nM,ed,lp],nF=i=>tF.find(e=>e.test(i));function m2(i){const e=nF(i);if(!e)return!1;let t=e.parse(i);return e===lp&&(t=eF(t)),t}const g2=(i,e)=>{const t=m2(i),n=m2(e);if(!t||!n)return Sx(i,e);const r={...t};return s=>(r.red=aS(t.red,n.red,s),r.green=aS(t.green,n.green,s),r.blue=aS(t.blue,n.blue,s),r.alpha=Ii(t.alpha,n.alpha,s),ed.transform(r))},iM=new Set(["none","hidden"]);function iF(i,e){return iM.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function rF(i,e){return t=>Ii(i,e,t)}function Cb(i){return typeof i=="number"?rF:typeof i=="string"?Tb(i)?Sx:or.test(i)?g2:aF:Array.isArray(i)?pR:typeof i=="object"?or.test(i)?g2:sF:Sx}function pR(i,e){const t=[...i],n=t.length,r=i.map((s,o)=>Cb(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}}function sF(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=Cb(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function oF(i,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=i.indexes[s][n[s]],a=i.values[o]??0;t[r]=a,n[s]++}return t}const aF=(i,e)=>{const t=Ic.createTransformer(e),n=o0(i),r=o0(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?iM.has(i)&&!r.values.length||iM.has(e)&&!n.values.length?iF(i,e):D0(pR(oF(n,r),r.values),t):Sx(i,e)};function mR(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Ii(i,e,t):Cb(i)(i,e)}const lF=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>hi.update(e,t),stop:()=>Rc(e),now:()=>jr.isProcessing?jr.timestamp:ks.now()}},gR=(i,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)n+=Math.round(i(s/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},wx=2e4;function Pb(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<wx;)e+=t,n=i.next(e);return e>=wx?1/0:e}function uF(i,e=100,t){const n=t({...i,keyframes:[0,e]}),r=Math.min(Pb(n),wx);return{type:"keyframes",ease:s=>n.next(r*s).value/e,duration:ra(r)}}const cF=5;function vR(i,e,t){const n=Math.max(e-cF,0);return $P(t-i(n),e-n)}const Ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lS=.001;function fF({duration:i=Ui.duration,bounce:e=Ui.bounce,velocity:t=Ui.velocity,mass:n=Ui.mass}){let r,s,o=1-e;o=Sl(Ui.minDamping,Ui.maxDamping,o),i=Sl(Ui.minDuration,Ui.maxDuration,ra(i)),o<1?(r=f=>{const p=f*o,m=p*i,g=p-t,y=rM(f,o),x=Math.exp(-m);return lS-g/y*x},s=f=>{const m=f*o*i,g=m*t+t,y=Math.pow(o,2)*Math.pow(f,2)*i,x=Math.exp(-m),M=rM(Math.pow(f,2),o);return(-r(f)+lS>0?-1:1)*((g-y)*x)/M}):(r=f=>{const p=Math.exp(-f*i),m=(f-t)*i+1;return-lS+p*m},s=f=>{const p=Math.exp(-f*i),m=(t-f)*(i*i);return p*m});const a=5/i,c=hF(r,s,a);if(i=ja(i),isNaN(c))return{stiffness:Ui.stiffness,damping:Ui.damping,duration:i};{const f=Math.pow(c,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:i}}}const dF=12;function hF(i,e,t){let n=t;for(let r=1;r<dF;r++)n=n-i(n)/e(n);return n}function rM(i,e){return i*Math.sqrt(1-e*e)}const pF=["duration","bounce"],mF=["stiffness","damping","mass"];function v2(i,e){return e.some(t=>i[t]!==void 0)}function gF(i){let e={velocity:Ui.velocity,stiffness:Ui.stiffness,damping:Ui.damping,mass:Ui.mass,isResolvedFromDuration:!1,...i};if(!v2(i,mF)&&v2(i,pF))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,s=2*Sl(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:Ui.mass,stiffness:r,damping:s}}else{const t=fF(i);e={...e,...t,mass:Ui.mass},e.isResolvedFromDuration=!0}return e}function Mx(i=Ui.visualDuration,e=Ui.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:f,mass:p,duration:m,velocity:g,isResolvedFromDuration:y}=gF({...t,velocity:-ra(t.velocity||0)}),x=g||0,M=f/(2*Math.sqrt(c*p)),b=o-s,_=ra(Math.sqrt(c/p)),E=Math.abs(b)<5;n||(n=E?Ui.restSpeed.granular:Ui.restSpeed.default),r||(r=E?Ui.restDelta.granular:Ui.restDelta.default);let C;if(M<1){const D=rM(_,M);C=F=>{const O=Math.exp(-M*_*F);return o-O*((x+M*_*b)/D*Math.sin(D*F)+b*Math.cos(D*F))}}else if(M===1)C=D=>o-Math.exp(-_*D)*(b+(x+_*b)*D);else{const D=_*Math.sqrt(M*M-1);C=F=>{const O=Math.exp(-M*_*F),U=Math.min(D*F,300);return o-O*((x+M*_*b)*Math.sinh(U)+D*b*Math.cosh(U))/D}}const P={calculatedDuration:y&&m||null,next:D=>{const F=C(D);if(y)a.done=D>=m;else{let O=D===0?x:0;M<1&&(O=D===0?ja(x):vR(C,D,F));const U=Math.abs(O)<=n,I=Math.abs(o-F)<=r;a.done=U&&I}return a.value=a.done?o:F,a},toString:()=>{const D=Math.min(Pb(P),wx),F=gR(O=>P.next(D*O).value,D,30);return D+"ms "+F},toTransition:()=>{}};return P}Mx.applyToOptions=i=>{const e=uF(i,100,Mx);return i.ease=e.ease,i.duration=ja(e.duration),i.type="keyframes",i};function sM({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:f=.5,restSpeed:p}){const m=i[0],g={done:!1,value:m},y=U=>a!==void 0&&U<a||c!==void 0&&U>c,x=U=>a===void 0?c:c===void 0||Math.abs(a-U)<Math.abs(c-U)?a:c;let M=t*e;const b=m+M,_=o===void 0?b:o(b);_!==b&&(M=_-m);const E=U=>-M*Math.exp(-U/n),C=U=>_+E(U),P=U=>{const I=E(U),k=C(U);g.done=Math.abs(I)<=f,g.value=g.done?_:k};let D,F;const O=U=>{y(g.value)&&(D=U,F=Mx({keyframes:[g.value,x(g.value)],velocity:vR(C,U,g.value),damping:r,stiffness:s,restDelta:f,restSpeed:p}))};return O(0),{calculatedDuration:null,next:U=>{let I=!1;return!F&&D===void 0&&(I=!0,P(U),O(U)),D!==void 0&&U>=D?F.next(U-D):(!I&&P(U),g)}}}function vF(i,e,t){const n=[],r=t||Mu.mix||mR,s=i.length-1;for(let o=0;o<s;o++){let a=r(i[o],i[o+1]);if(e){const c=Array.isArray(e)?e[o]||aa:e;a=D0(c,a)}n.push(a)}return n}function yF(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(_b(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const a=vF(e,n,r),c=a.length,f=p=>{if(o&&p<i[0])return e[0];let m=0;if(c>1)for(;m<i.length-2&&!(p<i[m+1]);m++);const g=r0(i[m],i[m+1],p);return a[m](g)};return t?p=>f(Sl(i[0],i[s-1],p)):f}function xF(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=r0(0,e,n);i.push(Ii(t,1,r))}}function _F(i){const e=[0];return xF(e,i.length-1),e}function SF(i,e){return i.map(t=>t*e)}function wF(i,e){return i.map(()=>e||rR).splice(0,i.length-1)}function Lg({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=N4(n)?n.map(f2):f2(n),s={done:!1,value:e[0]},o=SF(t&&t.length===e.length?t:_F(e),i),a=yF(o,e,{ease:Array.isArray(r)?r:wF(e,r)});return{calculatedDuration:i,next:c=>(s.value=a(c),s.done=c>=i,s)}}const MF=i=>i!==null;function Rb(i,{repeat:e,repeatType:t="loop"},n,r=1){const s=i.filter(MF),a=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const bF={decay:sM,inertia:sM,tween:Lg,keyframes:Lg,spring:Mx};function yR(i){typeof i.type=="string"&&(i.type=bF[i.type])}class Ib{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const TF=i=>i/100;class Lb extends Ib{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==ks.now()&&this.tick(ks.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yR(e);const{type:t=Lg,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=t||Lg;c!==Lg&&typeof a[0]!="number"&&(this.mixKeyframes=D0(TF,mR(a[0],a[1])),a=[0,100]);const f=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Pb(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:g,repeatDelay:y,type:x,onUpdate:M,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,P=n;if(m){const U=Math.min(this.currentTime,r)/a;let I=Math.floor(U),k=U%1;!k&&U>=1&&(k=1),k===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(k=1-k,y&&(k-=y/a)):g==="mirror"&&(P=o)),C=Sl(0,1,k)*a}const D=E?{done:!1,value:p[0]}:P.next(C);s&&(D.value=s(D.value));let{done:F}=D;!E&&c!==null&&(F=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return O&&x!==sM&&(D.value=Rb(p,this.options,b,this.speed)),M&&M(D.value),O&&this.finish(),D}then(e,t){return this.finished.then(e,t)}get duration(){return ra(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ra(e)}get time(){return ra(this.currentTime)}set time(e){e=ja(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ks.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ra(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=lF,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ks.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function EF(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const td=i=>i*180/Math.PI,oM=i=>{const e=td(Math.atan2(i[1],i[0]));return aM(e)},AF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:oM,rotateZ:oM,skewX:i=>td(Math.atan(i[1])),skewY:i=>td(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},aM=i=>(i=i%360,i<0&&(i+=360),i),y2=oM,x2=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),_2=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),CF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:x2,scaleY:_2,scale:i=>(x2(i)+_2(i))/2,rotateX:i=>aM(td(Math.atan2(i[6],i[5]))),rotateY:i=>aM(td(Math.atan2(-i[2],i[0]))),rotateZ:y2,rotate:y2,skewX:i=>td(Math.atan(i[4])),skewY:i=>td(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function lM(i){return i.includes("scale")?1:0}function uM(i,e){if(!i||i==="none")return lM(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=CF,r=t;else{const a=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=AF,r=a}if(!r)return lM(e);const s=n[e],o=r[1].split(",").map(RF);return typeof s=="function"?s(o):o[s]}const PF=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return uM(t,e)};function RF(i){return parseFloat(i.trim())}const Zp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jp=new Set(Zp),S2=i=>i===Kp||i===kt,IF=new Set(["x","y","z"]),LF=Zp.filter(i=>!IF.has(i));function NF(i){const e=[];return LF.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const yc={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>uM(e,"x"),y:(i,{transform:e})=>uM(e,"y")};yc.translateX=yc.x;yc.translateY=yc.y;const ld=new Set;let cM=!1,fM=!1,dM=!1;function xR(){if(fM){const i=Array.from(ld).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=NF(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,o])=>{n.getValue(s)?.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fM=!1,cM=!1,ld.forEach(i=>i.complete(dM)),ld.clear()}function _R(){ld.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(fM=!0)})}function DF(){dM=!0,_R(),xR(),dM=!1}class Nb{constructor(e,t,n,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ld.add(this),cM||(cM=!0,hi.read(_R),hi.resolveKeyframes(xR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&t){const a=n.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}EF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ld.delete(this)}cancel(){this.state==="scheduled"&&(ld.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kF=i=>i.startsWith("--");function FF(i,e,t){kF(e)?i.style.setProperty(e,t):i.style[e]=t}const OF=Sb(()=>window.ScrollTimeline!==void 0),UF={};function BF(i,e){const t=Sb(i);return()=>UF[e]??t()}const SR=BF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_g=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,w2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_g([0,.65,.55,1]),circOut:_g([.55,0,1,.45]),backIn:_g([.31,.01,.66,-.59]),backOut:_g([.33,1.53,.69,.99])};function wR(i,e){if(i)return typeof i=="function"?SR()?gR(i,e):"ease-out":sR(i)?_g(i):Array.isArray(i)?i.map(t=>wR(t,e)||w2.easeOut):w2[i]}function zF(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},f=void 0){const p={[e]:t};c&&(p.offset=c);const m=wR(a,r);Array.isArray(m)&&(p.easing=m);const g={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),i.animate(p,g)}function MR(i){return typeof i=="function"&&"applyToOptions"in i}function VF({type:i,...e}){return MR(i)&&SR()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bR extends Ib{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,_b(typeof e.type!="string");const f=VF(e);this.animation=zF(t,n,r,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=Rb(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(p):FF(t,n,p),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ra(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ra(e)}get time(){return ra(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ja(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&OF()?(this.animation.timeline=e,aa):t(this)}}const TR={anticipate:tR,backInOut:eR,circInOut:iR};function HF(i){return i in TR}function GF(i){typeof i.ease=="string"&&HF(i.ease)&&(i.ease=TR[i.ease])}const uS=10;class WF extends bR{constructor(e){GF(e),yR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new Lb({...o,autoplay:!1}),c=Math.max(uS,ks.now()-this.startTime),f=Sl(0,uS,c-uS);t.setWithVelocity(a.sample(Math.max(0,c-f)).value,a.sample(c).value,f),a.stop()}}const M2=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ic.test(i)||i==="0")&&!i.startsWith("url("));function jF(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function XF(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],o=M2(r,e),a=M2(s,e);return!o||!a?!1:jF(i)||(t==="spring"||MR(t))&&n}function hM(i){i.duration=0,i.type="keyframes"}const YF=new Set(["opacity","clipPath","filter","transform"]),qF=Sb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $F(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:s,type:o}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return qF()&&t&&YF.has(t)&&(t!=="transform"||!f)&&!c&&!n&&r!=="mirror"&&s!==0&&o!=="inertia"}const KF=40;class ZF extends Ib{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ks.now();const g={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:o,name:c,motionValue:f,element:p,...m},y=p?.KeyframeResolver||Nb;this.keyframeResolver=new y(a,(x,M,b)=>this.onKeyframesResolved(x,M,g,!b),c,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:f,onUpdate:p}=n;this.resolvedAt=ks.now(),XF(e,s,o,a)||((Mu.instantAnimations||!c)&&p?.(Rb(e,n,t)),e[0]=e[e.length-1],hM(n),n.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>KF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},y=!f&&$F(g),x=g.motionValue?.owner?.current,M=y?new WF({...g,element:x}):new Lb(g);M.finished.then(()=>{this.notifyFinished()}).catch(aa),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),DF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function ER(i,e,t,n=0,r=1){const s=Array.from(i).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),o=i.size,a=(o-1)*n;return typeof t=="function"?t(s,o):r===1?s*n:a-s*n}const JF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QF(i){const e=JF.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function AR(i,e,t=1){const[n,r]=QF(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return XP(o)?parseFloat(o):o}return Tb(r)?AR(r,e,t+1):r}const eO={type:"spring",stiffness:500,damping:25,restSpeed:10},tO=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),nO={type:"keyframes",duration:.8},iO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rO=(i,{keyframes:e})=>e.length>2?nO:Jp.has(i)?i.startsWith("scale")?tO(e[1]):eO:iO,sO=i=>i!==null;function oO(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(sO),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}function CR(i,e){if(i?.inherit&&e){const{inherit:t,...n}=i;return{...e,...n}}return i}function Db(i,e){const t=i?.[e]??i?.default??i;return t!==i?CR(t,i):t}function aO({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:f,...p}){return!!Object.keys(p).length}const kb=(i,e,t,n={},r,s)=>o=>{const a=Db(n,i)||{},c=a.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ja(c);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-f,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:i,motionValue:e,element:s?void 0:r};aO(a)||Object.assign(p,rO(i,p)),p.duration&&(p.duration=ja(p.duration)),p.repeatDelay&&(p.repeatDelay=ja(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(hM(p),p.delay===0&&(m=!0)),(Mu.instantAnimations||Mu.skipAnimations||r?.shouldSkipAnimations)&&(m=!0,hM(p),p.delay=0),p.allowFlatten=!a.type&&!a.ease,m&&!s&&e.get()!==void 0){const g=oO(p.keyframes,a);if(g!==void 0){hi.update(()=>{p.onUpdate(g),p.onComplete()});return}}return a.isSync?new Lb(p):new ZF(p)};function b2(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Fb(i,e,t,n){if(typeof e=="function"){const[r,s]=b2(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=b2(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function _p(i,e,t){const n=i.getProps();return Fb(n,e,t!==void 0?t:n.custom,i)}const PR=new Set(["width","height","top","left","right","bottom",...Zp]),T2=30,lO=i=>!isNaN(parseFloat(i));class uO{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=ks.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ks.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new wb);const n=this.events[e].add(t);return e==="change"?()=>{n(),hi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,T2);return $P(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pp(i,e){return new uO(i,e)}const pM=i=>Array.isArray(i);function cO(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,Pp(t))}function fO(i){return pM(i)?i[i.length-1]||0:i}function dO(i,e){const t=_p(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const o in s){const a=fO(s[o]);cO(i,o,a)}}const cs=i=>!!(i&&i.getVelocity);function hO(i){return!!(cs(i)&&i.add)}function mM(i,e){const t=i.getValue("willChange");if(hO(t))return t.add(e);if(!t&&Mu.WillChange){const n=new Mu.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function Ob(i){return i.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const pO="framerAppearId",RR="data-"+Ob(pO);function IR(i){return i.props[RR]}function mO({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function LR(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s,transitionEnd:o,...a}=e;const c=i.getDefaultTransition();s=s?CR(s,c):c;const f=s?.reduceMotion;n&&(s=n);const p=[],m=r&&i.animationState&&i.animationState.getState()[r];for(const g in a){const y=i.getValue(g,i.latestValues[g]??null),x=a[g];if(x===void 0||m&&mO(m,g))continue;const M={delay:t,...Db(s||{},g)},b=y.get();if(b!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===b&&!M.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const P=IR(i);if(P){const D=window.MotionHandoffAnimation(P,g,hi);D!==null&&(M.startTime=D,_=!0)}}mM(i,g);const E=f??i.shouldReduceMotion;y.start(kb(g,y,x,E&&PR.has(g)?{type:!1}:M,i,_));const C=y.animation;C&&p.push(C)}if(o){const g=()=>hi.update(()=>{o&&dO(i,o)});p.length?Promise.all(p).then(g):g()}return p}function gM(i,e,t={}){const n=_p(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>Promise.all(LR(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=r;return gO(i,e,c,f,p,m,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,f]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>f())}else return Promise.all([s(),o(t.delay)])}function gO(i,e,t=0,n=0,r=0,s=1,o){const a=[];for(const c of i.variantChildren)c.notify("AnimationStart",e),a.push(gM(c,e,{...o,delay:t+(typeof n=="function"?0:n)+ER(i.variantChildren,c,n,r,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function vO(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>gM(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=gM(i,e,t);else{const r=typeof e=="function"?_p(i,e,t.custom):e;n=Promise.all(LR(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}const yO={test:i=>i==="auto",parse:i=>i},NR=i=>e=>e.test(i),DR=[Kp,kt,yl,pc,X4,j4,yO],E2=i=>DR.find(NR(i));function xO(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||qP(i):!0}const _O=new Set(["brightness","contrast","saturate","opacity"]);function SO(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(Eb)||[];if(!n)return i;const r=t.replace(n,"");let s=_O.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const wO=/\b([a-z-]*)\(.*?\)/gu,vM={...Ic,getAnimatableNone:i=>{const e=i.match(wO);return e?e.map(SO).join(" "):i}},A2={...Kp,transform:Math.round},MO={rotate:pc,rotateX:pc,rotateY:pc,rotateZ:pc,scale:jv,scaleX:jv,scaleY:jv,scaleZ:jv,skew:pc,skewX:pc,skewY:pc,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:s0,originX:h2,originY:h2,originZ:kt},Ub={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,inset:kt,insetBlock:kt,insetBlockStart:kt,insetBlockEnd:kt,insetInline:kt,insetInlineStart:kt,insetInlineEnd:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,paddingBlock:kt,paddingBlockStart:kt,paddingBlockEnd:kt,paddingInline:kt,paddingInlineStart:kt,paddingInlineEnd:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,marginBlock:kt,marginBlockStart:kt,marginBlockEnd:kt,marginInline:kt,marginInlineStart:kt,marginInlineEnd:kt,fontSize:kt,backgroundPositionX:kt,backgroundPositionY:kt,...MO,zIndex:A2,fillOpacity:s0,strokeOpacity:s0,numOctaves:A2},bO={...Ub,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:vM,WebkitFilter:vM},kR=i=>bO[i];function FR(i,e){let t=kR(i);return t!==vM&&(t=Ic),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const TO=new Set(["auto","none","0"]);function EO(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!TO.has(s)&&o0(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=FR(t,r)}class AO extends Nb{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),Tb(m))){const g=AR(m,t.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!PR.has(n)||e.length!==2)return;const[r,s]=e,o=E2(r),a=E2(s),c=d2(r),f=d2(s);if(c!==f&&yc[n]){this.needsMeasurement=!0;return}if(o!==a)if(S2(o)&&S2(a))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else yc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||xO(e[r]))&&n.push(r);n.length&&EO(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=yc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{e.getValue(a).set(c)}),this.resolveNoneKeyframes()}}const CO=new Set(["opacity","clipPath","filter","transform"]);function OR(i,e,t){if(i==null)return[];if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const r=t?.[i]??n.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i).filter(n=>n!=null)}const UR=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function yM(i){return YP(i)&&"offsetHeight"in i}const{schedule:Bb}=oR(queueMicrotask,!1),Va={x:!1,y:!1};function BR(){return Va.x||Va.y}function PO(i){return i==="x"||i==="y"?Va[i]?null:(Va[i]=!0,()=>{Va[i]=!1}):Va.x||Va.y?null:(Va.x=Va.y=!0,()=>{Va.x=Va.y=!1})}function zR(i,e){const t=OR(i),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function RO(i){return!(i.pointerType==="touch"||BR())}function IO(i,e,t={}){const[n,r,s]=zR(i,t);return n.forEach(o=>{let a=!1,c=!1,f;const p=()=>{o.removeEventListener("pointerleave",x)},m=b=>{f&&(f(b),f=void 0),p()},g=b=>{a=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),c&&(c=!1,m(b))},y=()=>{a=!0,window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",g,r)},x=b=>{if(b.pointerType!=="touch"){if(a){c=!0;return}m(b)}},M=b=>{if(!RO(b))return;c=!1;const _=e(o,b);typeof _=="function"&&(f=_,o.addEventListener("pointerleave",x,r))};o.addEventListener("pointerenter",M,r),o.addEventListener("pointerdown",y,r)}),s}const VR=(i,e)=>e?i===e?!0:VR(i,e.parentElement):!1,zb=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,LO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NO(i){return LO.has(i.tagName)||i.isContentEditable===!0}const DO=new Set(["INPUT","SELECT","TEXTAREA"]);function kO(i){return DO.has(i.tagName)||i.isContentEditable===!0}const tx=new WeakSet;function C2(i){return e=>{e.key==="Enter"&&i(e)}}function cS(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FO=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=C2(()=>{if(tx.has(t))return;cS(t,"down");const r=C2(()=>{cS(t,"up")}),s=()=>cS(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function P2(i){return zb(i)&&!BR()}const R2=new WeakSet;function OO(i,e,t={}){const[n,r,s]=zR(i,t),o=a=>{const c=a.currentTarget;if(!P2(a)||R2.has(a))return;tx.add(c),t.stopPropagation&&R2.add(a);const f=e(c,a),p=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),tx.has(c)&&tx.delete(c),P2(y)&&typeof f=="function"&&f(y,{success:x})},m=y=>{p(y,c===window||c===document||t.useGlobalTarget||VR(c,y.target))},g=y=>{p(y,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return n.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),yM(a)&&(a.addEventListener("focus",f=>FO(f,r)),!NO(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Vb(i){return YP(i)&&"ownerSVGElement"in i}const nx=new WeakMap;let ix;const HR=(i,e,t)=>(n,r)=>r&&r[0]?r[0][i+"Size"]:Vb(n)&&"getBBox"in n?n.getBBox()[e]:n[t],UO=HR("inline","width","offsetWidth"),BO=HR("block","height","offsetHeight");function zO({target:i,borderBoxSize:e}){nx.get(i)?.forEach(t=>{t(i,{get width(){return UO(i,e)},get height(){return BO(i,e)}})})}function VO(i){i.forEach(zO)}function HO(){typeof ResizeObserver>"u"||(ix=new ResizeObserver(VO))}function GO(i,e){ix||HO();const t=OR(i);return t.forEach(n=>{let r=nx.get(n);r||(r=new Set,nx.set(n,r)),r.add(e),ix?.observe(n)}),()=>{t.forEach(n=>{const r=nx.get(n);r?.delete(e),r?.size||ix?.unobserve(n)})}}const rx=new Set;let up;function WO(){up=()=>{const i={get width(){return window.innerWidth},get height(){return window.innerHeight}};rx.forEach(e=>e(i))},window.addEventListener("resize",up)}function jO(i){return rx.add(i),up||WO(),()=>{rx.delete(i),!rx.size&&typeof up=="function"&&(window.removeEventListener("resize",up),up=void 0)}}function I2(i,e){return typeof i=="function"?jO(i):GO(i,e)}function XO(i){return Vb(i)&&i.tagName==="svg"}const YO=[...DR,or,Ic],qO=i=>YO.find(NR(i)),L2=()=>({translate:0,scale:1,origin:0,originPoint:0}),cp=()=>({x:L2(),y:L2()}),N2=()=>({min:0,max:0}),xr=()=>({x:N2(),y:N2()}),$O=new WeakMap;function N_(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function a0(i){return typeof i=="string"||Array.isArray(i)}const Hb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gb=["initial",...Hb];function D_(i){return N_(i.animate)||Gb.some(e=>a0(i[e]))}function GR(i){return!!(D_(i)||i.variants)}function KO(i,e,t){for(const n in e){const r=e[n],s=t[n];if(cs(r))i.addValue(n,r);else if(cs(s))i.addValue(n,Pp(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=i.getStaticValue(n);i.addValue(n,Pp(o!==void 0?o:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const xM={current:null},WR={current:!1},ZO=typeof window<"u";function JO(){if(WR.current=!0,!!ZO)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>xM.current=i.matches;i.addEventListener("change",e),e()}else xM.current=!1}const D2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let bx={};function jR(i){bx=i}function QO(){return bx}class eU{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,skipAnimations:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Nb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ks.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,hi.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=a;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=D_(t),this.isVariantNode=GR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const x=g[y];f[y]!==void 0&&cs(x)&&x.set(f[y])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,$O.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(WR.current||JO(),this.shouldReduceMotion=xM.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rc(this.notifyUpdate),Rc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&CO.has(e)&&this.current instanceof HTMLElement){const{factory:o,keyframes:a,times:c,ease:f,duration:p}=t.accelerate,m=new bR({element:this.current,name:e,keyframes:a,times:c,ease:f,duration:ja(p)}),g=o(m);this.valueSubscriptions.set(e,()=>{g(),m.cancel()});return}const n=Jp.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&hi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bx){const t=bx[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<D2.length;n++){const r=D2[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=KO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Pp(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(XP(n)||qP(n))?n=parseFloat(n):!qO(n)&&Ic.test(t)&&(n=FR(e,t)),this.setBaseTarget(e,cs(n)?n.get():n)),cs(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const s=Fb(this.props,t,this.presenceContext?.custom);s&&(n=s[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!cs(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new wb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Bb.render(this.render)}}class XR extends eU{constructor(){super(...arguments),this.KeyframeResolver=AO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class Bc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function YR({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function tU({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function nU(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function fS(i){return i===void 0||i===1}function _M({scale:i,scaleX:e,scaleY:t}){return!fS(i)||!fS(e)||!fS(t)}function qf(i){return _M(i)||qR(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function qR(i){return k2(i.x)||k2(i.y)}function k2(i){return i&&i!=="0%"}function Tx(i,e,t){const n=i-t,r=e*n;return t+r}function F2(i,e,t,n,r){return r!==void 0&&(i=Tx(i,r,n)),Tx(i,t,n)+e}function SM(i,e=0,t=1,n,r){i.min=F2(i.min,e,t,n,r),i.max=F2(i.max,e,t,n,r)}function $R(i,{x:e,y:t}){SM(i.x,e.translate,e.scale,e.originPoint),SM(i.y,t.translate,t.scale,t.originPoint)}const O2=.999999999999,U2=1.0000000000001;function iU(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&dp(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$R(i,o)),n&&qf(s.latestValues)&&dp(i,s.latestValues))}e.x<U2&&e.x>O2&&(e.x=1),e.y<U2&&e.y>O2&&(e.y=1)}function fp(i,e){i.min=i.min+e,i.max=i.max+e}function B2(i,e,t,n,r=.5){const s=Ii(i.min,i.max,r);SM(i,e,t,s,n)}function dp(i,e){B2(i.x,e.x,e.scaleX,e.scale,e.originX),B2(i.y,e.y,e.scaleY,e.scale,e.originY)}function KR(i,e){return YR(nU(i.getBoundingClientRect(),e))}function rU(i,e,t){const n=KR(i,t),{scroll:r}=e;return r&&(fp(n.x,r.offset.x),fp(n.y,r.offset.y)),n}const sU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oU=Zp.length;function aU(i,e,t){let n="",r=!0;for(let s=0;s<oU;s++){const o=Zp[s],a=i[o];if(a===void 0)continue;let c=!0;if(typeof a=="number")c=a===(o.startsWith("scale")?1:0);else{const f=parseFloat(a);c=o.startsWith("scale")?f===1:f===0}if(!c||t){const f=UR(a,Ub[o]);if(!c){r=!1;const p=sU[o]||o;n+=`${p}(${f}) `}t&&(e[o]=f)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function Wb(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let o=!1,a=!1;for(const c in e){const f=e[c];if(Jp.has(c)){o=!0;continue}else if(lR(c)){r[c]=f;continue}else{const p=UR(f,Ub[c]);c.startsWith("origin")?(a=!0,s[c]=p):n[c]=p}}if(e.transform||(o||t?n.transform=aU(e,i.transform,t):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:f="50%",originZ:p=0}=s;n.transformOrigin=`${c} ${f} ${p}`}}function ZR(i,{style:e,vars:t},n,r){const s=i.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,n);for(o in t)s.setProperty(o,t[o])}function z2(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const eg={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(kt.test(i))i=parseFloat(i);else return i;const t=z2(i,e.target.x),n=z2(i,e.target.y);return`${t}% ${n}%`}},lU={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=Ic.parse(i);if(r.length>5)return n;const s=Ic.createTransformer(i),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=c;const f=Ii(a,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=f),typeof r[3+o]=="number"&&(r[3+o]/=f),s(r)}},wM={borderRadius:{...eg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eg,borderTopRightRadius:eg,borderBottomLeftRadius:eg,borderBottomRightRadius:eg,boxShadow:lU};function JR(i,{layout:e,layoutId:t}){return Jp.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!wM[i]||i==="opacity")}function jb(i,e,t){const n=i.style,r=e?.style,s={};if(!n)return s;for(const o in n)(cs(n[o])||r&&cs(r[o])||JR(o,i)||t?.getValue(o)?.liveStyle!==void 0)&&(s[o]=n[o]);return s}function uU(i){return window.getComputedStyle(i)}class cU extends XR{constructor(){super(...arguments),this.type="html",this.renderInstance=ZR}readValueFromInstance(e,t){if(Jp.has(t))return this.projection?.isProjecting?lM(t):PF(e,t);{const n=uU(e),r=(lR(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return KR(e,t)}build(e,t,n){Wb(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return jb(e,t,n)}}const fU={offset:"stroke-dashoffset",array:"stroke-dasharray"},dU={offset:"strokeDashoffset",array:"strokeDasharray"};function hU(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?fU:dU;i[s.offset]=`${-n}`,i[s.array]=`${e} ${t}`}const pU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function QR(i,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},c,f,p){if(Wb(i,a,f),c){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:m,style:g}=i;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete m.transformBox);for(const y of pU)m[y]!==void 0&&(g[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),n!==void 0&&(m.scale=n),r!==void 0&&hU(m,r,s,o,!1)}const eI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tI=i=>typeof i=="string"&&i.toLowerCase()==="svg";function mU(i,e,t,n){ZR(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(eI.has(r)?r:Ob(r),e.attrs[r])}function nI(i,e,t){const n=jb(i,e,t);for(const r in i)if(cs(i[r])||cs(e[r])){const s=Zp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}class gU extends XR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Jp.has(t)){const n=kR(t);return n&&n.default||0}return t=eI.has(t)?t:Ob(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return nI(e,t,n)}build(e,t,n){QR(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){mU(e,t,n,r)}mount(e){this.isSVGTag=tI(e.tagName),super.mount(e)}}const vU=Gb.length;function iI(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?iI(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<vU;t++){const n=Gb[t],r=i.props[n];(a0(r)||r===!1)&&(e[n]=r)}return e}function rI(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const yU=[...Hb].reverse(),xU=Hb.length;function _U(i){return e=>Promise.all(e.map(({animation:t,options:n})=>vO(i,t,n)))}function SU(i){let e=_U(i),t=V2(),n=!0;const r=c=>(f,p)=>{const m=_p(i,p,c==="exit"?i.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:y,...x}=m;f={...f,...x,...y}}return f};function s(c){e=c(i)}function o(c){const{props:f}=i,p=iI(i.parent)||{},m=[],g=new Set;let y={},x=1/0;for(let b=0;b<xU;b++){const _=yU[b],E=t[_],C=f[_]!==void 0?f[_]:p[_],P=a0(C),D=_===c?E.isActive:null;D===!1&&(x=b);let F=C===p[_]&&C!==f[_]&&P;if(F&&n&&i.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...y},!E.isActive&&D===null||!C&&!E.prevProp||N_(C)||typeof C=="boolean")continue;if(_==="exit"&&E.isActive&&D!==!0){E.prevResolvedValues&&(y={...y,...E.prevResolvedValues});continue}const O=wU(E.prevProp,C);let U=O||_===c&&E.isActive&&!F&&P||b>x&&P,I=!1;const k=Array.isArray(C)?C:[C];let j=k.reduce(r(_),{});D===!1&&(j={});const{prevResolvedValues:W={}}=E,$={...W,...j},se=q=>{U=!0,g.has(q)&&(I=!0,g.delete(q)),E.needsAnimating[q]=!0;const z=i.getValue(q);z&&(z.liveStyle=!1)};for(const q in $){const z=j[q],J=W[q];if(y.hasOwnProperty(q))continue;let V=!1;pM(z)&&pM(J)?V=!rI(z,J):V=z!==J,V?z!=null?se(q):g.add(q):z!==void 0&&g.has(q)?se(q):E.protectedKeys[q]=!0}E.prevProp=C,E.prevResolvedValues=j,E.isActive&&(y={...y,...j}),n&&i.blockInitialAnimation&&(U=!1);const Z=F&&O;U&&(!Z||I)&&m.push(...k.map(q=>{const z={type:_};if(typeof q=="string"&&n&&!Z&&i.manuallyAnimateOnMount&&i.parent){const{parent:J}=i,V=_p(J,q);if(J.enteringChildren&&V){const{delayChildren:X}=V.transition||{};z.delay=ER(J.enteringChildren,i,X)}}return{animation:q,options:z}}))}if(g.size){const b={};if(typeof f.initial!="boolean"){const _=_p(i,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(b.transition=_.transition)}g.forEach(_=>{const E=i.getBaseTarget(_),C=i.getValue(_);C&&(C.liveStyle=!0),b[_]=E??null}),m.push({animation:b})}let M=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!i.manuallyAnimateOnMount&&(M=!1),n=!1,M?e(m):Promise.resolve()}function a(c,f){if(t[c].isActive===f)return Promise.resolve();i.variantChildren?.forEach(m=>m.animationState?.setActive(c,f)),t[c].isActive=f;const p=o(c);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=V2()}}}function wU(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!rI(e,i):!1}function If(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V2(){return{animate:If(!0),whileInView:If(),whileHover:If(),whileTap:If(),whileDrag:If(),whileFocus:If(),exit:If()}}function H2(i,e){i.min=e.min,i.max=e.max}function Fa(i,e){H2(i.x,e.x),H2(i.y,e.y)}function G2(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}const sI=1e-4,MU=1-sI,bU=1+sI,oI=.01,TU=0-oI,EU=0+oI;function Fs(i){return i.max-i.min}function AU(i,e,t){return Math.abs(i-e)<=t}function W2(i,e,t,n=.5){i.origin=n,i.originPoint=Ii(e.min,e.max,i.origin),i.scale=Fs(t)/Fs(e),i.translate=Ii(t.min,t.max,i.origin)-i.originPoint,(i.scale>=MU&&i.scale<=bU||isNaN(i.scale))&&(i.scale=1),(i.translate>=TU&&i.translate<=EU||isNaN(i.translate))&&(i.translate=0)}function Ng(i,e,t,n){W2(i.x,e.x,t.x,n?n.originX:void 0),W2(i.y,e.y,t.y,n?n.originY:void 0)}function j2(i,e,t){i.min=t.min+e.min,i.max=i.min+Fs(e)}function CU(i,e,t){j2(i.x,e.x,t.x),j2(i.y,e.y,t.y)}function X2(i,e,t){i.min=e.min-t.min,i.max=i.min+Fs(e)}function Ex(i,e,t){X2(i.x,e.x,t.x),X2(i.y,e.y,t.y)}function Y2(i,e,t,n,r){return i-=e,i=Tx(i,1/t,n),r!==void 0&&(i=Tx(i,1/r,n)),i}function PU(i,e=0,t=1,n=.5,r,s=i,o=i){if(yl.test(e)&&(e=parseFloat(e),e=Ii(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ii(s.min,s.max,n);i===s&&(a-=e),i.min=Y2(i.min,e,t,a,r),i.max=Y2(i.max,e,t,a,r)}function q2(i,e,[t,n,r],s,o){PU(i,e[t],e[n],e[r],e.scale,s,o)}const RU=["x","scaleX","originX"],IU=["y","scaleY","originY"];function $2(i,e,t,n){q2(i.x,e,RU,t?t.x:void 0,n?n.x:void 0),q2(i.y,e,IU,t?t.y:void 0,n?n.y:void 0)}function K2(i){return i.translate===0&&i.scale===1}function aI(i){return K2(i.x)&&K2(i.y)}function Z2(i,e){return i.min===e.min&&i.max===e.max}function LU(i,e){return Z2(i.x,e.x)&&Z2(i.y,e.y)}function J2(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function lI(i,e){return J2(i.x,e.x)&&J2(i.y,e.y)}function Q2(i){return Fs(i.x)/Fs(i.y)}function eA(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}function cl(i){return[i("x"),i("y")]}function NU(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,o=t?.z||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:g,skewX:y,skewY:x}=t;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),x&&(n+=`skewY(${x}deg) `)}const a=i.x.scale*e.x,c=i.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const uI=["TopLeft","TopRight","BottomLeft","BottomRight"],DU=uI.length,tA=i=>typeof i=="string"?parseFloat(i):i,nA=i=>typeof i=="number"||kt.test(i);function kU(i,e,t,n,r,s){r?(i.opacity=Ii(0,t.opacity??1,FU(n)),i.opacityExit=Ii(e.opacity??1,0,OU(n))):s&&(i.opacity=Ii(e.opacity??1,t.opacity??1,n));for(let o=0;o<DU;o++){const a=`border${uI[o]}Radius`;let c=iA(e,a),f=iA(t,a);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||nA(c)===nA(f)?(i[a]=Math.max(Ii(tA(c),tA(f),n),0),(yl.test(f)||yl.test(c))&&(i[a]+="%")):i[a]=f}(e.rotate||t.rotate)&&(i.rotate=Ii(e.rotate||0,t.rotate||0,n))}function iA(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const FU=cI(0,.5,nR),OU=cI(.5,.95,aa);function cI(i,e,t){return n=>n<i?0:n>e?1:t(r0(i,e,n))}function UU(i,e,t){const n=cs(i)?i:Pp(i);return n.start(kb("",n,e,t)),n.animation}function l0(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const BU=(i,e)=>i.depth-e.depth;class zU{constructor(){this.children=[],this.isDirty=!1}add(e){xb(this.children,e),this.isDirty=!0}remove(e){_x(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BU),this.isDirty=!1,this.children.forEach(e)}}function VU(i,e){const t=ks.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Rc(n),i(s-e))};return hi.setup(n,!0),()=>Rc(n)}function sx(i){return cs(i)?i.get():i}class HU{constructor(){this.members=[]}add(e){xb(this.members,e);for(let t=this.members.length-1;t>=0;t--){const n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;const r=n.instance;r&&r.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&_x(this.members,n)}e.scheduleRender()}remove(e){if(_x(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r],o=s.instance;if(s.isPresent!==!1&&(!o||o.isConnected!==!1)){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const r=n.options.layoutDependency,s=e.options.layoutDependency;if(!(r!==void 0&&s!==void 0&&r===s)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ox={hasAnimatedSinceResize:!0,hasEverUpdated:!1},dS=["","X","Y","Z"],GU=1e3;let WU=0;function hS(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function fI(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=IR(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",hi,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&fI(n)}function dI({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},a=e?.()){this.id=WU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YU),this.nodes.forEach(ZU),this.nodes.forEach(JU),this.nodes.forEach(qU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Vb(o)&&!XO(o),this.instance=o;const{layoutId:a,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),i){let p,m=0;const g=()=>this.root.updateBlockedByResize=!1;hi.read(()=>{m=window.innerWidth}),i(o,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,p&&p(),p=VU(g,250),ox.hasAnimatedSinceResize&&(ox.hasAnimatedSinceResize=!1,this.nodes.forEach(oA)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&f&&(a||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||iB,{onLayoutAnimationStart:M,onLayoutAnimationComplete:b}=f.getProps(),_=!this.targetLayout||!lI(this.targetLayout,y),E=!m&&g;if(this.options.layoutRoot||this.resumeFrom||E||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Db(x,"layout"),onPlay:M,onComplete:b};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,E)}else m||oA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KU),this.nodes.forEach(jU),this.nodes.forEach(XU)):this.nodes.forEach(sA),this.clearAllSnapshots();const a=ks.now();jr.delta=Sl(0,1e3/60,a-jr.timestamp),jr.timestamp=a,jr.isProcessing=!0,rS.update.process(jr),rS.preRender.process(jr),rS.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($U),this.sharedNodes.forEach(eB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!aI(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&this.instance&&(a||qf(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),rB(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return xr();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sB))){const{scroll:f}=this.root;f&&(fp(a.x,f.offset.x),fp(a.y,f.offset.y))}return a}removeElementScroll(o){const a=xr();if(Fa(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Fa(a,o),fp(a.x,p.offset.x),fp(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=xr();Fa(c,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!a&&p.options.layoutScroll&&p.scroll&&p!==p.root&&dp(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),qf(p.latestValues)&&dp(c,p.latestValues)}return qf(this.latestValues)&&dp(c,this.latestValues),c}removeTransform(o){const a=xr();Fa(a,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!qf(f.latestValues))continue;_M(f.latestValues)&&f.updateSnapshot();const p=xr(),m=f.measurePageBox();Fa(p,m),$2(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return qf(this.latestValues)&&$2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!this.layout||!(p||m))return;this.resolvedRelativeTargetAt=jr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xr(),this.targetWithTransforms=xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fa(this.target,this.layout.layoutBox),$R(this.target,this.targetDelta)):Fa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_M(this.parent.latestValues)||qR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),Ex(this.relativeTargetOrigin,a,c),Fa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Fa(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;iU(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G2(this.prevProjectionDelta.x,this.projectionDelta.x),G2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ng(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!eA(this.projectionDelta.x,this.prevProjectionDelta.x)||!eA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cp(),this.projectionDelta=cp(),this.projectionDeltaWithTransform=cp()}setAnimationOrigin(o,a=!1){const c=this.snapshot,f=c?c.latestValues:{},p={...this.latestValues},m=cp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=xr(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,M=y!==x,b=this.getStack(),_=!b||b.members.length<=1,E=!!(M&&!_&&this.options.crossfade===!0&&!this.path.some(nB));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const D=P/1e3;aA(m.x,o.x,D),aA(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ex(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tB(this.relativeTarget,this.relativeTargetOrigin,g,D),C&&LU(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=xr()),Fa(C,this.relativeTarget)),M&&(this.animationValues=p,kU(p,f,this.latestValues,D,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hi.update(()=>{ox.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pp(0)),this.currentAnimation=UU(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:f,latestValues:p}=o;if(!(!a||!c||!f)){if(this!==o&&this.layout&&f&&hI(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||xr();const m=Fs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=Fs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Fa(a,c),dp(a,p),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,a,p)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HU),this.sharedNodes.get(o).add(a);const f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const f={};c.z&&hS("z",o,f,this.animationValues);for(let p=0;p<dS.length;p++)hS(`rotate${dS[p]}`,o,f,this.animationValues),hS(`skew${dS[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sx(a?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sx(a?.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=NU(this.projectionDeltaWithTransform,this.treeScale,p);c&&(m=c(p,m)),o.transform=m;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?o.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in wM){if(p[x]===void 0)continue;const{correct:M,applyTo:b,isCSSVariable:_}=wM[x],E=m==="none"?p[x]:M(p[x],f);if(b){const C=b.length;for(let P=0;P<C;P++)o[b[P]]=E}else _?this.options.visualElement.renderState.vars[x]=E:o[x]=E}this.options.layoutId&&(o.pointerEvents=f===this?sx(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(rA),this.root.sharedNodes.clear()}}}function jU(i){i.updateLayout()}function XU(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:r}=i.options,s=e.source!==i.layout.source;r==="size"?cl(p=>{const m=s?e.measuredBox[p]:e.layoutBox[p],g=Fs(m);m.min=t[p].min,m.max=m.min+g}):hI(r,e.layoutBox,t)&&cl(p=>{const m=s?e.measuredBox[p]:e.layoutBox[p],g=Fs(t[p]);m.max=m.min+g,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[p].max=i.relativeTarget[p].min+g)});const o=cp();Ng(o,t,e.layoutBox);const a=cp();s?Ng(a,i.applyTransform(n,!0),e.measuredBox):Ng(a,t,e.layoutBox);const c=!aI(o);let f=!1;if(!i.resumeFrom){const p=i.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const y=xr();Ex(y,e.layoutBox,m.layoutBox);const x=xr();Ex(x,t,g.layoutBox),lI(y,x)||(f=!0),p.options.layoutRoot&&(i.relativeTarget=x,i.relativeTargetOrigin=y,i.relativeParent=p)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function YU(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function qU(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function $U(i){i.clearSnapshot()}function rA(i){i.clearMeasurements()}function sA(i){i.isLayoutDirty=!1}function KU(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function oA(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function ZU(i){i.resolveTargetDelta()}function JU(i){i.calcProjection()}function QU(i){i.resetSkewAndRotation()}function eB(i){i.removeLeadSnapshot()}function aA(i,e,t){i.translate=Ii(e.translate,0,t),i.scale=Ii(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function lA(i,e,t,n){i.min=Ii(e.min,t.min,n),i.max=Ii(e.max,t.max,n)}function tB(i,e,t,n){lA(i.x,e.x,t.x,n),lA(i.y,e.y,t.y,n)}function nB(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const iB={duration:.45,ease:[.4,0,.1,1]},uA=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),cA=uA("applewebkit/")&&!uA("chrome/")?Math.round:aa;function fA(i){i.min=cA(i.min),i.max=cA(i.max)}function rB(i){fA(i.x),fA(i.y)}function hI(i,e,t){return i==="position"||i==="preserve-aspect"&&!AU(Q2(e),Q2(t),.2)}function sB(i){return i!==i.root&&i.scroll?.wasRoot}const oB=dI({attachResizeListener:(i,e)=>l0(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),pS={current:void 0},pI=dI({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!pS.current){const i=new oB({});i.mount(window),i.setOptions({layoutScroll:!0}),pS.current=i}return pS.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Xb=ce.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function dA(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function aB(...i){return e=>{let t=!1;const n=i.map(r=>{const s=dA(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():dA(i[r],null)}}}}function lB(...i){return ce.useCallback(aB(...i),i)}class uB extends ce.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=t.offsetParent,r=yM(n)&&n.offsetWidth||0,s=yM(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=r-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function cB({children:i,isPresent:e,anchorX:t,anchorY:n,root:r,pop:s}){const o=ce.useId(),a=ce.useRef(null),c=ce.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=ce.useContext(Xb),p=i.props?.ref??i?.ref,m=lB(a,p);return ce.useInsertionEffect(()=>{const{width:g,height:y,top:x,left:M,right:b,bottom:_}=c.current;if(e||s===!1||!a.current||!g||!y)return;const E=t==="left"?`left: ${M}`:`right: ${b}`,C=n==="bottom"?`bottom: ${_}`:`top: ${x}`;a.current.dataset.motionPopId=o;const P=document.createElement("style");f&&(P.nonce=f);const D=r??document.head;return D.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${E}px !important;
            ${C}px !important;
          }
        `),()=>{D.contains(P)&&D.removeChild(P)}},[e]),N.jsx(uB,{isPresent:e,childRef:a,sizeRef:c,pop:s,children:s===!1?i:ce.cloneElement(i,{ref:m})})}const fB=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,anchorY:c,root:f})=>{const p=yb(dB),m=ce.useId();let g=!0,y=ce.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:t,custom:r,onExitComplete:x=>{p.set(x,!0);for(const M of p.values())if(!M)return;n&&n()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[t,p,n]);return s&&g&&(y={...y}),ce.useMemo(()=>{p.forEach((x,M)=>p.set(M,!1))},[t]),ce.useEffect(()=>{!t&&!p.size&&n&&n()},[t]),i=N.jsx(cB,{pop:o==="popLayout",isPresent:t,anchorX:a,anchorY:c,root:f,children:i}),N.jsx(L_.Provider,{value:y,children:i})};function dB(){return new Map}function mI(i=!0){const e=ce.useContext(L_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=ce.useId();ce.useEffect(()=>{if(i)return r(s)},[i]);const o=ce.useCallback(()=>i&&n&&n(s),[s,n,i]);return!t&&n?[!1,o]:[!0]}const Xv=i=>i.key||"";function hA(i){const e=[];return ce.Children.forEach(i,t=>{ce.isValidElement(t)&&e.push(t)}),e}const MM=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",anchorY:c="top",root:f})=>{const[p,m]=mI(o),g=ce.useMemo(()=>hA(i),[i]),y=o&&!p?[]:g.map(Xv),x=ce.useRef(!0),M=ce.useRef(g),b=yb(()=>new Map),_=ce.useRef(new Set),[E,C]=ce.useState(g),[P,D]=ce.useState(g);jP(()=>{x.current=!1,M.current=g;for(let U=0;U<P.length;U++){const I=Xv(P[U]);y.includes(I)?(b.delete(I),_.current.delete(I)):b.get(I)!==!0&&b.set(I,!1)}},[P,y.length,y.join("-")]);const F=[];if(g!==E){let U=[...g];for(let I=0;I<P.length;I++){const k=P[I],j=Xv(k);y.includes(j)||(U.splice(I,0,k),F.push(k))}return s==="wait"&&F.length&&(U=F),D(hA(U)),C(g),null}const{forceRender:O}=ce.useContext(vb);return N.jsx(N.Fragment,{children:P.map(U=>{const I=Xv(U),k=o&&!p?!1:g===P||y.includes(I),j=()=>{if(_.current.has(I))return;if(_.current.add(I),b.has(I))b.set(I,!0);else return;let W=!0;b.forEach($=>{$||(W=!1)}),W&&(O?.(),D(M.current),o&&m?.(),n&&n())};return N.jsx(fB,{isPresent:k,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:f,onExitComplete:k?void 0:j,anchorX:a,anchorY:c,children:U},I)})})},gI=ce.createContext({strict:!1}),pA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let mA=!1;function hB(){if(mA)return;const i={};for(const e in pA)i[e]={isEnabled:t=>pA[e].some(n=>!!t[n])};jR(i),mA=!0}function vI(){return hB(),QO()}function pB(i){const e=vI();for(const t in i)e[t]={...e[t],...i[t]};jR(e)}const mB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Ax(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||mB.has(i)}let yI=i=>!Ax(i);function gB(i){typeof i=="function"&&(yI=e=>e.startsWith("on")?!Ax(e):i(e))}try{gB(require("@emotion/is-prop-valid").default)}catch{}function vB(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(yI(r)||t===!0&&Ax(r)||!e&&!Ax(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}const k_=ce.createContext({});function yB(i,e){if(D_(i)){const{initial:t,animate:n}=i;return{initial:t===!1||a0(t)?t:void 0,animate:a0(n)?n:void 0}}return i.inherit!==!1?e:{}}function xB(i){const{initial:e,animate:t}=yB(i,ce.useContext(k_));return ce.useMemo(()=>({initial:e,animate:t}),[gA(e),gA(t)])}function gA(i){return Array.isArray(i)?i.join(" "):i}const Yb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xI(i,e,t){for(const n in e)!cs(e[n])&&!JR(n,t)&&(i[n]=e[n])}function _B({transformTemplate:i},e){return ce.useMemo(()=>{const t=Yb();return Wb(t,e,i),Object.assign({},t.vars,t.style)},[e])}function SB(i,e){const t=i.style||{},n={};return xI(n,t,i),Object.assign(n,_B(i,e)),n}function wB(i,e){const t={},n=SB(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const _I=()=>({...Yb(),attrs:{}});function MB(i,e,t,n){const r=ce.useMemo(()=>{const s=_I();return QR(s,e,tI(n),i.transformTemplate,i.style),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};xI(s,i.style,i),r.style={...s,...r.style}}return r}const bB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qb(i){return typeof i!="string"||i.includes("-")?!1:!!(bB.indexOf(i)>-1||/[A-Z]/u.test(i))}function TB(i,e,t,{latestValues:n},r,s=!1,o){const c=(o??qb(i)?MB:wB)(e,n,r,i),f=vB(e,typeof i=="string",s),p=i!==ce.Fragment?{...f,...c,ref:t}:{},{children:m}=e,g=ce.useMemo(()=>cs(m)?m.get():m,[m]);return ce.createElement(i,{...p,children:g})}function EB({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,r){return{latestValues:AB(t,n,r,i),renderState:e()}}function AB(i,e,t,n){const r={},s=n(i,{});for(const g in s)r[g]=sx(s[g]);let{initial:o,animate:a}=i;const c=D_(i),f=GR(i);e&&f&&!c&&i.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let p=t?t.initial===!1:!1;p=p||o===!1;const m=p?a:o;if(m&&typeof m!="boolean"&&!N_(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const x=Fb(i,g[y]);if(x){const{transitionEnd:M,transition:b,..._}=x;for(const E in _){let C=_[E];if(Array.isArray(C)){const P=p?C.length-1:0;C=C[P]}C!==null&&(r[E]=C)}for(const E in M)r[E]=M[E]}}}return r}const SI=i=>(e,t)=>{const n=ce.useContext(k_),r=ce.useContext(L_),s=()=>EB(i,e,n,r);return t?s():yb(s)},CB=SI({scrapeMotionValuesFromProps:jb,createRenderState:Yb}),PB=SI({scrapeMotionValuesFromProps:nI,createRenderState:_I}),RB=Symbol.for("motionComponentSymbol");function IB(i,e,t){const n=ce.useRef(t);ce.useInsertionEffect(()=>{n.current=t});const r=ce.useRef(null);return ce.useCallback(s=>{s&&i.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=n.current;if(typeof o=="function")if(s){const a=o(s);typeof a=="function"&&(r.current=a)}else r.current?(r.current(),r.current=null):o(s);else o&&(o.current=s)},[e])}const wI=ce.createContext({});function ip(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function LB(i,e,t,n,r,s){const{visualElement:o}=ce.useContext(k_),a=ce.useContext(gI),c=ce.useContext(L_),f=ce.useContext(Xb),p=f.reducedMotion,m=f.skipAnimations,g=ce.useRef(null),y=ce.useRef(!1);n=n||a.renderer,!g.current&&n&&(g.current=n(i,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:p,skipAnimations:m,isSVG:s}),y.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const x=g.current,M=ce.useContext(wI);x&&!x.projection&&r&&(x.type==="html"||x.type==="svg")&&NB(g.current,t,r,M);const b=ce.useRef(!1);ce.useInsertionEffect(()=>{x&&b.current&&x.update(t,c)});const _=t[RR],E=ce.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return jP(()=>{y.current=!0,x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),E.current&&x.animationState&&x.animationState.animateChanges())}),ce.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),E.current=!1),x.enteringChildren=void 0)}),x}function NB(i,e,t,n){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:f,layoutCrossfade:p}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:MI(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&ip(a),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:c,layoutRoot:f})}function MI(i){if(i)return i.options.allowProjection!==!1?i.projection:MI(i.parent)}function mS(i,{forwardMotionProps:e=!1,type:t}={},n,r){n&&pB(n);const s=t?t==="svg":qb(i),o=s?PB:CB;function a(f,p){let m;const g={...ce.useContext(Xb),...f,layoutId:DB(f)},{isStatic:y}=g,x=xB(f),M=o(f,y);if(!y&&WP){kB();const b=FB(g);m=b.MeasureLayout,x.visualElement=LB(i,M,g,r,b.ProjectionNode,s)}return N.jsxs(k_.Provider,{value:x,children:[m&&x.visualElement?N.jsx(m,{visualElement:x.visualElement,...g}):null,TB(i,f,IB(M,x.visualElement,p),M,y,e,s)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=ce.forwardRef(a);return c[RB]=i,c}function DB({layoutId:i}){const e=ce.useContext(vb).id;return e&&i!==void 0?e+"-"+i:i}function kB(i,e){ce.useContext(gI).strict}function FB(i){const e=vI(),{drag:t,layout:n}=e;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(i)||n?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function OB(i,e){if(typeof Proxy>"u")return mS;const t=new Map,n=(s,o)=>mS(s,o,i,e),r=(s,o)=>n(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?n:(t.has(o)||t.set(o,mS(o,void 0,i,e)),t.get(o))})}const UB=(i,e)=>e.isSVG??qb(i)?new gU(e):new cU(e,{allowProjection:i!==ce.Fragment});class BB extends Bc{constructor(e){super(e),e.animationState||(e.animationState=SU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zB=0;class VB extends Bc{constructor(){super(...arguments),this.id=zB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HB={animation:{Feature:BB},exit:{Feature:VB}};function O0(i){return{point:{x:i.pageX,y:i.pageY}}}const GB=i=>e=>zb(e)&&i(e,O0(e));function Dg(i,e,t,n){return l0(i,e,GB(t),n)}const bI=({current:i})=>i?i.ownerDocument.defaultView:null,vA=(i,e)=>Math.abs(i-e);function WB(i,e){const t=vA(i.x,e.x),n=vA(i.y,e.y);return Math.sqrt(t**2+n**2)}const yA=new Set(["auto","scroll"]);class TI{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=vS(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,M=WB(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!M)return;const{point:b}=y,{timestamp:_}=jr;this.history.push({...b,timestamp:_});const{onStart:E,onMove:C}=this.handlers;x||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=gS(x,this.transformPagePoint),hi.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:M,onSessionEnd:b,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=vS(y.type==="pointercancel"?this.lastMoveEventInfo:gS(x,this.transformPagePoint),this.history);this.startEvent&&M&&M(y,E),b&&b(y,E)},!zb(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const c=O0(e),f=gS(c,this.transformPagePoint),{point:p}=f,{timestamp:m}=jr;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,vS(f,this.history)),this.removeListeners=D0(Dg(this.contextWindow,"pointermove",this.handlePointerMove),Dg(this.contextWindow,"pointerup",this.handlePointerUp),Dg(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){const n=getComputedStyle(t);(yA.has(n.overflowX)||yA.has(n.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:r.x-t.x,y:r.y-t.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,r),hi.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rc(this.updatePoint)}}function gS(i,e){return e?{point:e(i.point)}:i}function xA(i,e){return{x:i.x-e.x,y:i.y-e.y}}function vS({point:i},e){return{point:i,delta:xA(i,EI(e)),offset:xA(i,jB(e)),velocity:XB(e,.1)}}function jB(i){return i[0]}function EI(i){return i[i.length-1]}function XB(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=EI(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>ja(e)));)t--;if(!n)return{x:0,y:0};n===i[0]&&i.length>2&&r.timestamp-n.timestamp>ja(e)*2&&(n=i[1]);const s=ra(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function YB(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Ii(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Ii(t,i,n.max):Math.min(i,t)),i}function _A(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function qB(i,{top:e,left:t,bottom:n,right:r}){return{x:_A(i.x,t,r),y:_A(i.y,e,n)}}function SA(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function $B(i,e){return{x:SA(i.x,e.x),y:SA(i.y,e.y)}}function KB(i,e){let t=.5;const n=Fs(i),r=Fs(e);return r>n?t=r0(e.min,e.max-n,i.min):n>r&&(t=r0(i.min,i.max-r,e.min)),Sl(0,1,t)}function ZB(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const bM=.35;function JB(i=bM){return i===!1?i=0:i===!0&&(i=bM),{x:wA(i,"left","right"),y:wA(i,"top","bottom")}}function wA(i,e,t){return{min:MA(i,e),max:MA(i,t)}}function MA(i,e){return typeof i=="number"?i:i[e]||0}const QB=new WeakMap;class ez{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{t&&this.snapToCursor(O0(m).point),this.stopAnimation()},o=(m,g)=>{const{drag:y,dragPropagation:x,onDragStart:M}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PO(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cl(_=>{let E=this.getAxisMotionValue(_).get()||0;if(yl.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[_];P&&(E=Fs(P)*(parseFloat(E)/100))}}this.originPoint[_]=E}),M&&hi.update(()=>M(m,g),!1,!0),mM(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:M,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=g;if(x&&this.currentDirection===null){this.currentDirection=nz(_),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),b&&hi.update(()=>b(m,g),!1,!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new TI(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:bI(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&hi.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Yv(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=YB(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ip(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=qB(n.layoutBox,e):this.constraints=!1,this.elastic=JB(t),r!==this.constraints&&!ip(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&cl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ZB(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ip(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=rU(n,r.root,this.visualElement.getTransformPagePoint());let o=$B(r.layout.layoutBox,s);if(t){const a=t(tU(o));this.hasMutatedConstraints=!!a,a&&(o=YR(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},f=cl(p=>{if(!Yv(p,t,this.currentDirection))return;let m=c&&c[p]||{};o&&(m={min:0,max:0});const g=r?200:1e6,y=r?40:1e7,x={type:"inertia",velocity:n?e[p]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(p,x)});return Promise.all(f).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return mM(this.visualElement,e),n.start(kb(e,n,0,t,this.visualElement,!1))}stopAnimation(){cl(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){cl(t=>{const{drag:n}=this.getProps();if(!Yv(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t],c=s.get()||0;s.set(e[t]-Ii(o,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ip(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();r[o]=KB({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),cl(o=>{if(!Yv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:f}=this.constraints[o];a.set(Ii(c,f,r[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;QB.set(this.visualElement,this);const e=this.visualElement.current,t=Dg(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps(),g=f.target,y=g!==e&&kO(g);p&&m&&!y&&this.start(f)});let n;const r=()=>{const{dragConstraints:f}=this.getProps();ip(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),n||(n=tz(e,f.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hi.read(r);const a=l0(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(cl(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{a(),t(),o(),c&&c(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=bM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function bA(i){let e=!0;return()=>{if(e){e=!1;return}i()}}function tz(i,e,t){const n=I2(i,bA(t)),r=I2(e,bA(t));return()=>{n(),r()}}function Yv(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function nz(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class iz extends Bc{constructor(e){super(e),this.removeGroupControls=aa,this.removeListeners=aa,this.controls=new ez(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||aa}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const yS=i=>(e,t)=>{i&&hi.update(()=>i(e,t),!1,!0)};class rz extends Bc{constructor(){super(...arguments),this.removePointerDownListener=aa}onPointerDown(e){this.session=new TI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:yS(e),onStart:yS(t),onMove:yS(n),onEnd:(s,o)=>{delete this.session,r&&hi.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Dg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let xS=!1;class sz extends ce.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),xS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ox.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,e.layoutDependency!==t&&o.setOptions({...o.options,layoutDependency:t}),xS=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||hi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;xS=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AI(i){const[e,t]=mI(),n=ce.useContext(vb);return N.jsx(sz,{...i,layoutGroup:n,switchLayoutGroup:ce.useContext(wI),isPresent:e,safeToRemove:t})}const oz={pan:{Feature:rz},drag:{Feature:iz,ProjectionNode:pI,MeasureLayout:AI}};function TA(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=n[r];s&&hi.postRender(()=>s(e,O0(e)))}class az extends Bc{mount(){const{current:e}=this.node;e&&(this.unmount=IO(e,(t,n)=>(TA(this.node,n,"Start"),r=>TA(this.node,r,"End"))))}unmount(){}}class lz extends Bc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=D0(l0(this.node.current,"focus",()=>this.onFocus()),l0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EA(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=n[r];s&&hi.postRender(()=>s(e,O0(e)))}class uz extends Bc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=OO(e,(r,s)=>(EA(this.node,s,"Start"),(o,{success:a})=>EA(this.node,o,a?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:n?.tap===!1})}unmount(){}}const TM=new WeakMap,_S=new WeakMap,cz=i=>{const e=TM.get(i.target);e&&e(i)},fz=i=>{i.forEach(cz)};function dz({root:i,...e}){const t=i||document;_S.has(t)||_S.set(t,{});const n=_S.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(fz,{root:i,...e})),n[r]}function hz(i,e,t){const n=dz(e);return TM.set(i,t),n.observe(i),()=>{TM.delete(i),n.unobserve(i)}}const pz={some:0,all:1};class mz extends Bc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:pz[r]},a=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=f?p:m;g&&g(c)};return hz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gz(e,t))&&this.startObserver()}unmount(){}}function gz({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const vz={inView:{Feature:mz},tap:{Feature:uz},focus:{Feature:lz},hover:{Feature:az}},yz={layout:{ProjectionNode:pI,MeasureLayout:AI}},xz={...HB,...vz,...oz,...yz},on=OB(xz,UB);function _z(){const[i,e]=ce.useState(!1),[t,n]=ce.useState(!1),[r,s]=ce.useState("home"),[o,a]=ce.useState(null);ce.useEffect(()=>{const p=()=>{e(window.scrollY>50)},m=["home","what-is-launchpad","overview","why-different","curriculum","journey","outcomes","belief","gamification","application"],g={root:null,rootMargin:"-20% 0px -70% 0px",threshold:0},y=b=>{b.forEach(_=>{_.isIntersecting&&s(_.target.id)})},x=new IntersectionObserver(y,g);m.forEach(b=>{const _=document.getElementById(b);_&&x.observe(_)});const M=()=>{window.scrollY<100&&s("home")};return window.addEventListener("scroll",p),window.addEventListener("scroll",M),p(),M(),()=>{window.removeEventListener("scroll",p),window.removeEventListener("scroll",M),x.disconnect()}},[]);const c=[{label:"About",href:"#what-is-launchpad"},{label:"Program",href:"#overview"},{label:"Curriculum",href:"#curriculum"},{label:"Outcomes",href:"#outcomes"}],f=[{id:"home",sectionId:"home",icon:i4,label:"Home",onClick:()=>document.getElementById("home")?.scrollIntoView({behavior:"smooth"})},{id:"about",sectionId:"what-is-launchpad",icon:_4,label:"About",onClick:()=>document.getElementById("what-is-launchpad")?.scrollIntoView({behavior:"smooth"})},{id:"paths",sectionId:"overview",icon:Q5,label:"Paths",onClick:()=>document.getElementById("overview")?.scrollIntoView({behavior:"smooth"})},{id:"diff",sectionId:"why-different",icon:GP,label:"Why Us",onClick:()=>document.getElementById("why-different")?.scrollIntoView({behavior:"smooth"})},{id:"skills",sectionId:"curriculum",icon:t4,label:"Skills",onClick:()=>document.getElementById("curriculum")?.scrollIntoView({behavior:"smooth"})},{id:"journey",sectionId:"journey",icon:u4,label:"Journey",onClick:()=>document.getElementById("journey")?.scrollIntoView({behavior:"smooth"})},{id:"results",sectionId:"outcomes",icon:b4,label:"Results",onClick:()=>document.getElementById("outcomes")?.scrollIntoView({behavior:"smooth"})},{id:"apply",sectionId:"application",icon:VP,label:"Apply",onClick:()=>document.getElementById("application")?.scrollIntoView({behavior:"smooth"})}];return N.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500",style:{background:i?"linear-gradient(180deg, rgba(10, 15, 30, 0.95) 0%, rgba(10, 15, 30, 0.85) 100%)":"linear-gradient(180deg, rgba(10, 15, 30, 0.6) 0%, transparent 100%)",backdropFilter:"blur(20px)",borderBottom:i?"1px solid rgba(255, 255, 255, 0.08)":"none"},children:[N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex justify-between items-center h-20",children:[N.jsx(on.div,{className:"flex items-center cursor-pointer",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:N.jsx("h1",{className:"brand-name flex items-center",children:N.jsxs("span",{className:"brand-launch text-2xl lg:text-3xl",children:["LAUNCHP",N.jsx("span",{className:"rocket-icon","aria-label":"A"}),"D"]})})}),N.jsx(on.div,{className:"hidden md:flex items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:N.jsx("div",{className:"flex items-center gap-2 px-4 py-3 rounded-full",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:f.map((p,m)=>{const g=r===p.sectionId,y=o===p.id,x=p.icon;return N.jsxs(on.div,{className:"relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*m},children:[N.jsxs(on.button,{onClick:p.onClick,onMouseEnter:()=>a(p.id),onMouseLeave:()=>a(null),className:"relative w-11 h-11 rounded-full flex items-center justify-center overflow-hidden",style:{background:g?"linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(147, 51, 234, 0.3) 100%)":y?"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%)",border:g?"1px solid rgba(59, 130, 246, 0.5)":y?"1px solid rgba(255, 255, 255, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",boxShadow:g?"0 0 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)":y?"0 4px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.15)":"inset 0 1px 0 rgba(255, 255, 255, 0.05)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},whileHover:{scale:1.1},whileTap:{scale:.95},children:[N.jsx(x,{className:"w-5 h-5 transition-colors duration-300",style:{color:g?"#60a5fa":y?"#ffffff":"rgba(255, 255, 255, 0.7)"}}),g&&N.jsx(on.div,{className:"absolute -bottom-0.5 w-1 h-1 rounded-full bg-blue-400",layoutId:"activeIndicator",transition:{type:"spring",stiffness:500,damping:30}})]}),N.jsx(MM,{children:y&&N.jsxs(on.div,{initial:{opacity:0,y:5,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:5,scale:.9},transition:{duration:.15},className:"absolute -top-12 left-1/2 -translate-x-1/2 px-3 py-1.5 rounded-lg whitespace-nowrap z-50",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",fontSize:"12px",fontWeight:500,color:"#ffffff",letterSpacing:"0.02em"},children:[p.label,N.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0",style:{borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid rgba(30, 41, 59, 0.95)"}})]})})]},p.id)})})}),N.jsx(on.button,{className:"md:hidden w-10 h-10 rounded-full flex items-center justify-center",onClick:()=>n(!t),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:t?N.jsx(HP,{size:20,className:"text-white"}):N.jsx(f4,{size:20,className:"text-white"})})]})}),N.jsx(MM,{children:t&&N.jsx(on.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden overflow-hidden",style:{background:"linear-gradient(180deg, rgba(10, 15, 30, 0.98) 0%, rgba(10, 15, 30, 0.95) 100%)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)"},children:N.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-3",children:[c.map((p,m)=>N.jsx(on.a,{href:p.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*m},className:"block py-3 px-4 rounded-xl text-slate-300 hover:text-white transition-colors",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.05)"},onClick:()=>n(!1),children:p.label},p.href)),N.jsx(on.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:N.jsx(OP,{className:"w-full py-3 font-medium text-white rounded-xl",style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",border:"none"},onClick:()=>{n(!1),document.getElementById("application")?.scrollIntoView({behavior:"smooth"})},children:"Apply Now"})})]})})})]})}function Sz({className:i,type:e,...t}){return N.jsx("input",{type:e,"data-slot":"input",className:FP("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...t})}function wz(){const[i,e]=ce.useState(!1),[t,n]=ce.useState(""),[r,s]=ce.useState([{type:"bot",text:" Hi! I'm your Launchpad AI assistant. Ready to help you choose your path?"},{type:"bot",text:" I can help with questions about Entrepreneur and Career paths, program details, and more!"}]),o=()=>{t.trim()&&(s([...r,{type:"user",text:t}]),setTimeout(()=>{s(a=>[...a,{type:"bot",text:"Thanks for your question! Our team will get back to you with detailed information about Launchpad."}])},1e3),n(""))};return N.jsxs(N.Fragment,{children:[!i&&N.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 rounded-full p-3 sm:p-4 transition-all hover:scale-110 lp-animate-pulse-blue",style:{background:"var(--lp-blue)",boxShadow:"0 0 30px rgba(0, 169, 255, 0.5)"},children:N.jsx(c2,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),i&&N.jsxs("div",{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 w-full max-w-[calc(100vw-2rem)] sm:w-96 rounded-2xl shadow-2xl flex flex-col overflow-hidden",style:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"var(--lp-glow-blend)"},children:[N.jsxs("div",{className:"p-4 flex justify-between items-center",style:{background:"var(--lp-gradient-primary)"},children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"rounded-full p-2 bg-white/20",children:N.jsx(c2,{size:20,className:"text-white"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-semibold",children:"Launchpad AI"}),N.jsx("p",{className:"text-xs text-white/70",children:"Online"})]})]}),N.jsx("button",{onClick:()=>e(!1),className:"rounded-full p-1 transition-colors text-white/80 hover:text-white",children:N.jsx(HP,{size:20})})]}),N.jsx("div",{className:"flex-1 p-4 space-y-4 max-h-96 overflow-y-auto",style:{background:"rgba(15, 23, 42, 0.98)"},children:r.map((a,c)=>N.jsx("div",{className:`flex ${a.type==="user"?"justify-end":"justify-start"}`,children:N.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${a.type==="user"?"rounded-br-sm":"rounded-bl-sm"}`,style:{background:a.type==="user"?"var(--lp-blue)":"rgba(255, 255, 255, 0.05)",color:a.type==="user"?"white":"#CBD5E1",border:a.type==="user"?"none":"1px solid rgba(255, 255, 255, 0.1)"},children:N.jsx("p",{className:"text-sm",children:a.text})})},c))}),N.jsx("div",{className:"p-4",style:{background:"rgba(15, 23, 42, 0.98)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:N.jsxs("div",{className:"flex gap-2",children:[N.jsx(Sz,{value:t,onChange:a=>n(a.target.value),onKeyPress:a=>a.key==="Enter"&&o(),placeholder:"Ask me anything...",className:"flex-1 bg-white/5 border-white/10 text-white placeholder:text-slate-500"}),N.jsx(OP,{onClick:o,style:{background:"var(--lp-blue)",color:"white"},children:N.jsx(VP,{size:18})})]})})]})]})}function AA({type:i,title:e,subtitle:t,description:n,features:r,flipped:s,onFlip:o}){const a=i==="entrepreneur",c=a?{borderColor:"#FF3333",glowColor:"rgba(255, 51, 51, 1)",titleColor:"#F43F5E",accentBorder:"rgba(225, 29, 72, 0.4)",badgeBg:"linear-gradient(135deg, rgba(225, 29, 72, 0.2) 0%, rgba(225, 29, 72, 0.05) 100%)",badgeBorder:"rgba(225, 29, 72, 0.3)",iconBg:"linear-gradient(135deg, rgba(225, 29, 72, 0.3) 0%, rgba(225, 29, 72, 0.1) 100%)",iconBorder:"rgba(225, 29, 72, 0.4)",iconShadow:"rgba(225, 29, 72, 0.3)",checkColor:"rgb(251, 113, 133)",cardBg:"linear-gradient(145deg, rgba(40, 15, 20, 1) 0%, rgba(25, 10, 15, 1) 50%, rgba(15, 8, 12, 1) 100%)",gridColor:"#FF3333"}:{borderColor:"#00D9FF",glowColor:"rgba(0, 217, 255, 1)",titleColor:"#38BDF8",accentBorder:"rgba(14, 165, 233, 0.4)",badgeBg:"linear-gradient(135deg, rgba(14, 165, 233, 0.2) 0%, rgba(14, 165, 233, 0.05) 100%)",badgeBorder:"rgba(14, 165, 233, 0.3)",iconBg:"linear-gradient(135deg, rgba(14, 165, 233, 0.3) 0%, rgba(14, 165, 233, 0.1) 100%)",iconBorder:"rgba(14, 165, 233, 0.4)",iconShadow:"rgba(14, 165, 233, 0.3)",checkColor:"rgb(56, 189, 248)",cardBg:"linear-gradient(145deg, rgba(15, 25, 40, 1) 0%, rgba(10, 18, 30, 1) 50%, rgba(5, 12, 22, 1) 100%)",gridColor:"#00D9FF"},f=[{rest:{rotate:-6,x:-18,opacity:.5,scale:.98},hover:{rotate:-15,x:-80,opacity:.6,scale:.96}},{rest:{rotate:-4,x:-12,opacity:.5,scale:.99},hover:{rotate:-10,x:-55,opacity:.6,scale:.97}},{rest:{rotate:-2,x:-6,opacity:.5,scale:.995},hover:{rotate:-5,x:-30,opacity:.65,scale:.98}},{rest:{rotate:2,x:6,opacity:.5,scale:.995},hover:{rotate:5,x:30,opacity:.65,scale:.98}},{rest:{rotate:4,x:12,opacity:.5,scale:.99},hover:{rotate:10,x:55,opacity:.6,scale:.97}},{rest:{rotate:6,x:18,opacity:.5,scale:.98},hover:{rotate:15,x:80,opacity:.6,scale:.96}}],p={position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",borderRadius:"32px",background:c.cardBg,border:`2px solid ${c.borderColor}`,boxShadow:`
      0 0 20px ${c.glowColor},
      0 0 40px ${c.glowColor}80,
      0 0 60px ${c.glowColor}40,
      inset 0 0 20px ${c.glowColor}20,
      inset 0 1px 0 rgba(255, 255, 255, 0.05)
    `,backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",overflow:"hidden"};return N.jsxs(on.div,{style:{position:"relative",width:"100%",maxWidth:"480px",height:"540px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",cursor:"pointer",flexShrink:0},initial:"rest",whileHover:"hover",animate:"rest",children:[f.map((m,g)=>N.jsx(on.div,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:g<3?g:5-g,willChange:"transform"},variants:{rest:m.rest,hover:m.hover},transition:{type:"spring",stiffness:300,damping:30},children:N.jsxs("div",{style:{width:"100%",height:"100%",borderRadius:"32px",background:c.cardBg,border:`2px solid ${c.borderColor}`,boxShadow:`0 0 15px ${c.glowColor}80`,position:"relative",overflow:"hidden"},children:[N.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",opacity:.4,background:`radial-gradient(circle at 70% 20%, ${c.glowColor}15, transparent 60%)`}}),N.jsx("div",{style:{position:"absolute",inset:0,opacity:.3,pointerEvents:"none",backgroundImage:`
                  linear-gradient(${c.gridColor}50 1.5px, transparent 1.5px),
                  linear-gradient(90deg, ${c.gridColor}50 1.5px, transparent 1.5px)
                `,backgroundSize:"40px 40px"}})]})},g)),N.jsx(on.div,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,perspective:"1000px",willChange:"transform"},variants:{rest:{y:0,scale:1},hover:{y:-12,scale:1.02}},transition:{type:"spring",stiffness:400,damping:30},children:N.jsxs(on.div,{style:{position:"relative",width:"100%",height:"100%",transformStyle:"preserve-3d",willChange:"transform"},animate:{rotateY:s?180:0},transition:{duration:.6,ease:[.25,.1,.25,1],type:"tween"},children:[N.jsxs("div",{style:{...p,display:"flex",flexDirection:"column",padding:"32px 40px",pointerEvents:s?"none":"auto"},onClick:o,children:[N.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"1px",background:`linear-gradient(to right, transparent, ${c.accentBorder}, transparent)`}}),N.jsxs("div",{style:{position:"relative",zIndex:10,display:"flex",flexDirection:"column",flex:1},children:[N.jsxs("div",{style:{marginBottom:"auto"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[N.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:c.iconBg,border:`1px solid ${c.iconBorder}`,boxShadow:`0 0 20px ${c.iconShadow}`,padding:"8px"},children:a?N.jsx(zP,{style:{width:"24px",height:"24px",color:"white"}}):N.jsx(G5,{style:{width:"24px",height:"24px",color:"white"}})}),N.jsx("div",{style:{padding:"6px 12px",borderRadius:"9999px",background:c.badgeBg,border:`1px solid ${c.badgeBorder}`},children:N.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"white",letterSpacing:"0.05em",textTransform:"uppercase"},children:t})})]}),N.jsx("h4",{style:{fontSize:"clamp(1.875rem, 2vw, 2.25rem)",fontWeight:900,marginBottom:"16px",letterSpacing:"-0.025em",color:c.titleColor},children:e}),N.jsx("p",{style:{color:"#94a3b8",fontSize:"clamp(1rem, 1.2vw, 1.125rem)",lineHeight:1.625,maxWidth:"24rem"},children:n})]}),N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"32px"},children:r.map((m,g)=>N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"12px 16px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"transform 0.3s"},children:[N.jsx($5,{style:{width:"20px",height:"20px",flexShrink:0,color:c.checkColor}}),N.jsx("span",{style:{color:"white",fontWeight:500,letterSpacing:"0.025em"},children:m})]},g))})]})]}),N.jsxs("div",{style:{...p,transform:"rotateY(180deg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px 40px",pointerEvents:s?"auto":"none"},onClick:m=>m.stopPropagation(),children:[N.jsx("div",{style:{position:"absolute",inset:0,opacity:.3,pointerEvents:"none",backgroundImage:`
                  linear-gradient(${c.gridColor}50 1.5px, transparent 1.5px),
                  linear-gradient(90deg, ${c.gridColor}50 1.5px, transparent 1.5px)
                `,backgroundSize:"40px 40px"}}),N.jsxs("div",{style:{position:"relative",zIndex:10,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",gap:"32px"},children:[N.jsxs("div",{children:[N.jsx("h3",{style:{fontSize:"clamp(2.25rem, 3vw, 3rem)",fontWeight:900,marginBottom:"16px",color:c.titleColor},children:"Ready to Start?"}),N.jsxs("p",{style:{color:"#94a3b8",fontSize:"1.125rem"},children:["Begin your journey to ",a?"entrepreneurship":"career success"]})]}),N.jsx("button",{onClick:m=>{m.stopPropagation(),document.getElementById("application")?.scrollIntoView({behavior:"smooth"})},style:{padding:"20px 40px",borderRadius:"16px",fontWeight:700,fontSize:"1.25rem",color:"white",background:`linear-gradient(135deg, ${c.borderColor} 0%, ${c.titleColor} 100%)`,boxShadow:`
                    0 0 30px ${c.glowColor},
                    0 0 50px ${c.glowColor}80,
                    0 10px 40px rgba(0, 0, 0, 0.5)
                  `,border:"none",cursor:"pointer",transition:"transform 0.3s"},children:"Get Started"}),N.jsx("button",{onClick:m=>{m.stopPropagation(),o()},style:{color:"#94a3b8",fontSize:"0.875rem",textDecoration:"underline",textUnderlineOffset:"4px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},children:"Go Back"})]})]})]})})]})}function Mz(){const i=ce.useRef(null),[e,t]=ce.useState(null);return N.jsx("section",{id:"overview",className:"py-12 md:py-16 lp-bg relative",style:{backgroundColor:"var(--lp-bg-solid)",overflow:"hidden",paddingBottom:"120px",position:"relative",zIndex:2},children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",ref:i,children:[N.jsx("div",{className:"text-center mb-16",children:N.jsxs("div",{className:"px-4",children:[N.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl mb-4 text-white tracking-tight",style:{fontFamily:"'Poppins', sans-serif",fontWeight:900},children:["Your Path ",N.jsx("span",{className:"text-glow-blue",children:"Forward"})]}),N.jsx("p",{className:"text-lg sm:text-xl px-2 text-slate-400 font-bold tracking-tight",children:"Two paths. One beginning. Choose your direction with Launchpad."})]})}),N.jsxs("div",{className:"mb-16 text-center flex flex-col md:flex-row items-center justify-center gap-2 md:gap-4",children:[N.jsx("span",{className:"text-4xl md:text-6xl tracking-tight",style:{color:"var(--lp-red)",fontFamily:"'Poppins', sans-serif",fontWeight:900},children:"Fear Nothing."}),N.jsx("span",{className:"text-4xl md:text-6xl tracking-tight",style:{color:"var(--lp-blue)",fontFamily:"'Poppins', sans-serif",fontWeight:700,fontStyle:"italic"},children:"Build Everything."})]}),N.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:"48px"},children:[N.jsx(AA,{type:"entrepreneur",title:"Create Your Empire",subtitle:"Entrepreneur Path",description:"Launch and scale your own startup with expert guidance and proven frameworks.",features:["Startup toolkit & resources","Mentor network access","Funding & pitch guidance"],flipped:e==="entrepreneur",onFlip:()=>t(e==="entrepreneur"?null:"entrepreneur")}),N.jsx(AA,{type:"career",title:"Build Your Future",subtitle:"Career Path",description:"Master skills and land your dream job in tech with industry-ready training.",features:["Industry-grade projects","Technical interview prep","Job placement support"],flipped:e==="career",onFlip:()=>t(e==="career"?null:"career")})]})]})})}const bz="_section_evjmh_1",Tz="_left_evjmh_33",Ez="_headline_evjmh_45",Az="_subheading_evjmh_71",Cz="_topArea_evjmh_85",Pz="_robotBox_evjmh_99",Rz="_sideCards_evjmh_145",Iz="_pill_evjmh_157",Lz="_contentBlob_evjmh_177",Nz="_stats_evjmh_211",Dz="_stat_evjmh_211",kz="_right_evjmh_263",Fz="_qr_evjmh_279",Oz="_applyText_evjmh_313",Uz="_btn_evjmh_323",Bz="_link_evjmh_367",zz="_tagline_evjmh_385",Pr={section:bz,left:Tz,headline:Ez,subheading:Az,topArea:Cz,robotBox:Pz,sideCards:Rz,pill:Iz,contentBlob:Lz,stats:Nz,stat:Dz,right:kz,qr:Fz,applyText:Oz,btn:Uz,link:Bz,tagline:zz};var Rh={},SS={exports:{}},wS,CA;function Vz(){if(CA)return wS;CA=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wS=i,wS}var MS,PA;function Hz(){if(PA)return MS;PA=1;var i=Vz();function e(){}function t(){}return t.resetWarningCache=e,MS=function(){function n(o,a,c,f,p,m){if(m!==i){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},MS}var RA;function CI(){return RA||(RA=1,SS.exports=Hz()()),SS.exports}var bS,IA;function PI(){return IA||(IA=1,bS={L:1,M:0,Q:3,H:2}),bS}var TS,LA;function RI(){return LA||(LA=1,TS={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),TS}var ES,NA;function Gz(){if(NA)return ES;NA=1;var i=RI();function e(t){this.mode=i.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var n=0;n<this.data.length;n++)t.put(this.data.charCodeAt(n),8)}},ES=e,ES}var AS,DA;function Wz(){if(DA)return AS;DA=1;var i=PI();function e(t,n){this.totalCount=t,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,n){var r=e.getRsBlockTable(t,n);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var s=r.length/3,o=new Array,a=0;a<s;a++)for(var c=r[a*3+0],f=r[a*3+1],p=r[a*3+2],m=0;m<c;m++)o.push(new e(f,p));return o},e.getRsBlockTable=function(t,n){switch(n){case i.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case i.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case i.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case i.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},AS=e,AS}var CS,kA;function jz(){if(kA)return CS;kA=1;function i(){this.buffer=new Array,this.length=0}return i.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},CS=i,CS}var PS,FA;function II(){if(FA)return PS;FA=1;for(var i={glog:function(t){if(t<1)throw new Error("glog("+t+")");return i.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return i.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)i.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)i.EXP_TABLE[e]=i.EXP_TABLE[e-4]^i.EXP_TABLE[e-5]^i.EXP_TABLE[e-6]^i.EXP_TABLE[e-8];for(var e=0;e<255;e++)i.LOG_TABLE[i.EXP_TABLE[e]]=e;return PS=i,PS}var RS,OA;function LI(){if(OA)return RS;OA=1;var i=II();function e(t,n){if(t.length==null)throw new Error(t.length+"/"+n);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+n);for(var s=0;s<t.length-r;s++)this.num[s]=t[s+r]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<t.getLength();s++)n[r+s]^=i.gexp(i.glog(this.get(r))+i.glog(t.get(s)));return new e(n,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=i.glog(this.get(0))-i.glog(t.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<t.getLength();s++)r[s]^=i.gexp(i.glog(t.get(s))+n);return new e(r,0).mod(t)}},RS=e,RS}var IS,UA;function Xz(){if(UA)return IS;UA=1;var i=RI(),e=LI(),t=II(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;r.getBCHDigit(o)-r.getBCHDigit(r.G15)>=0;)o^=r.G15<<r.getBCHDigit(o)-r.getBCHDigit(r.G15);return(s<<10|o)^r.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;r.getBCHDigit(o)-r.getBCHDigit(r.G18)>=0;)o^=r.G18<<r.getBCHDigit(o)-r.getBCHDigit(r.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,a){switch(s){case n.PATTERN000:return(o+a)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return a%3==0;case n.PATTERN011:return(o+a)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2==0;case n.PATTERN101:return o*a%2+o*a%3==0;case n.PATTERN110:return(o*a%2+o*a%3)%2==0;case n.PATTERN111:return(o*a%3+(o+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),a=0;a<s;a++)o=o.multiply(new e([1,t.gexp(a)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),a=0,c=0;c<o;c++)for(var f=0;f<o;f++){for(var p=0,m=s.isDark(c,f),g=-1;g<=1;g++)if(!(c+g<0||o<=c+g))for(var y=-1;y<=1;y++)f+y<0||o<=f+y||g==0&&y==0||m==s.isDark(c+g,f+y)&&p++;p>5&&(a+=3+p-5)}for(var c=0;c<o-1;c++)for(var f=0;f<o-1;f++){var x=0;s.isDark(c,f)&&x++,s.isDark(c+1,f)&&x++,s.isDark(c,f+1)&&x++,s.isDark(c+1,f+1)&&x++,(x==0||x==4)&&(a+=3)}for(var c=0;c<o;c++)for(var f=0;f<o-6;f++)s.isDark(c,f)&&!s.isDark(c,f+1)&&s.isDark(c,f+2)&&s.isDark(c,f+3)&&s.isDark(c,f+4)&&!s.isDark(c,f+5)&&s.isDark(c,f+6)&&(a+=40);for(var f=0;f<o;f++)for(var c=0;c<o-6;c++)s.isDark(c,f)&&!s.isDark(c+1,f)&&s.isDark(c+2,f)&&s.isDark(c+3,f)&&s.isDark(c+4,f)&&!s.isDark(c+5,f)&&s.isDark(c+6,f)&&(a+=40);for(var M=0,f=0;f<o;f++)for(var c=0;c<o;c++)s.isDark(c,f)&&M++;var b=Math.abs(100*M/o/o-50)/5;return a+=b*10,a}};return IS=r,IS}var LS,BA;function Yz(){if(BA)return LS;BA=1;var i=Gz(),e=Wz(),t=jz(),n=Xz(),r=LI();function s(a,c){this.typeNumber=a,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(a){var c=new i(a);this.dataList.push(c),this.dataCache=null},o.isDark=function(a,c){if(a<0||this.moduleCount<=a||c<0||this.moduleCount<=c)throw new Error(a+","+c);return this.modules[a][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var a=1;for(a=1;a<40;a++){for(var c=e.getRSBlocks(a,this.errorCorrectLevel),f=new t,p=0,m=0;m<c.length;m++)p+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var g=this.dataList[m];f.put(g.mode,4),f.put(g.getLength(),n.getLengthInBits(g.mode,a)),g.write(f)}if(f.getLengthInBits()<=p*8)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(a,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[f][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(a,c){for(var f=-1;f<=7;f++)if(!(a+f<=-1||this.moduleCount<=a+f))for(var p=-1;p<=7;p++)c+p<=-1||this.moduleCount<=c+p||(0<=f&&f<=6&&(p==0||p==6)||0<=p&&p<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=p&&p<=4?this.modules[a+f][c+p]=!0:this.modules[a+f][c+p]=!1)},o.getBestMaskPattern=function(){for(var a=0,c=0,f=0;f<8;f++){this.makeImpl(!0,f);var p=n.getLostPoint(this);(f==0||a>p)&&(a=p,c=f)}return c},o.createMovieClip=function(a,c,f){var p=a.createEmptyMovieClip(c,f),m=1;this.make();for(var g=0;g<this.modules.length;g++)for(var y=g*m,x=0;x<this.modules[g].length;x++){var M=x*m,b=this.modules[g][x];b&&(p.beginFill(0,100),p.moveTo(M,y),p.lineTo(M+m,y),p.lineTo(M+m,y+m),p.lineTo(M,y+m),p.endFill())}return p},o.setupTimingPattern=function(){for(var a=8;a<this.moduleCount-8;a++)this.modules[a][6]==null&&(this.modules[a][6]=a%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var a=n.getPatternPosition(this.typeNumber),c=0;c<a.length;c++)for(var f=0;f<a.length;f++){var p=a[c],m=a[f];if(this.modules[p][m]==null)for(var g=-2;g<=2;g++)for(var y=-2;y<=2;y++)g==-2||g==2||y==-2||y==2||g==0&&y==0?this.modules[p+g][m+y]=!0:this.modules[p+g][m+y]=!1}},o.setupTypeNumber=function(a){for(var c=n.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var p=!a&&(c>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=p}for(var f=0;f<18;f++){var p=!a&&(c>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=p}},o.setupTypeInfo=function(a,c){for(var f=this.errorCorrectLevel<<3|c,p=n.getBCHTypeInfo(f),m=0;m<15;m++){var g=!a&&(p>>m&1)==1;m<6?this.modules[m][8]=g:m<8?this.modules[m+1][8]=g:this.modules[this.moduleCount-15+m][8]=g}for(var m=0;m<15;m++){var g=!a&&(p>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=g:m<9?this.modules[8][15-m-1+1]=g:this.modules[8][15-m-1]=g}this.modules[this.moduleCount-8][8]=!a},o.mapData=function(a,c){for(var f=-1,p=this.moduleCount-1,m=7,g=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[p][y-x]==null){var M=!1;g<a.length&&(M=(a[g]>>>m&1)==1);var b=n.getMask(c,p,y-x);b&&(M=!M),this.modules[p][y-x]=M,m--,m==-1&&(g++,m=7)}if(p+=f,p<0||this.moduleCount<=p){p-=f,f=-f;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(a,c,f){for(var p=e.getRSBlocks(a,c),m=new t,g=0;g<f.length;g++){var y=f[g];m.put(y.mode,4),m.put(y.getLength(),n.getLengthInBits(y.mode,a)),y.write(m)}for(var x=0,g=0;g<p.length;g++)x+=p[g].dataCount;if(m.getLengthInBits()>x*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+x*8+")");for(m.getLengthInBits()+4<=x*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=x*8||(m.put(s.PAD0,8),m.getLengthInBits()>=x*8));)m.put(s.PAD1,8);return s.createBytes(m,p)},s.createBytes=function(a,c){for(var f=0,p=0,m=0,g=new Array(c.length),y=new Array(c.length),x=0;x<c.length;x++){var M=c[x].dataCount,b=c[x].totalCount-M;p=Math.max(p,M),m=Math.max(m,b),g[x]=new Array(M);for(var _=0;_<g[x].length;_++)g[x][_]=255&a.buffer[_+f];f+=M;var E=n.getErrorCorrectPolynomial(b),C=new r(g[x],E.getLength()-1),P=C.mod(E);y[x]=new Array(E.getLength()-1);for(var _=0;_<y[x].length;_++){var D=_+P.getLength()-y[x].length;y[x][_]=D>=0?P.get(D):0}}for(var F=0,_=0;_<c.length;_++)F+=c[_].totalCount;for(var O=new Array(F),U=0,_=0;_<p;_++)for(var x=0;x<c.length;x++)_<g[x].length&&(O[U++]=g[x][_]);for(var _=0;_<m;_++)for(var x=0;x<c.length;x++)_<y[x].length&&(O[U++]=y[x][_]);return O},LS=s,LS}var qv={},zA;function qz(){if(zA)return qv;zA=1,Object.defineProperty(qv,"__esModule",{value:!0});var i=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])}return f},e=CI(),t=s(e),n=Yp(),r=s(n);function s(f){return f&&f.__esModule?f:{default:f}}function o(f,p){var m={};for(var g in f)p.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(f,g)&&(m[g]=f[g]);return m}var a={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},c=(0,n.forwardRef)(function(f,p){var m=f.bgColor,g=f.bgD,y=f.fgD,x=f.fgColor,M=f.size,b=f.title,_=f.viewBoxSize,E=f.xmlns,C=E===void 0?"http://www.w3.org/2000/svg":E,P=o(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",i({},P,{height:M,ref:p,viewBox:"0 0 "+_+" "+_,width:M,xmlns:C}),b?r.default.createElement("title",null,b):null,r.default.createElement("path",{d:g,fill:m}),r.default.createElement("path",{d:y,fill:x}))});return c.displayName="QRCodeSvg",c.propTypes=a,qv.default=c,qv}var VA;function $z(){if(VA)return Rh;VA=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.QRCode=void 0;var i=Object.assign||function(M){for(var b=1;b<arguments.length;b++){var _=arguments[b];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(M[E]=_[E])}return M},e=CI(),t=m(e),n=PI(),r=m(n),s=Yz(),o=m(s),a=Yp(),c=m(a),f=qz(),p=m(f);function m(M){return M&&M.__esModule?M:{default:M}}function g(M,b){var _={};for(var E in M)b.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(M,E)&&(_[E]=M[E]);return _}var y={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},x=(0,a.forwardRef)(function(M,b){var _=M.bgColor,E=_===void 0?"#FFFFFF":_,C=M.fgColor,P=C===void 0?"#000000":C,D=M.level,F=D===void 0?"L":D,O=M.size,U=O===void 0?256:O,I=M.value,k=g(M,["bgColor","fgColor","level","size","value"]),j=new o.default(-1,r.default[F]);j.addData(I),j.make();var W=j.modules;return c.default.createElement(p.default,i({},k,{bgColor:E,bgD:W.map(function($,se){return $.map(function(Z,te){return Z?"":"M "+te+" "+se+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:P,fgD:W.map(function($,se){return $.map(function(Z,te){return Z?"M "+te+" "+se+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:b,size:U,viewBoxSize:W.length}))});return Rh.QRCode=x,x.displayName="QRCode",x.propTypes=y,Rh.default=x,Rh}var Kz=$z();const Zz=wP(Kz),Jz=ce.lazy(()=>MP(()=>import("./react-spline-DFgbISZ-.js"),[]));function Qz({scene:i,className:e}){return N.jsx(ce.Suspense,{fallback:N.jsx("div",{className:`w-full h-full flex items-center justify-center bg-gray-900 text-white ${e}`,children:N.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l2-2.647z"})]})}),children:N.jsx(Jz,{scene:i,className:e})})}function eV(){const i="https://forms.gle/placeholder";return N.jsxs("section",{id:"application",className:"py-20 flex justify-center items-center overflow-hidden relative",children:[N.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`
                    radial-gradient(circle at 20% 25%, rgba(177,18,44,0.35), transparent 45%),
                    radial-gradient(circle at 80% 75%, rgba(0,169,255,0.35), transparent 45%),
                    #05070d
                `,zIndex:0}}),N.jsxs("div",{className:Pr.section,children:[N.jsxs("div",{className:Pr.left,children:[N.jsx(on.div,{className:Pr.headline,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:N.jsx("h1",{children:"Join Launchpad"})}),N.jsx(on.div,{className:Pr.subheading,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:"Program Designed for Future Founders & Builders"}),N.jsxs("div",{className:Pr.topArea,children:[N.jsx(on.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.2},style:{width:"100%"},children:N.jsx("div",{className:Pr.robotBox,children:N.jsx("div",{style:{width:"100%",height:"100%",transform:"scale(0.85) translateY(5%)",transformOrigin:"center center"},children:N.jsx(Qz,{scene:"https://prod.spline.design/PyzDhpQ9E5f1E3MT/scene.splinecode",className:"w-full h-full"})})})}),N.jsx("div",{className:Pr.sideCards,children:["Exclusive Founder Network","12Week Intensive Program","1on1 Mentorship","Investor Access","Lifetime Alumni Support"].map((t,n)=>N.jsx(on.div,{className:Pr.pill,initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3+n*.1},children:t},n))})]}),N.jsxs(on.div,{className:Pr.contentBlob,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},children:[N.jsx("p",{children:"Build real skills in 12 weeks with elite mentors and direct access to the startup ecosystem."}),N.jsxs("div",{className:Pr.stats,children:[N.jsxs("div",{className:Pr.stat,children:[N.jsx("strong",{children:"500+"}),N.jsx("span",{children:"Alumni"})]}),N.jsxs("div",{className:Pr.stat,children:[N.jsx("strong",{children:"$50M+"}),N.jsx("span",{children:"Raised"})]})]})]})]}),N.jsxs("div",{className:Pr.right,children:[N.jsx(on.div,{className:Pr.qr,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5},children:N.jsx(Zz,{value:i,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),N.jsx(on.div,{className:Pr.applyText,initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},children:"Scan to apply instantly"}),N.jsxs(on.a,{href:i,target:"_blank",rel:"noopener noreferrer",className:Pr.btn,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.7},children:["Apply Now ",N.jsx(BP,{size:18,className:"ml-2"})]}),N.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:Pr.link,children:"Open in Browser"}),N.jsx("div",{className:Pr.tagline,children:"One Life. One Story."})]})]})]})}function tV(){const i=[{title:"Our Services",links:["Multi Media","Digital Marketing services","2D / 3D Animations","App / Web Development"],type:"text"},{title:"Our Address",links:["LAUNCHPAD HQ","6th Floor, DHFLVC, Silicon Towers, Kondapur, Hyderabad-500032."],type:"text"},{title:"Follow Us",socialLinks:[{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61574561078561",icon:"facebook"},{name:"Twitter",url:"https://twitter.com",icon:"twitter"},{name:"Instagram",url:"https://www.instagram.com/bristletech.ai/",icon:"instagram"},{name:"LinkedIn",url:"https://www.linkedin.com/company/bristle-tech/posts/?feedView=all",icon:"linkedin"}],type:"social"}],e=({icon:t})=>{const n="w-6 h-6";switch(t){case"facebook":return N.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"twitter":return N.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})});case"instagram":return N.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[N.jsx("path",{d:"M12.017 0C8.396 0 7.932.013 6.715.058 5.507.103 4.677.277 3.954.525 3.199.787 2.543 1.175 1.893 1.825.926 2.792.521 3.934.058 6.715.013 7.932 0 8.396 0 12.017c0 3.624.013 4.09.058 5.307.045 1.218.219 2.048.467 2.771.262.755.65 1.411 1.3 2.061.65.65 1.306 1.038 2.061 1.3.723.248 1.553.422 2.771.467C7.932 23.987 8.396 24 12.017 24s4.085-.013 5.302-.058c1.218-.045 2.048-.219 2.771-.467.755-.262 1.411-.65 2.061-1.3.65-.65 1.038-1.306 1.3-2.061.248-.723.422-1.553.467-2.771.045-1.217.058-1.678.058-5.302s-.013-4.085-.058-5.302c-.045-1.218-.219-2.048-.467-2.771a5.428 5.428 0 00-1.3-2.061 5.428 5.428 0 00-2.061-1.3c-.723-.248-1.553-.422-2.771-.467C16.102.013 15.641 0 12.017 0zM12.017 2.13c3.586 0 4.009.016 5.42.061 1.308.059 2.018.271 2.491.451.627.244 1.074.536 1.544 1.006s.762.917 1.006 1.544c.18.473.392 1.183.451 2.491.045 1.411.061 1.834.061 5.42s-.016 4.009-.061 5.42c-.059 1.308-.271 2.018-.451 2.491-.244.627-.536 1.074-1.006 1.544s-.917.762-1.544 1.006c-.473.18-1.183.392-2.491.451-1.411.045-1.834.061-5.42.061s-4.009-.016-5.42-.061c-1.308-.059-2.018-.271-2.491-.451a4.152 4.152 0 01-1.544-1.006 4.152 4.152 0 01-1.006-1.544c-.18-.473-.392-1.183-.451-2.491C2.146 16.026 2.13 15.603 2.13 12.017s.016-4.009.061-5.42c.059-1.308.271-2.018.451-2.491.244-.627.536-1.074 1.006-1.544s.917-.762 1.544-1.006c.473-.18 1.183-.392 2.491-.451 1.411-.045 1.834-.061 5.42-.061z"}),N.jsx("path",{d:"M12.017 5.838a6.179 6.179 0 100 12.358 6.179 6.179 0 000-12.358zM12.017 16a3.821 3.821 0 110-7.642 3.821 3.821 0 010 7.642zM19.846 5.595a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z"})]});case"linkedin":return N.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});default:return null}};return N.jsx("footer",{style:{background:"linear-gradient(to bottom, var(--lp-bg-solid), #0F172A)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-10",children:[N.jsxs("div",{className:"grid md:grid-cols-4 gap-8 md:gap-10 mb-8 md:mb-10",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"brand-name mb-4",children:N.jsxs("span",{className:"brand-launch text-2xl lg:text-3xl",children:["LAUNCHP",N.jsx("span",{className:"rocket-icon","aria-label":"A"}),"D"]})}),"            ",N.jsxs("p",{className:"text-slate-400 text-sm",children:[N.jsx("span",{className:"font-bold text-white",children:"One Life. One Story."})," Your journey from Student to Founder in 90 days starts here."]})]}),i.map((t,n)=>N.jsxs("div",{children:[N.jsx("h4",{className:"mb-4 font-semibold text-white",children:t.title}),t.type==="social"?N.jsx("div",{className:"flex gap-4",children:t.socialLinks&&t.socialLinks.map((r,s)=>N.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full text-slate-400 hover:text-white transition-all duration-300 hover:scale-110",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},"aria-label":r.name,children:N.jsx(e,{icon:r.icon})},s))}):N.jsx("ul",{className:"space-y-2",children:t.links&&t.links.map((r,s)=>N.jsx("li",{children:t.title==="Our Address"?N.jsx("span",{className:"text-slate-400 text-sm font-bold",children:r}):N.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors text-sm font-bold",children:r})},s))})]},n))]}),N.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[N.jsx("p",{className:"text-white text-sm font-bold",children:" 2026 Launchpad. All rights reserved."}),N.jsxs("div",{className:"flex gap-6",children:[N.jsx("a",{href:"#",className:"text-white hover:text-slate-300 transition-colors text-sm font-bold",children:"Privacy Policy"}),N.jsx("a",{href:"#",className:"text-white hover:text-slate-300 transition-colors text-sm font-bold",children:"Terms of Service"})]})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const F_="182",nV={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NI=0,EM=1,DI=2,rV=3,kI=0,Sp=1,kg=2,nd=3,bu=0,Us=1,Ga=2,xl=0,ud=1,AM=2,CM=3,PM=4,FI=5,vc=100,OI=101,UI=102,BI=103,zI=104,VI=200,HI=201,GI=202,WI=203,Cx=204,Px=205,jI=206,XI=207,YI=208,qI=209,$I=210,KI=211,ZI=212,JI=213,QI=214,Rx=0,Ix=1,Lx=2,_d=3,Nx=4,Dx=5,kx=6,Fx=7,U0=0,eL=1,tL=2,la=0,$b=1,Kb=2,Zb=3,O_=4,Jb=5,Qb=6,eT=7,RM="attached",nL="detached",U_=300,wl=301,Lc=302,u0=303,c0=304,Qp=306,Sd=1e3,ro=1001,f0=1002,$i=1003,tT=1004,sV=1004,hp=1005,oV=1005,ui=1006,Fg=1007,aV=1007,pl=1008,lV=1008,Is=1009,nT=1010,iT=1011,Rp=1012,B_=1013,fa=1014,Os=1015,Ml=1016,z_=1017,V_=1018,Ip=1020,rT=35902,sT=35899,oT=1021,aT=1022,Xr=1023,bl=1026,xc=1027,H_=1028,B0=1029,wd=1030,G_=1031,uV=1032,W_=1033,Og=33776,Ug=33777,Bg=33778,zg=33779,Ox=35840,Ux=35841,Bx=35842,zx=35843,Vx=36196,Hx=37492,Gx=37496,Wx=37488,jx=37489,Xx=37490,Yx=37491,qx=37808,$x=37809,Kx=37810,Zx=37811,Jx=37812,Qx=37813,e_=37814,t_=37815,n_=37816,i_=37817,r_=37818,s_=37819,o_=37820,a_=37821,l_=36492,u_=36494,c_=36495,f_=36283,d_=36284,h_=36285,p_=36286,iL=2200,rL=2201,sL=2202,d0=2300,m_=2301,ax=2302,id=2400,rd=2401,h0=2402,j_=2500,lT=2501,cV=0,fV=1,dV=2,oL=3200,hV=3201,pV=3202,mV=3203,zc=0,aL=1,vu="",no="srgb",Md="srgb-linear",p0="linear",qn="srgb",gV="",vV="rg",yV="ga",xV=0,$f=7680,_V=7681,SV=7682,wV=7683,MV=34055,bV=34056,TV=5386,EV=512,AV=513,CV=514,PV=515,RV=516,IV=517,LV=518,IM=519,lL=512,uL=513,cL=514,X_=515,fL=516,dL=517,Y_=518,hL=519,m0=35044,NV=35048,DV=35040,kV=35045,FV=35049,OV=35041,UV=35046,BV=35050,zV=35042,VV="100",LM="300 es",Do=2e3,Lp=2001,HV={COMPUTE:"compute",RENDER:"render"},GV={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},WV={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function pL(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const jV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pp(i,e){return new jV[i](e)}function mL(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function g0(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function gL(){const i=g0("canvas");return i.style.display="block",i}const HA={};let Nc=null;function XV(i){Nc=i}function YV(){return Nc}function v0(...i){const e="THREE."+i.shift();Nc?Nc("log",e,...i):console.log(e,...i)}function ht(...i){const e="THREE."+i.shift();Nc?Nc("warn",e,...i):console.warn(e,...i)}function Ht(...i){const e="THREE."+i.shift();Nc?Nc("error",e,...i):console.error(e,...i)}function Np(...i){const e=i.join(" ");e in HA||(HA[e]=!0,ht(...i))}function qV(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}class El{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const is=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let GA=1234567;const cd=Math.PI/180,Dp=180/Math.PI;function Oo(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(is[i&255]+is[i>>8&255]+is[i>>16&255]+is[i>>24&255]+"-"+is[e&255]+is[e>>8&255]+"-"+is[e>>16&15|64]+is[e>>24&255]+"-"+is[t&63|128]+is[t>>8&255]+"-"+is[t>>16&255]+is[t>>24&255]+is[n&255]+is[n>>8&255]+is[n>>16&255]+is[n>>24&255]).toLowerCase()}function Qt(i,e,t){return Math.max(e,Math.min(t,i))}function uT(i,e){return(i%e+e)%e}function $V(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function KV(i,e,t){return i!==e?(t-i)/(e-i):0}function Vg(i,e,t){return(1-t)*i+t*e}function ZV(i,e,t,n){return Vg(i,e,1-Math.exp(-t*n))}function JV(i,e=1){return e-Math.abs(uT(i,e*2)-e)}function QV(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function e6(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function t6(i,e){return i+Math.floor(Math.random()*(e-i+1))}function n6(i,e){return i+Math.random()*(e-i)}function i6(i){return i*(.5-Math.random())}function r6(i){i!==void 0&&(GA=i);let e=GA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function s6(i){return i*cd}function o6(i){return i*Dp}function a6(i){return(i&i-1)===0&&i!==0}function l6(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function u6(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function c6(i,e,t,n,r){const s=Math.cos,o=Math.sin,a=s(t/2),c=o(t/2),f=s((e+n)/2),p=o((e+n)/2),m=s((e-n)/2),g=o((e-n)/2),y=s((n-e)/2),x=o((n-e)/2);switch(r){case"XYX":i.set(a*p,c*m,c*g,a*f);break;case"YZY":i.set(c*g,a*p,c*m,a*f);break;case"ZXZ":i.set(c*m,c*g,a*p,a*f);break;case"XZX":i.set(a*p,c*x,c*y,a*f);break;case"YXY":i.set(c*y,a*p,c*x,a*f);break;case"ZYZ":i.set(c*x,c*y,a*p,a*f);break;default:ht("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ls(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function mn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const f6={DEG2RAD:cd,RAD2DEG:Dp,generateUUID:Oo,clamp:Qt,euclideanModulo:uT,mapLinear:$V,inverseLerp:KV,lerp:Vg,damp:ZV,pingpong:JV,smoothstep:QV,smootherstep:e6,randInt:t6,randFloat:n6,randFloatSpread:i6,seededRandom:r6,degToRad:s6,radToDeg:o6,isPowerOfTwo:a6,ceilPowerOfTwo:l6,floorPowerOfTwo:u6,setQuaternionFromProperEuler:c6,normalize:mn,denormalize:Ls};class ze{constructor(e=0,t=0){ze.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class so{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,a){let c=n[r+0],f=n[r+1],p=n[r+2],m=n[r+3],g=s[o+0],y=s[o+1],x=s[o+2],M=s[o+3];if(a<=0){e[t+0]=c,e[t+1]=f,e[t+2]=p,e[t+3]=m;return}if(a>=1){e[t+0]=g,e[t+1]=y,e[t+2]=x,e[t+3]=M;return}if(m!==M||c!==g||f!==y||p!==x){let b=c*g+f*y+p*x+m*M;b<0&&(g=-g,y=-y,x=-x,M=-M,b=-b);let _=1-a;if(b<.9995){const E=Math.acos(b),C=Math.sin(E);_=Math.sin(_*E)/C,a=Math.sin(a*E)/C,c=c*_+g*a,f=f*_+y*a,p=p*_+x*a,m=m*_+M*a}else{c=c*_+g*a,f=f*_+y*a,p=p*_+x*a,m=m*_+M*a;const E=1/Math.sqrt(c*c+f*f+p*p+m*m);c*=E,f*=E,p*=E,m*=E}}e[t]=c,e[t+1]=f,e[t+2]=p,e[t+3]=m}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],c=n[r+1],f=n[r+2],p=n[r+3],m=s[o],g=s[o+1],y=s[o+2],x=s[o+3];return e[t]=a*x+p*m+c*y-f*g,e[t+1]=c*x+p*g+f*m-a*y,e[t+2]=f*x+p*y+a*g-c*m,e[t+3]=p*x-a*m-c*g-f*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,f=a(n/2),p=a(r/2),m=a(s/2),g=c(n/2),y=c(r/2),x=c(s/2);switch(o){case"XYZ":this._x=g*p*m+f*y*x,this._y=f*y*m-g*p*x,this._z=f*p*x+g*y*m,this._w=f*p*m-g*y*x;break;case"YXZ":this._x=g*p*m+f*y*x,this._y=f*y*m-g*p*x,this._z=f*p*x-g*y*m,this._w=f*p*m+g*y*x;break;case"ZXY":this._x=g*p*m-f*y*x,this._y=f*y*m+g*p*x,this._z=f*p*x+g*y*m,this._w=f*p*m-g*y*x;break;case"ZYX":this._x=g*p*m-f*y*x,this._y=f*y*m+g*p*x,this._z=f*p*x-g*y*m,this._w=f*p*m+g*y*x;break;case"YZX":this._x=g*p*m+f*y*x,this._y=f*y*m+g*p*x,this._z=f*p*x-g*y*m,this._w=f*p*m-g*y*x;break;case"XZY":this._x=g*p*m-f*y*x,this._y=f*y*m-g*p*x,this._z=f*p*x+g*y*m,this._w=f*p*m+g*y*x;break;default:ht("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],c=t[9],f=t[2],p=t[6],m=t[10],g=n+a+m;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(p-c)*y,this._y=(s-f)*y,this._z=(o-r)*y}else if(n>a&&n>m){const y=2*Math.sqrt(1+n-a-m);this._w=(p-c)/y,this._x=.25*y,this._y=(r+o)/y,this._z=(s+f)/y}else if(a>m){const y=2*Math.sqrt(1+a-n-m);this._w=(s-f)/y,this._x=(r+o)/y,this._y=.25*y,this._z=(c+p)/y}else{const y=2*Math.sqrt(1+m-n-a);this._w=(o-r)/y,this._x=(s+f)/y,this._y=(c+p)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,c=t._y,f=t._z,p=t._w;return this._x=n*p+o*a+r*f-s*c,this._y=r*p+o*c+s*a-n*f,this._z=s*p+o*f+n*c-r*a,this._w=o*p-n*a-r*c-s*f,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(n=-n,r=-r,s=-s,o=-o,a=-a);let c=1-t;if(a<.9995){const f=Math.acos(a),p=Math.sin(f);c=Math.sin(c*f)/p,t=Math.sin(t*f)/p,this._x=this._x*c+n*t,this._y=this._y*c+r*t,this._z=this._z*c+s*t,this._w=this._w*c+o*t,this._onChangeCallback()}else this._x=this._x*c+n*t,this._y=this._y*c+r*t,this._z=this._z*c+s*t,this._w=this._w*c+o*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,n=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(WA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(WA.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,c=e.w,f=2*(o*r-a*n),p=2*(a*t-s*r),m=2*(s*n-o*t);return this.x=t+c*f+o*m-a*p,this.y=n+c*p+a*f-s*m,this.z=r+c*m+s*p-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=r*c-s*a,this.y=s*o-n*c,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return NS.copy(this).projectOnVector(e),this.sub(NS)}reflect(e){return this.sub(NS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NS=new ee,WA=new so;class fn{constructor(e,t,n,r,s,o,a,c,f){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,c,f)}set(e,t,n,r,s,o,a,c,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=a,p[3]=t,p[4]=s,p[5]=c,p[6]=n,p[7]=o,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],c=n[6],f=n[1],p=n[4],m=n[7],g=n[2],y=n[5],x=n[8],M=r[0],b=r[3],_=r[6],E=r[1],C=r[4],P=r[7],D=r[2],F=r[5],O=r[8];return s[0]=o*M+a*E+c*D,s[3]=o*b+a*C+c*F,s[6]=o*_+a*P+c*O,s[1]=f*M+p*E+m*D,s[4]=f*b+p*C+m*F,s[7]=f*_+p*P+m*O,s[2]=g*M+y*E+x*D,s[5]=g*b+y*C+x*F,s[8]=g*_+y*P+x*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],f=e[7],p=e[8];return t*o*p-t*a*f-n*s*p+n*a*c+r*s*f-r*o*c}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],f=e[7],p=e[8],m=p*o-a*f,g=a*c-p*s,y=f*s-o*c,x=t*m+n*g+r*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/x;return e[0]=m*M,e[1]=(r*f-p*n)*M,e[2]=(a*n-r*o)*M,e[3]=g*M,e[4]=(p*t-r*c)*M,e[5]=(r*s-a*t)*M,e[6]=y*M,e[7]=(n*c-f*t)*M,e[8]=(o*t-n*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const c=Math.cos(s),f=Math.sin(s);return this.set(n*c,n*f,-n*(c*o+f*a)+o+e,-r*f,r*c,-r*(-f*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(DS.makeScale(e,t)),this}rotate(e){return this.premultiply(DS.makeRotation(-e)),this}translate(e,t){return this.premultiply(DS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const DS=new fn,jA=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XA=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function d6(){const i={enabled:!0,workingColorSpace:Md,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===qn&&(r.r=Su(r.r),r.g=Su(r.g),r.b=Su(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qn&&(r.r=wp(r.r),r.g=wp(r.g),r.b=wp(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===vu?p0:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Np("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Np("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Md]:{primaries:e,whitePoint:n,transfer:p0,toXYZ:jA,fromXYZ:XA,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:no},outputColorSpaceConfig:{drawingBufferColorSpace:no}},[no]:{primaries:e,whitePoint:n,transfer:qn,toXYZ:jA,fromXYZ:XA,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:no}}}),i}const kn=d6();function Su(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function wp(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Ih;class vL{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ih===void 0&&(Ih=g0("canvas")),Ih.width=e.width,Ih.height=e.height;const r=Ih.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ih}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=g0("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Su(s[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Su(t[n]/255)*255):t[n]=Su(t[n]);return{data:t,width:e.width,height:e.height}}else return ht("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let h6=0;class _c{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:h6++}),this.uuid=Oo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(kS(r[o].image)):s.push(kS(r[o]))}else s=kS(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function kS(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?vL.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(ht("Texture: Unable to serialize Texture."),{})}let p6=0;const FS=new ee;class zi extends El{constructor(e=zi.DEFAULT_IMAGE,t=zi.DEFAULT_MAPPING,n=ro,r=ro,s=ui,o=pl,a=Xr,c=Is,f=zi.DEFAULT_ANISOTROPY,p=vu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:p6++}),this.uuid=Oo(),this.name="",this.source=new _c(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=c,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(FS).x}get height(){return this.source.getSize(FS).y}get depth(){return this.source.getSize(FS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){ht(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){ht(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==U_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Sd:e.x=e.x-Math.floor(e.x);break;case ro:e.x=e.x<0?0:1;break;case f0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Sd:e.y=e.y-Math.floor(e.y);break;case ro:e.y=e.y<0?0:1;break;case f0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zi.DEFAULT_IMAGE=null;zi.DEFAULT_MAPPING=U_;zi.DEFAULT_ANISOTROPY=1;class li{constructor(e=0,t=0,n=0,r=1){li.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const c=e.elements,f=c[0],p=c[4],m=c[8],g=c[1],y=c[5],x=c[9],M=c[2],b=c[6],_=c[10];if(Math.abs(p-g)<.01&&Math.abs(m-M)<.01&&Math.abs(x-b)<.01){if(Math.abs(p+g)<.1&&Math.abs(m+M)<.1&&Math.abs(x+b)<.1&&Math.abs(f+y+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,P=(y+1)/2,D=(_+1)/2,F=(p+g)/4,O=(m+M)/4,U=(x+b)/4;return C>P&&C>D?C<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(C),r=F/n,s=O/n):P>D?P<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(P),n=F/r,s=U/r):D<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),n=O/s,r=U/s),this.set(n,r,s,t),this}let E=Math.sqrt((b-x)*(b-x)+(m-M)*(m-M)+(g-p)*(g-p));return Math.abs(E)<.001&&(E=1),this.x=(b-x)/E,this.y=(m-M)/E,this.z=(g-p)/E,this.w=Math.acos((f+y+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this.w=Qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this.w=Qt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cT extends El{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ui,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new li(0,0,e,t),this.scissorTest=!1,this.viewport=new li(0,0,e,t);const r={width:e,height:t,depth:n.depth},s=new zi(r);this.textures=[];const o=n.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ui,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new _c(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Uo extends cT{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class q_ extends zi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=$i,this.minFilter=$i,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class m6 extends Uo{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new q_(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class $_ extends zi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=$i,this.minFilter=$i,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class g6 extends Uo{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new $_(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class fs{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Oa.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Oa.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Oa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Oa):Oa.fromBufferAttribute(s,o),Oa.applyMatrix4(e.matrixWorld),this.expandByPoint(Oa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$v.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),$v.copy(n.boundingBox)),$v.applyMatrix4(e.matrixWorld),this.union($v)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Oa),Oa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tg),Kv.subVectors(this.max,tg),Lh.subVectors(e.a,tg),Nh.subVectors(e.b,tg),Dh.subVectors(e.c,tg),oc.subVectors(Nh,Lh),ac.subVectors(Dh,Nh),Lf.subVectors(Lh,Dh);let t=[0,-oc.z,oc.y,0,-ac.z,ac.y,0,-Lf.z,Lf.y,oc.z,0,-oc.x,ac.z,0,-ac.x,Lf.z,0,-Lf.x,-oc.y,oc.x,0,-ac.y,ac.x,0,-Lf.y,Lf.x,0];return!OS(t,Lh,Nh,Dh,Kv)||(t=[1,0,0,0,1,0,0,0,1],!OS(t,Lh,Nh,Dh,Kv))?!1:(Zv.crossVectors(oc,ac),t=[Zv.x,Zv.y,Zv.z],OS(t,Lh,Nh,Dh,Kv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Oa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(lu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),lu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),lu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),lu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),lu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),lu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),lu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),lu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(lu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const lu=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Oa=new ee,$v=new fs,Lh=new ee,Nh=new ee,Dh=new ee,oc=new ee,ac=new ee,Lf=new ee,tg=new ee,Kv=new ee,Zv=new ee,Nf=new ee;function OS(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){Nf.fromArray(i,s);const a=r.x*Math.abs(Nf.x)+r.y*Math.abs(Nf.y)+r.z*Math.abs(Nf.z),c=e.dot(Nf),f=t.dot(Nf),p=n.dot(Nf);if(Math.max(-Math.max(c,f,p),Math.min(c,f,p))>a)return!1}return!0}const v6=new fs,ng=new ee,US=new ee;class qr{constructor(e=new ee,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):v6.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ng.subVectors(e,this.center);const t=ng.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(ng,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(US.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ng.copy(e.center).add(US)),this.expandByPoint(ng.copy(e.center).sub(US))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const uu=new ee,BS=new ee,Jv=new ee,lc=new ee,zS=new ee,Qv=new ee,VS=new ee;class em{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,uu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=uu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(uu.copy(this.origin).addScaledVector(this.direction,t),uu.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){BS.copy(e).add(t).multiplyScalar(.5),Jv.copy(t).sub(e).normalize(),lc.copy(this.origin).sub(BS);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Jv),a=lc.dot(this.direction),c=-lc.dot(Jv),f=lc.lengthSq(),p=Math.abs(1-o*o);let m,g,y,x;if(p>0)if(m=o*c-a,g=o*a-c,x=s*p,m>=0)if(g>=-x)if(g<=x){const M=1/p;m*=M,g*=M,y=m*(m+o*g+2*a)+g*(o*m+g+2*c)+f}else g=s,m=Math.max(0,-(o*g+a)),y=-m*m+g*(g+2*c)+f;else g=-s,m=Math.max(0,-(o*g+a)),y=-m*m+g*(g+2*c)+f;else g<=-x?(m=Math.max(0,-(-o*s+a)),g=m>0?-s:Math.min(Math.max(-s,-c),s),y=-m*m+g*(g+2*c)+f):g<=x?(m=0,g=Math.min(Math.max(-s,-c),s),y=g*(g+2*c)+f):(m=Math.max(0,-(o*s+a)),g=m>0?s:Math.min(Math.max(-s,-c),s),y=-m*m+g*(g+2*c)+f);else g=o>0?-s:s,m=Math.max(0,-(o*g+a)),y=-m*m+g*(g+2*c)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,m),r&&r.copy(BS).addScaledVector(Jv,g),y}intersectSphere(e,t){uu.subVectors(e.center,this.origin);const n=uu.dot(this.direction),r=uu.dot(uu)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,c=n+o;return c<0?null:a<0?this.at(c,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,c;const f=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,g=this.origin;return f>=0?(n=(e.min.x-g.x)*f,r=(e.max.x-g.x)*f):(n=(e.max.x-g.x)*f,r=(e.min.x-g.x)*f),p>=0?(s=(e.min.y-g.y)*p,o=(e.max.y-g.y)*p):(s=(e.max.y-g.y)*p,o=(e.min.y-g.y)*p),n>o||s>r||((s>n||isNaN(n))&&(n=s),(o<r||isNaN(r))&&(r=o),m>=0?(a=(e.min.z-g.z)*m,c=(e.max.z-g.z)*m):(a=(e.max.z-g.z)*m,c=(e.min.z-g.z)*m),n>c||a>r)||((a>n||n!==n)&&(n=a),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,uu)!==null}intersectTriangle(e,t,n,r,s){zS.subVectors(t,e),Qv.subVectors(n,e),VS.crossVectors(zS,Qv);let o=this.direction.dot(VS),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;lc.subVectors(this.origin,e);const c=a*this.direction.dot(Qv.crossVectors(lc,Qv));if(c<0)return null;const f=a*this.direction.dot(zS.cross(lc));if(f<0||c+f>o)return null;const p=-a*lc.dot(VS);return p<0?null:this.at(p/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tn{constructor(e,t,n,r,s,o,a,c,f,p,m,g,y,x,M,b){tn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,c,f,p,m,g,y,x,M,b)}set(e,t,n,r,s,o,a,c,f,p,m,g,y,x,M,b){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=c,_[2]=f,_[6]=p,_[10]=m,_[14]=g,_[3]=y,_[7]=x,_[11]=M,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,r=1/kh.setFromMatrixColumn(e,0).length(),s=1/kh.setFromMatrixColumn(e,1).length(),o=1/kh.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),c=Math.cos(r),f=Math.sin(r),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const g=o*p,y=o*m,x=a*p,M=a*m;t[0]=c*p,t[4]=-c*m,t[8]=f,t[1]=y+x*f,t[5]=g-M*f,t[9]=-a*c,t[2]=M-g*f,t[6]=x+y*f,t[10]=o*c}else if(e.order==="YXZ"){const g=c*p,y=c*m,x=f*p,M=f*m;t[0]=g+M*a,t[4]=x*a-y,t[8]=o*f,t[1]=o*m,t[5]=o*p,t[9]=-a,t[2]=y*a-x,t[6]=M+g*a,t[10]=o*c}else if(e.order==="ZXY"){const g=c*p,y=c*m,x=f*p,M=f*m;t[0]=g-M*a,t[4]=-o*m,t[8]=x+y*a,t[1]=y+x*a,t[5]=o*p,t[9]=M-g*a,t[2]=-o*f,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const g=o*p,y=o*m,x=a*p,M=a*m;t[0]=c*p,t[4]=x*f-y,t[8]=g*f+M,t[1]=c*m,t[5]=M*f+g,t[9]=y*f-x,t[2]=-f,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const g=o*c,y=o*f,x=a*c,M=a*f;t[0]=c*p,t[4]=M-g*m,t[8]=x*m+y,t[1]=m,t[5]=o*p,t[9]=-a*p,t[2]=-f*p,t[6]=y*m+x,t[10]=g-M*m}else if(e.order==="XZY"){const g=o*c,y=o*f,x=a*c,M=a*f;t[0]=c*p,t[4]=-m,t[8]=f*p,t[1]=g*m+M,t[5]=o*p,t[9]=y*m-x,t[2]=x*m-y,t[6]=a*p,t[10]=M*m+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(y6,e,x6)}lookAt(e,t,n){const r=this.elements;return To.subVectors(e,t),To.lengthSq()===0&&(To.z=1),To.normalize(),uc.crossVectors(n,To),uc.lengthSq()===0&&(Math.abs(n.z)===1?To.x+=1e-4:To.z+=1e-4,To.normalize(),uc.crossVectors(n,To)),uc.normalize(),ey.crossVectors(To,uc),r[0]=uc.x,r[4]=ey.x,r[8]=To.x,r[1]=uc.y,r[5]=ey.y,r[9]=To.y,r[2]=uc.z,r[6]=ey.z,r[10]=To.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],c=n[8],f=n[12],p=n[1],m=n[5],g=n[9],y=n[13],x=n[2],M=n[6],b=n[10],_=n[14],E=n[3],C=n[7],P=n[11],D=n[15],F=r[0],O=r[4],U=r[8],I=r[12],k=r[1],j=r[5],W=r[9],$=r[13],se=r[2],Z=r[6],te=r[10],q=r[14],z=r[3],J=r[7],V=r[11],X=r[15];return s[0]=o*F+a*k+c*se+f*z,s[4]=o*O+a*j+c*Z+f*J,s[8]=o*U+a*W+c*te+f*V,s[12]=o*I+a*$+c*q+f*X,s[1]=p*F+m*k+g*se+y*z,s[5]=p*O+m*j+g*Z+y*J,s[9]=p*U+m*W+g*te+y*V,s[13]=p*I+m*$+g*q+y*X,s[2]=x*F+M*k+b*se+_*z,s[6]=x*O+M*j+b*Z+_*J,s[10]=x*U+M*W+b*te+_*V,s[14]=x*I+M*$+b*q+_*X,s[3]=E*F+C*k+P*se+D*z,s[7]=E*O+C*j+P*Z+D*J,s[11]=E*U+C*W+P*te+D*V,s[15]=E*I+C*$+P*q+D*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],c=e[9],f=e[13],p=e[2],m=e[6],g=e[10],y=e[14],x=e[3],M=e[7],b=e[11],_=e[15],E=c*y-f*g,C=a*y-f*m,P=a*g-c*m,D=o*y-f*p,F=o*g-c*p,O=o*m-a*p;return t*(M*E-b*C+_*P)-n*(x*E-b*D+_*F)+r*(x*C-M*D+_*O)-s*(x*P-M*F+b*O)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],f=e[7],p=e[8],m=e[9],g=e[10],y=e[11],x=e[12],M=e[13],b=e[14],_=e[15],E=m*b*f-M*g*f+M*c*y-a*b*y-m*c*_+a*g*_,C=x*g*f-p*b*f-x*c*y+o*b*y+p*c*_-o*g*_,P=p*M*f-x*m*f+x*a*y-o*M*y-p*a*_+o*m*_,D=x*m*c-p*M*c-x*a*g+o*M*g+p*a*b-o*m*b,F=t*E+n*C+r*P+s*D;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/F;return e[0]=E*O,e[1]=(M*g*s-m*b*s-M*r*y+n*b*y+m*r*_-n*g*_)*O,e[2]=(a*b*s-M*c*s+M*r*f-n*b*f-a*r*_+n*c*_)*O,e[3]=(m*c*s-a*g*s-m*r*f+n*g*f+a*r*y-n*c*y)*O,e[4]=C*O,e[5]=(p*b*s-x*g*s+x*r*y-t*b*y-p*r*_+t*g*_)*O,e[6]=(x*c*s-o*b*s-x*r*f+t*b*f+o*r*_-t*c*_)*O,e[7]=(o*g*s-p*c*s+p*r*f-t*g*f-o*r*y+t*c*y)*O,e[8]=P*O,e[9]=(x*m*s-p*M*s-x*n*y+t*M*y+p*n*_-t*m*_)*O,e[10]=(o*M*s-x*a*s+x*n*f-t*M*f-o*n*_+t*a*_)*O,e[11]=(p*a*s-o*m*s-p*n*f+t*m*f+o*n*y-t*a*y)*O,e[12]=D*O,e[13]=(p*M*r-x*m*r+x*n*g-t*M*g-p*n*b+t*m*b)*O,e[14]=(x*a*r-o*M*r-x*n*c+t*M*c+o*n*b-t*a*b)*O,e[15]=(o*m*r-p*a*r+p*n*c-t*m*c-o*n*g+t*a*g)*O,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,c=e.z,f=s*o,p=s*a;return this.set(f*o+n,f*a-r*c,f*c+r*a,0,f*a+r*c,p*a+n,p*c-r*o,0,f*c-r*a,p*c+r*o,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,f=s+s,p=o+o,m=a+a,g=s*f,y=s*p,x=s*m,M=o*p,b=o*m,_=a*m,E=c*f,C=c*p,P=c*m,D=n.x,F=n.y,O=n.z;return r[0]=(1-(M+_))*D,r[1]=(y+P)*D,r[2]=(x-C)*D,r[3]=0,r[4]=(y-P)*F,r[5]=(1-(g+_))*F,r[6]=(b+E)*F,r[7]=0,r[8]=(x+C)*O,r[9]=(b-E)*O,r[10]=(1-(g+M))*O,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let s=kh.set(r[0],r[1],r[2]).length();const o=kh.set(r[4],r[5],r[6]).length(),a=kh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),Ua.copy(this);const f=1/s,p=1/o,m=1/a;return Ua.elements[0]*=f,Ua.elements[1]*=f,Ua.elements[2]*=f,Ua.elements[4]*=p,Ua.elements[5]*=p,Ua.elements[6]*=p,Ua.elements[8]*=m,Ua.elements[9]*=m,Ua.elements[10]*=m,t.setFromRotationMatrix(Ua),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o,a=Do,c=!1){const f=this.elements,p=2*s/(t-e),m=2*s/(n-r),g=(t+e)/(t-e),y=(n+r)/(n-r);let x,M;if(c)x=s/(o-s),M=o*s/(o-s);else if(a===Do)x=-(o+s)/(o-s),M=-2*o*s/(o-s);else if(a===Lp)x=-o/(o-s),M=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return f[0]=p,f[4]=0,f[8]=g,f[12]=0,f[1]=0,f[5]=m,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=x,f[14]=M,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,n,r,s,o,a=Do,c=!1){const f=this.elements,p=2/(t-e),m=2/(n-r),g=-(t+e)/(t-e),y=-(n+r)/(n-r);let x,M;if(c)x=1/(o-s),M=o/(o-s);else if(a===Do)x=-2/(o-s),M=-(o+s)/(o-s);else if(a===Lp)x=-1/(o-s),M=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return f[0]=p,f[4]=0,f[8]=0,f[12]=g,f[1]=0,f[5]=m,f[9]=0,f[13]=y,f[2]=0,f[6]=0,f[10]=x,f[14]=M,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const kh=new ee,Ua=new tn,y6=new ee(0,0,0),x6=new ee(1,1,1),uc=new ee,ey=new ee,To=new ee,YA=new tn,qA=new so;class zo{constructor(e=0,t=0,n=0,r=zo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],c=r[1],f=r[5],p=r[9],m=r[2],g=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Qt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-p,y),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(g,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(a,y),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Qt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(Qt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(a,y));break;case"XZY":this._z=Math.asin(-Qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-p,y),this._y=0);break;default:ht("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return YA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(YA,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return qA.setFromEuler(this),this.setFromQuaternion(qA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zo.DEFAULT_ORDER="XYZ";class fd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _6=0;const $A=new ee,Fh=new so,cu=new tn,ty=new ee,ig=new ee,S6=new ee,w6=new so,KA=new ee(1,0,0),ZA=new ee(0,1,0),JA=new ee(0,0,1),QA={type:"added"},M6={type:"removed"},Oh={type:"childadded",child:null},HS={type:"childremoved",child:null};class Hn extends El{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_6++}),this.uuid=Oo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hn.DEFAULT_UP.clone();const e=new ee,t=new zo,n=new so,r=new ee(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new tn},normalMatrix:{value:new fn}}),this.matrix=new tn,this.matrixWorld=new tn,this.matrixAutoUpdate=Hn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new fd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Fh.setFromAxisAngle(e,t),this.quaternion.multiply(Fh),this}rotateOnWorldAxis(e,t){return Fh.setFromAxisAngle(e,t),this.quaternion.premultiply(Fh),this}rotateX(e){return this.rotateOnAxis(KA,e)}rotateY(e){return this.rotateOnAxis(ZA,e)}rotateZ(e){return this.rotateOnAxis(JA,e)}translateOnAxis(e,t){return $A.copy(e).applyQuaternion(this.quaternion),this.position.add($A.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KA,e)}translateY(e){return this.translateOnAxis(ZA,e)}translateZ(e){return this.translateOnAxis(JA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(cu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ty.copy(e):ty.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cu.lookAt(ig,ty,this.up):cu.lookAt(ty,ig,this.up),this.quaternion.setFromRotationMatrix(cu),r&&(cu.extractRotation(r.matrixWorld),Fh.setFromRotationMatrix(cu),this.quaternion.premultiply(Fh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Ht("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(QA),Oh.child=e,this.dispatchEvent(Oh),Oh.child=null):Ht("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(M6),HS.child=e,this.dispatchEvent(HS),HS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),cu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),cu.multiply(e.parent.matrixWorld)),e.applyMatrix4(cu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(QA),Oh.child=e,this.dispatchEvent(Oh),Oh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ig,e,S6),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ig,w6,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(a,c){return a[c.uuid]===void 0&&(a[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const c=a.shapes;if(Array.isArray(c))for(let f=0,p=c.length;f<p;f++){const m=c[f];s(e.shapes,m)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let c=0,f=this.material.length;c<f;c++)a.push(s(e.materials,this.material[c]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const c=this.animations[a];r.animations.push(s(e.animations,c))}}if(t){const a=o(e.geometries),c=o(e.materials),f=o(e.textures),p=o(e.images),m=o(e.shapes),g=o(e.skeletons),y=o(e.animations),x=o(e.nodes);a.length>0&&(n.geometries=a),c.length>0&&(n.materials=c),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),m.length>0&&(n.shapes=m),g.length>0&&(n.skeletons=g),y.length>0&&(n.animations=y),x.length>0&&(n.nodes=x)}return n.object=r,n;function o(a){const c=[];for(const f in a){const p=a[f];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Hn.DEFAULT_UP=new ee(0,1,0);Hn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ba=new ee,fu=new ee,GS=new ee,du=new ee,Uh=new ee,Bh=new ee,eC=new ee,WS=new ee,jS=new ee,XS=new ee,YS=new li,qS=new li,$S=new li;class io{constructor(e=new ee,t=new ee,n=new ee){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ba.subVectors(e,t),r.cross(Ba);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Ba.subVectors(r,t),fu.subVectors(n,t),GS.subVectors(e,t);const o=Ba.dot(Ba),a=Ba.dot(fu),c=Ba.dot(GS),f=fu.dot(fu),p=fu.dot(GS),m=o*f-a*a;if(m===0)return s.set(0,0,0),null;const g=1/m,y=(f*c-a*p)*g,x=(o*p-a*c)*g;return s.set(1-y-x,x,y)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,du)===null?!1:du.x>=0&&du.y>=0&&du.x+du.y<=1}static getInterpolation(e,t,n,r,s,o,a,c){return this.getBarycoord(e,t,n,r,du)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,du.x),c.addScaledVector(o,du.y),c.addScaledVector(a,du.z),c)}static getInterpolatedAttribute(e,t,n,r,s,o){return YS.setScalar(0),qS.setScalar(0),$S.setScalar(0),YS.fromBufferAttribute(e,t),qS.fromBufferAttribute(e,n),$S.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(YS,s.x),o.addScaledVector(qS,s.y),o.addScaledVector($S,s.z),o}static isFrontFacing(e,t,n,r){return Ba.subVectors(n,t),fu.subVectors(e,t),Ba.cross(fu).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ba.subVectors(this.c,this.b),fu.subVectors(this.a,this.b),Ba.cross(fu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return io.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return io.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return io.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return io.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return io.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;Uh.subVectors(r,n),Bh.subVectors(s,n),WS.subVectors(e,n);const c=Uh.dot(WS),f=Bh.dot(WS);if(c<=0&&f<=0)return t.copy(n);jS.subVectors(e,r);const p=Uh.dot(jS),m=Bh.dot(jS);if(p>=0&&m<=p)return t.copy(r);const g=c*m-p*f;if(g<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(n).addScaledVector(Uh,o);XS.subVectors(e,s);const y=Uh.dot(XS),x=Bh.dot(XS);if(x>=0&&y<=x)return t.copy(s);const M=y*f-c*x;if(M<=0&&f>=0&&x<=0)return a=f/(f-x),t.copy(n).addScaledVector(Bh,a);const b=p*x-y*m;if(b<=0&&m-p>=0&&y-x>=0)return eC.subVectors(s,r),a=(m-p)/(m-p+(y-x)),t.copy(r).addScaledVector(eC,a);const _=1/(b+M+g);return o=M*_,a=g*_,t.copy(n).addScaledVector(Uh,o).addScaledVector(Bh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const yL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cc={h:0,s:0,l:0},ny={h:0,s:0,l:0};function KS(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Tt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=no){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=kn.workingColorSpace){return this.r=e,this.g=t,this.b=n,kn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=kn.workingColorSpace){if(e=uT(e,1),t=Qt(t,0,1),n=Qt(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=KS(o,s,e+1/3),this.g=KS(o,s,e),this.b=KS(o,s,e-1/3)}return kn.colorSpaceToWorking(this,r),this}setStyle(e,t=no){function n(s){s!==void 0&&parseFloat(s)<1&&ht("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:ht("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);ht("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=no){const n=yL[e.toLowerCase()];return n!==void 0?this.setHex(n,t):ht("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Su(e.r),this.g=Su(e.g),this.b=Su(e.b),this}copyLinearToSRGB(e){return this.r=wp(e.r),this.g=wp(e.g),this.b=wp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=no){return kn.workingToColorSpace(rs.copy(this),e),Math.round(Qt(rs.r*255,0,255))*65536+Math.round(Qt(rs.g*255,0,255))*256+Math.round(Qt(rs.b*255,0,255))}getHexString(e=no){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=kn.workingColorSpace){kn.workingToColorSpace(rs.copy(this),t);const n=rs.r,r=rs.g,s=rs.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let c,f;const p=(a+o)/2;if(a===o)c=0,f=0;else{const m=o-a;switch(f=p<=.5?m/(o+a):m/(2-o-a),o){case n:c=(r-s)/m+(r<s?6:0);break;case r:c=(s-n)/m+2;break;case s:c=(n-r)/m+4;break}c/=6}return e.h=c,e.s=f,e.l=p,e}getRGB(e,t=kn.workingColorSpace){return kn.workingToColorSpace(rs.copy(this),t),e.r=rs.r,e.g=rs.g,e.b=rs.b,e}getStyle(e=no){kn.workingToColorSpace(rs.copy(this),e);const t=rs.r,n=rs.g,r=rs.b;return e!==no?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(cc),this.setHSL(cc.h+e,cc.s+t,cc.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(cc),e.getHSL(ny);const n=Vg(cc.h,ny.h,t),r=Vg(cc.s,ny.s,t),s=Vg(cc.l,ny.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rs=new Tt;Tt.NAMES=yL;let b6=0;class hs extends El{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:b6++}),this.uuid=Oo(),this.name="",this.type="Material",this.blending=ud,this.side=bu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Cx,this.blendDst=Px,this.blendEquation=vc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Tt(0,0,0),this.blendAlpha=0,this.depthFunc=_d,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$f,this.stencilZFail=$f,this.stencilZPass=$f,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){ht(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){ht(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ud&&(n.blending=this.blending),this.side!==bu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Cx&&(n.blendSrc=this.blendSrc),this.blendDst!==Px&&(n.blendDst=this.blendDst),this.blendEquation!==vc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==_d&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==IM&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$f&&(n.stencilFail=this.stencilFail),this.stencilZFail!==$f&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==$f&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const o=[];for(const a in s){const c=s[a];delete c.metadata,o.push(c)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Vc extends hs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zo,this.combine=U0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yu=T6();function T6(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const f=c-127;f<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):f<-14?(n[c]=1024>>-f-14,n[c|256]=1024>>-f-14|32768,r[c]=-f-1,r[c|256]=-f-1):f<=15?(n[c]=f+15<<10,n[c|256]=f+15<<10|32768,r[c]=13,r[c|256]=13):f<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let c=1;c<1024;++c){let f=c<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,s[c]=f|p}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(a[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function eo(i){Math.abs(i)>65504&&ht("DataUtils.toHalfFloat(): Value out of range."),i=Qt(i,-65504,65504),yu.floatView[0]=i;const e=yu.uint32View[0],t=e>>23&511;return yu.baseTable[t]+((e&8388607)>>yu.shiftTable[t])}function Sg(i){const e=i>>10;return yu.uint32View[0]=yu.mantissaTable[yu.offsetTable[e]+(i&1023)]+yu.exponentTable[e],yu.floatView[0]}class E6{static toHalfFloat(e){return eo(e)}static fromHalfFloat(e){return Sg(e)}}const rr=new ee,iy=new ze;let A6=0;class ii{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:A6++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=m0,this.updateRanges=[],this.gpuType=Os,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)iy.fromBufferAttribute(this,t),iy.applyMatrix3(e),this.setXY(t,iy.x,iy.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)rr.fromBufferAttribute(this,t),rr.applyMatrix3(e),this.setXYZ(t,rr.x,rr.y,rr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)rr.fromBufferAttribute(this,t),rr.applyMatrix4(e),this.setXYZ(t,rr.x,rr.y,rr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)rr.fromBufferAttribute(this,t),rr.applyNormalMatrix(e),this.setXYZ(t,rr.x,rr.y,rr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)rr.fromBufferAttribute(this,t),rr.transformDirection(e),this.setXYZ(t,rr.x,rr.y,rr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Ls(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=mn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ls(t,this.array)),t}setX(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ls(t,this.array)),t}setY(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ls(t,this.array)),t}setZ(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ls(t,this.array)),t}setW(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array),s=mn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==m0&&(e.usage=this.usage),e}}class C6 extends ii{constructor(e,t,n){super(new Int8Array(e),t,n)}}class P6 extends ii{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class R6 extends ii{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class I6 extends ii{constructor(e,t,n){super(new Int16Array(e),t,n)}}class fT extends ii{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class L6 extends ii{constructor(e,t,n){super(new Int32Array(e),t,n)}}class dT extends ii{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class N6 extends ii{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Sg(this.array[e*this.itemSize]);return this.normalized&&(t=Ls(t,this.array)),t}setX(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize]=eo(t),this}getY(e){let t=Sg(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ls(t,this.array)),t}setY(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+1]=eo(t),this}getZ(e){let t=Sg(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ls(t,this.array)),t}setZ(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+2]=eo(t),this}getW(e){let t=Sg(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ls(t,this.array)),t}setW(e,t){return this.normalized&&(t=mn(t,this.array)),this.array[e*this.itemSize+3]=eo(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array)),this.array[e+0]=eo(t),this.array[e+1]=eo(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array)),this.array[e+0]=eo(t),this.array[e+1]=eo(n),this.array[e+2]=eo(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array),s=mn(s,this.array)),this.array[e+0]=eo(t),this.array[e+1]=eo(n),this.array[e+2]=eo(r),this.array[e+3]=eo(s),this}}class Rt extends ii{constructor(e,t,n){super(new Float32Array(e),t,n)}}let D6=0;const ea=new tn,ZS=new Hn,zh=new ee,Eo=new fs,rg=new fs,Rr=new ee;class un extends El{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:D6++}),this.uuid=Oo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(pL(e)?dT:fT)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new fn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ea.makeRotationFromQuaternion(e),this.applyMatrix4(ea),this}rotateX(e){return ea.makeRotationX(e),this.applyMatrix4(ea),this}rotateY(e){return ea.makeRotationY(e),this.applyMatrix4(ea),this}rotateZ(e){return ea.makeRotationZ(e),this.applyMatrix4(ea),this}translate(e,t,n){return ea.makeTranslation(e,t,n),this.applyMatrix4(ea),this}scale(e,t,n){return ea.makeScale(e,t,n),this.applyMatrix4(ea),this}lookAt(e){return ZS.lookAt(e),ZS.updateMatrix(),this.applyMatrix4(ZS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zh).negate(),this.translate(zh.x,zh.y,zh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Rt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&ht("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];Eo.setFromBufferAttribute(s),this.morphTargetsRelative?(Rr.addVectors(this.boundingBox.min,Eo.min),this.boundingBox.expandByPoint(Rr),Rr.addVectors(this.boundingBox.max,Eo.max),this.boundingBox.expandByPoint(Rr)):(this.boundingBox.expandByPoint(Eo.min),this.boundingBox.expandByPoint(Eo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ht('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const n=this.boundingSphere.center;if(Eo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];rg.setFromBufferAttribute(a),this.morphTargetsRelative?(Rr.addVectors(Eo.min,rg.min),Eo.expandByPoint(Rr),Rr.addVectors(Eo.max,rg.max),Eo.expandByPoint(Rr)):(Eo.expandByPoint(rg.min),Eo.expandByPoint(rg.max))}Eo.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Rr.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Rr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],c=this.morphTargetsRelative;for(let f=0,p=a.count;f<p;f++)Rr.fromBufferAttribute(a,f),c&&(zh.fromBufferAttribute(e,f),Rr.add(zh)),r=Math.max(r,n.distanceToSquared(Rr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Ht('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Ht("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ii(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],c=[];for(let U=0;U<n.count;U++)a[U]=new ee,c[U]=new ee;const f=new ee,p=new ee,m=new ee,g=new ze,y=new ze,x=new ze,M=new ee,b=new ee;function _(U,I,k){f.fromBufferAttribute(n,U),p.fromBufferAttribute(n,I),m.fromBufferAttribute(n,k),g.fromBufferAttribute(s,U),y.fromBufferAttribute(s,I),x.fromBufferAttribute(s,k),p.sub(f),m.sub(f),y.sub(g),x.sub(g);const j=1/(y.x*x.y-x.x*y.y);isFinite(j)&&(M.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(j),b.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(j),a[U].add(M),a[I].add(M),a[k].add(M),c[U].add(b),c[I].add(b),c[k].add(b))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let U=0,I=E.length;U<I;++U){const k=E[U],j=k.start,W=k.count;for(let $=j,se=j+W;$<se;$+=3)_(e.getX($+0),e.getX($+1),e.getX($+2))}const C=new ee,P=new ee,D=new ee,F=new ee;function O(U){D.fromBufferAttribute(r,U),F.copy(D);const I=a[U];C.copy(I),C.sub(D.multiplyScalar(D.dot(I))).normalize(),P.crossVectors(F,I);const j=P.dot(c[U])<0?-1:1;o.setXYZW(U,C.x,C.y,C.z,j)}for(let U=0,I=E.length;U<I;++U){const k=E[U],j=k.start,W=k.count;for(let $=j,se=j+W;$<se;$+=3)O(e.getX($+0)),O(e.getX($+1)),O(e.getX($+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new ii(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let g=0,y=n.count;g<y;g++)n.setXYZ(g,0,0,0);const r=new ee,s=new ee,o=new ee,a=new ee,c=new ee,f=new ee,p=new ee,m=new ee;if(e)for(let g=0,y=e.count;g<y;g+=3){const x=e.getX(g+0),M=e.getX(g+1),b=e.getX(g+2);r.fromBufferAttribute(t,x),s.fromBufferAttribute(t,M),o.fromBufferAttribute(t,b),p.subVectors(o,s),m.subVectors(r,s),p.cross(m),a.fromBufferAttribute(n,x),c.fromBufferAttribute(n,M),f.fromBufferAttribute(n,b),a.add(p),c.add(p),f.add(p),n.setXYZ(x,a.x,a.y,a.z),n.setXYZ(M,c.x,c.y,c.z),n.setXYZ(b,f.x,f.y,f.z)}else for(let g=0,y=t.count;g<y;g+=3)r.fromBufferAttribute(t,g+0),s.fromBufferAttribute(t,g+1),o.fromBufferAttribute(t,g+2),p.subVectors(o,s),m.subVectors(r,s),p.cross(m),n.setXYZ(g+0,p.x,p.y,p.z),n.setXYZ(g+1,p.x,p.y,p.z),n.setXYZ(g+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Rr.fromBufferAttribute(e,t),Rr.normalize(),e.setXYZ(t,Rr.x,Rr.y,Rr.z)}toNonIndexed(){function e(a,c){const f=a.array,p=a.itemSize,m=a.normalized,g=new f.constructor(c.length*p);let y=0,x=0;for(let M=0,b=c.length;M<b;M++){a.isInterleavedBufferAttribute?y=c[M]*a.data.stride+a.offset:y=c[M]*p;for(let _=0;_<p;_++)g[x++]=f[y++]}return new ii(g,p,m)}if(this.index===null)return ht("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new un,n=this.index.array,r=this.attributes;for(const a in r){const c=r[a],f=e(c,n);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const c=[],f=s[a];for(let p=0,m=f.length;p<m;p++){const g=f[p],y=e(g,n);c.push(y)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const f in c)c[f]!==void 0&&(e[f]=c[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const f=n[c];e.data.attributes[c]=f.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const f=this.morphAttributes[c],p=[];for(let m=0,g=f.length;m<g;m++){const y=f[m];p.push(y.toJSON(e.data))}p.length>0&&(r[c]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const s=e.morphAttributes;for(const f in s){const p=[],m=s[f];for(let g=0,y=m.length;g<y;g++)p.push(m[g].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,p=o.length;f<p;f++){const m=o[f];this.addGroup(m.start,m.count,m.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tC=new tn,Df=new em,ry=new qr,nC=new ee,sy=new ee,oy=new ee,ay=new ee,JS=new ee,ly=new ee,iC=new ee,uy=new ee;class lr extends Hn{constructor(e=new un,t=new Vc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){ly.set(0,0,0);for(let c=0,f=s.length;c<f;c++){const p=a[c],m=s[c];p!==0&&(JS.fromBufferAttribute(m,e),o?ly.addScaledVector(JS,p):ly.addScaledVector(JS.sub(t),p))}t.add(ly)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),ry.copy(n.boundingSphere),ry.applyMatrix4(s),Df.copy(e.ray).recast(e.near),!(ry.containsPoint(Df.origin)===!1&&(Df.intersectSphere(ry,nC)===null||Df.origin.distanceToSquared(nC)>(e.far-e.near)**2))&&(tC.copy(s).invert(),Df.copy(e.ray).applyMatrix4(tC),!(n.boundingBox!==null&&Df.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Df)))}_computeIntersections(e,t,n){let r;const s=this.geometry,o=this.material,a=s.index,c=s.attributes.position,f=s.attributes.uv,p=s.attributes.uv1,m=s.attributes.normal,g=s.groups,y=s.drawRange;if(a!==null)if(Array.isArray(o))for(let x=0,M=g.length;x<M;x++){const b=g[x],_=o[b.materialIndex],E=Math.max(b.start,y.start),C=Math.min(a.count,Math.min(b.start+b.count,y.start+y.count));for(let P=E,D=C;P<D;P+=3){const F=a.getX(P),O=a.getX(P+1),U=a.getX(P+2);r=cy(this,_,e,n,f,p,m,F,O,U),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const x=Math.max(0,y.start),M=Math.min(a.count,y.start+y.count);for(let b=x,_=M;b<_;b+=3){const E=a.getX(b),C=a.getX(b+1),P=a.getX(b+2);r=cy(this,o,e,n,f,p,m,E,C,P),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(o))for(let x=0,M=g.length;x<M;x++){const b=g[x],_=o[b.materialIndex],E=Math.max(b.start,y.start),C=Math.min(c.count,Math.min(b.start+b.count,y.start+y.count));for(let P=E,D=C;P<D;P+=3){const F=P,O=P+1,U=P+2;r=cy(this,_,e,n,f,p,m,F,O,U),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const x=Math.max(0,y.start),M=Math.min(c.count,y.start+y.count);for(let b=x,_=M;b<_;b+=3){const E=b,C=b+1,P=b+2;r=cy(this,o,e,n,f,p,m,E,C,P),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}}}function k6(i,e,t,n,r,s,o,a){let c;if(e.side===Us?c=n.intersectTriangle(o,s,r,!0,a):c=n.intersectTriangle(r,s,o,e.side===bu,a),c===null)return null;uy.copy(a),uy.applyMatrix4(i.matrixWorld);const f=t.ray.origin.distanceTo(uy);return f<t.near||f>t.far?null:{distance:f,point:uy.clone(),object:i}}function cy(i,e,t,n,r,s,o,a,c,f){i.getVertexPosition(a,sy),i.getVertexPosition(c,oy),i.getVertexPosition(f,ay);const p=k6(i,e,t,n,sy,oy,ay,iC);if(p){const m=new ee;io.getBarycoord(iC,sy,oy,ay,m),r&&(p.uv=io.getInterpolatedAttribute(r,a,c,f,m,new ze)),s&&(p.uv1=io.getInterpolatedAttribute(s,a,c,f,m,new ze)),o&&(p.normal=io.getInterpolatedAttribute(o,a,c,f,m,new ee),p.normal.dot(n.direction)>0&&p.normal.multiplyScalar(-1));const g={a,b:c,c:f,normal:new ee,materialIndex:0};io.getNormal(sy,oy,ay,g.normal),p.face=g,p.barycoord=m}return p}class Pd extends un{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const c=[],f=[],p=[],m=[];let g=0,y=0;x("z","y","x",-1,-1,n,t,e,o,s,0),x("z","y","x",1,-1,n,t,-e,o,s,1),x("x","z","y",1,1,e,n,t,r,o,2),x("x","z","y",1,-1,e,n,-t,r,o,3),x("x","y","z",1,-1,e,t,n,r,s,4),x("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(c),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(p,3)),this.setAttribute("uv",new Rt(m,2));function x(M,b,_,E,C,P,D,F,O,U,I){const k=P/O,j=D/U,W=P/2,$=D/2,se=F/2,Z=O+1,te=U+1;let q=0,z=0;const J=new ee;for(let V=0;V<te;V++){const X=V*j-$;for(let oe=0;oe<Z;oe++){const ye=oe*k-W;J[M]=ye*E,J[b]=X*C,J[_]=se,f.push(J.x,J.y,J.z),J[M]=0,J[b]=0,J[_]=F>0?1:-1,p.push(J.x,J.y,J.z),m.push(oe/O),m.push(1-V/U),q+=1}}for(let V=0;V<U;V++)for(let X=0;X<O;X++){const oe=g+X+Z*V,ye=g+X+Z*(V+1),Pe=g+(X+1)+Z*(V+1),Ue=g+(X+1)+Z*V;c.push(oe,ye,Ue),c.push(ye,Pe,Ue),z+=6}a.addGroup(y,z,I),y+=z,g+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function kp(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(ht("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function As(i){const e={};for(let t=0;t<i.length;t++){const n=kp(i[t]);for(const r in n)e[r]=n[r]}return e}function F6(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function xL(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:kn.workingColorSpace}const _L={clone:kp,merge:As};var O6=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,U6=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class co extends hs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=O6,this.fragmentShader=U6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=kp(e.uniforms),this.uniformsGroups=F6(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class z0 extends Hn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tn,this.projectionMatrix=new tn,this.projectionMatrixInverse=new tn,this.coordinateSystem=Do,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const fc=new ee,rC=new ze,sC=new ze;class Nr extends z0{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Dp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Dp*2*Math.atan(Math.tan(cd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){fc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(fc.x,fc.y).multiplyScalar(-e/fc.z),fc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(fc.x,fc.y).multiplyScalar(-e/fc.z)}getViewSize(e,t){return this.getViewBounds(e,rC,sC),t.subVectors(sC,rC)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cd*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/c,t-=o.offsetY*n/f,r*=o.width/c,n*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vh=-90,Hh=1;class SL extends Hn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Nr(Vh,Hh,e,t);r.layers=this.layers,this.add(r);const s=new Nr(Vh,Hh,e,t);s.layers=this.layers,this.add(s);const o=new Nr(Vh,Hh,e,t);o.layers=this.layers,this.add(o);const a=new Nr(Vh,Hh,e,t);a.layers=this.layers,this.add(a);const c=new Nr(Vh,Hh,e,t);c.layers=this.layers,this.add(c);const f=new Nr(Vh,Hh,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,o,a,c]=t;for(const f of t)this.remove(f);if(e===Do)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Lp)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,c,f,p]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const M=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,c),e.setRenderTarget(n,4,r),e.render(t,f),n.texture.generateMipmaps=M,e.setRenderTarget(n,5,r),e.render(t,p),e.setRenderTarget(m,g,y),e.xr.enabled=x,n.texture.needsPMREMUpdate=!0}}class V0 extends zi{constructor(e=[],t=wl,n,r,s,o,a,c,f,p){super(e,t,n,r,s,o,a,c,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hT extends Uo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new V0(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Pd(5,5,5),s=new co({name:"CubemapFromEquirect",uniforms:kp(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Us,blending:xl});s.uniforms.tEquirect.value=t;const o=new lr(r,s),a=t.minFilter;return t.minFilter===pl&&(t.minFilter=ui),new SL(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}class mp extends Hn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const B6={type:"move"};class lx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,c=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const M of e.hand.values()){const b=t.getJointPose(M,n),_=this._getHandJoint(f,M);b!==null&&(_.matrix.fromArray(b.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=b.radius),_.visible=b!==null}const p=f.joints["index-finger-tip"],m=f.joints["thumb-tip"],g=p.position.distanceTo(m.position),y=.02,x=.005;f.inputState.pinching&&g>y+x?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&g<=y-x&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(B6)))}return a!==null&&(a.visible=r!==null),c!==null&&(c.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new mp;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class K_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Tt(e),this.density=t}clone(){return new K_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Z_{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Tt(e),this.near=t,this.far=n}clone(){return new Z_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class pT extends Hn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zo,this.environmentIntensity=1,this.environmentRotation=new zo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class J_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=m0,this.updateRanges=[],this.version=0,this.uuid=Oo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bs=new ee;class bd{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix4(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.applyNormalMatrix(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.transformDirection(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Ls(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=mn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=mn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ls(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ls(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ls(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ls(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=mn(t,this.array),n=mn(n,this.array),r=mn(r,this.array),s=mn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){v0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new ii(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){v0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mT extends hs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gh;const sg=new ee,Wh=new ee,jh=new ee,Xh=new ze,og=new ze,wL=new tn,fy=new ee,ag=new ee,dy=new ee,oC=new ze,QS=new ze,aC=new ze;class ML extends Hn{constructor(e=new mT){if(super(),this.isSprite=!0,this.type="Sprite",Gh===void 0){Gh=new un;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new J_(t,5);Gh.setIndex([0,1,2,0,2,3]),Gh.setAttribute("position",new bd(n,3,0,!1)),Gh.setAttribute("uv",new bd(n,2,3,!1))}this.geometry=Gh,this.material=e,this.center=new ze(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Ht('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wh.setFromMatrixScale(this.matrixWorld),wL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wh.multiplyScalar(-jh.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;hy(fy.set(-.5,-.5,0),jh,o,Wh,r,s),hy(ag.set(.5,-.5,0),jh,o,Wh,r,s),hy(dy.set(.5,.5,0),jh,o,Wh,r,s),oC.set(0,0),QS.set(1,0),aC.set(1,1);let a=e.ray.intersectTriangle(fy,ag,dy,!1,sg);if(a===null&&(hy(ag.set(-.5,.5,0),jh,o,Wh,r,s),QS.set(0,1),a=e.ray.intersectTriangle(fy,dy,ag,!1,sg),a===null))return;const c=e.ray.origin.distanceTo(sg);c<e.near||c>e.far||t.push({distance:c,point:sg.clone(),uv:io.getInterpolation(sg,fy,ag,dy,oC,QS,aC,new ze),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function hy(i,e,t,n,r,s){Xh.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(og.x=s*Xh.x-r*Xh.y,og.y=r*Xh.x+s*Xh.y):og.copy(Xh),i.copy(e),i.x+=og.x,i.y+=og.y,i.applyMatrix4(wL)}const py=new ee,lC=new ee;class bL extends Hn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){py.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(py);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){py.setFromMatrixPosition(e.matrixWorld),lC.setFromMatrixPosition(this.matrixWorld);const n=py.distanceTo(lC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const uC=new ee,cC=new li,fC=new li,z6=new ee,dC=new tn,my=new ee,ew=new qr,hC=new tn,tw=new em;class TL extends lr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=RM,this.bindMatrix=new tn,this.bindMatrixInverse=new tn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,my),this.boundingBox.expandByPoint(my)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,my),this.boundingSphere.expandByPoint(my)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ew.copy(this.boundingSphere),ew.applyMatrix4(r),e.ray.intersectsSphere(ew)!==!1&&(hC.copy(r).invert(),tw.copy(e.ray).applyMatrix4(hC),!(this.boundingBox!==null&&tw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,tw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new li,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===RM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===nL?this.bindMatrixInverse.copy(this.bindMatrix).invert():ht("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;cC.fromBufferAttribute(r.attributes.skinIndex,e),fC.fromBufferAttribute(r.attributes.skinWeight,e),uC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=fC.getComponent(s);if(o!==0){const a=cC.getComponent(s);dC.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(z6.copy(uC).applyMatrix4(dC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class gT extends Hn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ua extends zi{constructor(e=null,t=1,n=1,r,s,o,a,c,f=$i,p=$i,m,g){super(null,o,a,c,f,p,r,s,m,g),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const pC=new tn,V6=new tn;class Q_{constructor(e=[],t=[]){this.uuid=Oo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){ht("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new tn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:V6;pC.multiplyMatrices(a,t[s]),pC.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Q_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ua(t,e,e,Xr,Os);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let o=t[s];o===void 0&&(ht("Skeleton: No bone found with UUID:",s),o=new gT),this.bones.push(o),this.boneInverses.push(new tn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Fp extends ii{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Yh=new tn,mC=new tn,gy=[],gC=new fs,H6=new tn,lg=new lr,ug=new qr;class EL extends lr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Fp(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,H6)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new fs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Yh),gC.copy(e.boundingBox).applyMatrix4(Yh),this.boundingBox.union(gC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Yh),ug.copy(e.boundingSphere).applyMatrix4(Yh),this.boundingSphere.union(ug)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,o=e*s+1;for(let a=0;a<n.length;a++)n[a]=r[o+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(lg.geometry=this.geometry,lg.material=this.material,lg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ug.copy(this.boundingSphere),ug.applyMatrix4(n),e.ray.intersectsSphere(ug)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Yh),mC.multiplyMatrices(n,Yh),lg.matrixWorld=mC,lg.raycast(e,gy);for(let o=0,a=gy.length;o<a;o++){const c=gy[o];c.instanceId=s,c.object=this,t.push(c)}gy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Fp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new ua(new Float32Array(r*this.count),r,this.count,H_,Os));const s=this.morphTexture.source.data.data;let o=0;for(let f=0;f<n.length;f++)o+=n[f];const a=this.geometry.morphTargetsRelative?1:1-o,c=r*e;s[c]=a,s.set(n,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const nw=new ee,G6=new ee,W6=new fn;class gc{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=nw.subVectors(n,t).cross(G6.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(nw),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||W6.getNormalMatrix(e),r=this.coplanarPoint(nw).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kf=new qr,j6=new ze(.5,.5),vy=new ee;class tm{constructor(e=new gc,t=new gc,n=new gc,r=new gc,s=new gc,o=new gc){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Do,n=!1){const r=this.planes,s=e.elements,o=s[0],a=s[1],c=s[2],f=s[3],p=s[4],m=s[5],g=s[6],y=s[7],x=s[8],M=s[9],b=s[10],_=s[11],E=s[12],C=s[13],P=s[14],D=s[15];if(r[0].setComponents(f-o,y-p,_-x,D-E).normalize(),r[1].setComponents(f+o,y+p,_+x,D+E).normalize(),r[2].setComponents(f+a,y+m,_+M,D+C).normalize(),r[3].setComponents(f-a,y-m,_-M,D-C).normalize(),n)r[4].setComponents(c,g,b,P).normalize(),r[5].setComponents(f-c,y-g,_-b,D-P).normalize();else if(r[4].setComponents(f-c,y-g,_-b,D-P).normalize(),t===Do)r[5].setComponents(f+c,y+g,_+b,D+P).normalize();else if(t===Lp)r[5].setComponents(c,g,b,P).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),kf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),kf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(kf)}intersectsSprite(e){kf.center.set(0,0,0);const t=j6.distanceTo(e.center);return kf.radius=.7071067811865476+t,kf.applyMatrix4(e.matrixWorld),this.intersectsSphere(kf)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(vy.x=r.normal.x>0?e.max.x:e.min.x,vy.y=r.normal.y>0?e.max.y:e.min.y,vy.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(vy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const al=new tn,ll=new tm;class e1{constructor(){this.coordinateSystem=Do}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(al.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ll.setFromProjectionMatrix(al,r.coordinateSystem,r.reversedDepth),ll.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(al.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ll.setFromProjectionMatrix(al,r.coordinateSystem,r.reversedDepth),ll.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(al.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ll.setFromProjectionMatrix(al,r.coordinateSystem,r.reversedDepth),ll.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(al.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ll.setFromProjectionMatrix(al,r.coordinateSystem,r.reversedDepth),ll.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(al.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ll.setFromProjectionMatrix(al,r.coordinateSystem,r.reversedDepth),ll.containsPoint(e))return!0}return!1}clone(){return new e1}}function iw(i,e){return i-e}function X6(i,e){return i.z-e.z}function Y6(i,e){return e.z-i.z}class q6{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=n,a.index=r}reset(){this.list.length=0,this.index=0}}const Qs=new tn,$6=new Tt(1,1,1),vC=new tm,K6=new e1,yy=new fs,Ff=new qr,cg=new ee,yC=new ee,Z6=new ee,rw=new q6,ss=new lr,xy=[];function J6(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let o=0;o<n;o++)e.setComponent(s+t,o,i.getComponent(s,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Of(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class AL extends lr{constructor(e,t,n=t*2,r){super(new un,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new ua(t,e,e,Xr,Os);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new ua(t,e,e,B0,fa);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new ua(t,e,e,Xr,Os);n.colorSpace=kn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:c,normalized:f}=o,p=new a.constructor(n*c),m=new ii(p,c,f);t.setAttribute(s,m)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ii(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Qs),this.getBoundingBoxAt(s,yy).applyMatrix4(Qs),e.union(yy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Qs),this.getBoundingSphereAt(s,Ff).applyMatrix4(Qs),e.union(Ff)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(iw),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;Qs.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&($6.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?o.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(iw),c=this._availableGeometryIds.shift(),s[c]=r):(c=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=a.vertexStart,f=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const p in n.attributes){const m=t.getAttribute(p),g=n.getAttribute(p);J6(m,g,c);const y=m.itemSize;for(let x=m.count,M=f;x<M;x++){const b=c+x;for(let _=0;_<y;_++)g.setComponent(b,_,0)}g.needsUpdate=!0,g.addUpdateRange(c*y,f*y)}if(r){const p=a.indexStart,m=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let g=0;g<o.count;g++)s.setX(p+g,c+o.getX(g));for(let g=o.count,y=m;g<y;g++)s.setX(p+g,c);s.needsUpdate=!0,s.addUpdateRange(p,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,s=n.length;r<s;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((o,a)=>a).sort((o,a)=>n[o].vertexStart-n[a].vertexStart),s=this.geometry;for(let o=0,a=n.length;o<a;o++){const c=r[o],f=n[c];if(f.active!==!1){if(s.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:m,reservedIndexCount:g}=f,y=s.index,x=y.array,M=e-m;for(let b=p;b<p+g;b++)x[b]=x[b]+M;y.array.copyWithin(t,p,p+g),y.addUpdateRange(t,g),y.needsUpdate=!0,f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:m}=f,g=s.attributes;for(const y in g){const x=g[y],{array:M,itemSize:b}=x;M.copyWithin(e*b,p*b,(p+m)*b),x.addUpdateRange(e*b,m*b),x.needsUpdate=!0}f.vertexStart=e}e+=f.reservedVertexCount,f.start=s.index?f.indexStart:f.vertexStart,this._nextIndexStart=s.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new fs,o=n.index,a=n.attributes.position;for(let c=r.start,f=r.start+r.count;c<f;c++){let p=c;o&&(p=o.getX(p)),s.expandByPoint(cg.fromBufferAttribute(a,p))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new qr;this.getBoundingBoxAt(e,yy),yy.getCenter(s.center);const o=n.index,a=n.attributes.position;let c=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let m=f;o&&(m=o.getX(m)),cg.fromBufferAttribute(a,m),c=Math.max(c,s.center.distanceToSquared(cg))}s.radius=Math.sqrt(c),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(iw);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Of(this._multiDrawCounts,r),Of(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,c=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Of(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Of(a.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Of(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...n.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new un,this._initializeGeometry(s));const o=this.geometry;s.index&&Of(s.index.array,o.index.array);for(const a in s.attributes)Of(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;ss.material=this.material,ss.geometry.index=o.index,ss.geometry.attributes=o.attributes,ss.geometry.boundingBox===null&&(ss.geometry.boundingBox=new fs),ss.geometry.boundingSphere===null&&(ss.geometry.boundingSphere=new qr);for(let a=0,c=n.length;a<c;a++){if(!n[a].visible||!n[a].active)continue;const f=n[a].geometryIndex,p=r[f];ss.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(a,ss.matrixWorld).premultiply(s),this.getBoundingBoxAt(f,ss.geometry.boundingBox),this.getBoundingSphereAt(f,ss.geometry.boundingSphere),ss.raycast(e,xy);for(let m=0,g=xy.length;m<g;m++){const y=xy[m];y.object=this,y.batchId=a,t.push(y)}xy.length=0}ss.material=null,ss.geometry.index=null,ss.geometry.attributes={},ss.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,m=this._geometryInfo,g=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data,M=n.isArrayCamera?K6:vC;g&&!n.isArrayCamera&&(Qs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),vC.setFromProjectionMatrix(Qs,n.coordinateSystem,n.reversedDepth));let b=0;if(this.sortObjects){Qs.copy(this.matrixWorld).invert(),cg.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Qs),yC.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Qs);for(let C=0,P=c.length;C<P;C++)if(c[C].visible&&c[C].active){const D=c[C].geometryIndex;this.getMatrixAt(C,Qs),this.getBoundingSphereAt(D,Ff).applyMatrix4(Qs);let F=!1;if(g&&(F=!M.intersectsSphere(Ff,n)),!F){const O=m[D],U=Z6.subVectors(Ff.center,cg).dot(yC);rw.push(O.start,O.count,U,C)}}const _=rw.list,E=this.customSort;E===null?_.sort(s.transparent?Y6:X6):E.call(this,_,n);for(let C=0,P=_.length;C<P;C++){const D=_[C];f[b]=D.start*a,p[b]=D.count,x[b]=D.index,b++}rw.reset()}else for(let _=0,E=c.length;_<E;_++)if(c[_].visible&&c[_].active){const C=c[_].geometryIndex;let P=!1;if(g&&(this.getMatrixAt(_,Qs),this.getBoundingSphereAt(C,Ff).applyMatrix4(Qs),P=!M.intersectsSphere(Ff,n)),!P){const D=m[C];f[b]=D.start*a,p[b]=D.count,x[b]=_,b++}}y.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Bs extends hs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Tt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const g_=new ee,v_=new ee,xC=new tn,fg=new em,_y=new qr,sw=new ee,_C=new ee;class Dc extends Hn{constructor(e=new un,t=new Bs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)g_.fromBufferAttribute(t,r-1),v_.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=g_.distanceTo(v_);e.setAttribute("lineDistance",new Rt(n,1))}else ht("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),_y.copy(n.boundingSphere),_y.applyMatrix4(r),_y.radius+=s,e.ray.intersectsSphere(_y)===!1)return;xC.copy(r).invert(),fg.copy(e.ray).applyMatrix4(xC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,f=this.isLineSegments?2:1,p=n.index,g=n.attributes.position;if(p!==null){const y=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count);for(let M=y,b=x-1;M<b;M+=f){const _=p.getX(M),E=p.getX(M+1),C=Sy(this,e,fg,c,_,E,M);C&&t.push(C)}if(this.isLineLoop){const M=p.getX(x-1),b=p.getX(y),_=Sy(this,e,fg,c,M,b,x-1);_&&t.push(_)}}else{const y=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let M=y,b=x-1;M<b;M+=f){const _=Sy(this,e,fg,c,M,M+1,M);_&&t.push(_)}if(this.isLineLoop){const M=Sy(this,e,fg,c,x-1,y,x-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Sy(i,e,t,n,r,s,o){const a=i.geometry.attributes.position;if(g_.fromBufferAttribute(a,r),v_.fromBufferAttribute(a,s),t.distanceSqToSegment(g_,v_,sw,_C)>n)return;sw.applyMatrix4(i.matrixWorld);const f=e.ray.origin.distanceTo(sw);if(!(f<e.near||f>e.far))return{distance:f,point:_C.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const SC=new ee,wC=new ee;class Al extends Dc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)SC.fromBufferAttribute(t,r),wC.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+SC.distanceTo(wC);e.setAttribute("lineDistance",new Rt(n,1))}else ht("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class CL extends Dc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vT extends hs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const MC=new tn,NM=new em,wy=new qr,My=new ee;class PL extends Hn{constructor(e=new un,t=new vT){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),wy.copy(n.boundingSphere),wy.applyMatrix4(r),wy.radius+=s,e.ray.intersectsSphere(wy)===!1)return;MC.copy(r).invert(),NM.copy(e.ray).applyMatrix4(MC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,f=n.index,m=n.attributes.position;if(f!==null){const g=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let x=g,M=y;x<M;x++){const b=f.getX(x);My.fromBufferAttribute(m,b),bC(My,b,c,r,e,t,this)}}else{const g=Math.max(0,o.start),y=Math.min(m.count,o.start+o.count);for(let x=g,M=y;x<M;x++)My.fromBufferAttribute(m,x),bC(My,x,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function bC(i,e,t,n,r,s,o){const a=NM.distanceSqToPoint(i);if(a<t){const c=new ee;NM.closestPointToPoint(i,c),c.applyMatrix4(n);const f=r.ray.origin.distanceTo(c);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class RL extends zi{constructor(e,t,n,r,s=ui,o=ui,a,c,f){super(e,t,n,r,s,o,a,c,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function m(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Q6 extends RL{constructor(e,t,n,r,s,o,a,c){super({},e,t,n,r,s,o,a,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class e8 extends zi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=$i,this.minFilter=$i,this.generateMipmaps=!1,this.needsUpdate=!0}}class t1 extends zi{constructor(e,t,n,r,s,o,a,c,f,p,m,g){super(null,o,a,c,f,p,r,s,m,g),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class t8 extends t1{constructor(e,t,n,r,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ro,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class n8 extends t1{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,wl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class i8 extends zi{constructor(e,t,n,r,s,o,a,c,f){super(e,t,n,r,s,o,a,c,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Op extends zi{constructor(e,t,n=fa,r,s,o,a=$i,c=$i,f,p=bl,m=1){if(p!==bl&&p!==xc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const g={width:e,height:t,depth:m};super(g,r,s,o,a,c,p,n,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new _c(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class IL extends Op{constructor(e,t=fa,n=wl,r,s,o=$i,a=$i,c,f=bl){const p={width:e,height:e,depth:1},m=[p,p,p,p,p,p];super(e,e,t,n,r,s,o,a,c,f),this.image=m,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class yT extends zi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class n1 extends un{constructor(e=1,t=1,n=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:s},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],a=[],c=[],f=[],p=t/2,m=Math.PI/2*e,g=t,y=2*m+g,x=n*2+s,M=r+1,b=new ee,_=new ee;for(let E=0;E<=x;E++){let C=0,P=0,D=0,F=0;if(E<=n){const I=E/n,k=I*Math.PI/2;P=-p-e*Math.cos(k),D=e*Math.sin(k),F=-e*Math.cos(k),C=I*m}else if(E<=n+s){const I=(E-n)/s;P=-p+I*t,D=e,F=0,C=m+I*g}else{const I=(E-n-s)/n,k=I*Math.PI/2;P=p+e*Math.sin(k),D=e*Math.cos(k),F=e*Math.sin(k),C=m+g+I*m}const O=Math.max(0,Math.min(1,C/y));let U=0;E===0?U=.5/r:E===x&&(U=-.5/r);for(let I=0;I<=r;I++){const k=I/r,j=k*Math.PI*2,W=Math.sin(j),$=Math.cos(j);_.x=-D*$,_.y=P,_.z=D*W,a.push(_.x,_.y,_.z),b.set(-D*$,F,D*W),b.normalize(),c.push(b.x,b.y,b.z),f.push(k+U,O)}if(E>0){const I=(E-1)*M;for(let k=0;k<r;k++){const j=I+k,W=I+k+1,$=E*M+k,se=E*M+k+1;o.push(j,W,$),o.push(W,se,$)}}}this.setIndex(o),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class i1 extends un{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],c=[],f=new ee,p=new ze;o.push(0,0,0),a.push(0,0,1),c.push(.5,.5);for(let m=0,g=3;m<=t;m++,g+=3){const y=n+m/t*r;f.x=e*Math.cos(y),f.y=e*Math.sin(y),o.push(f.x,f.y,f.z),a.push(0,0,1),p.x=(o[g]/e+1)/2,p.y=(o[g+1]/e+1)/2,c.push(p.x,p.y)}for(let m=1;m<=t;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(a,3)),this.setAttribute("uv",new Rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class H0 extends un{constructor(e=1,t=1,n=1,r=32,s=1,o=!1,a=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:c};const f=this;r=Math.floor(r),s=Math.floor(s);const p=[],m=[],g=[],y=[];let x=0;const M=[],b=n/2;let _=0;E(),o===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(p),this.setAttribute("position",new Rt(m,3)),this.setAttribute("normal",new Rt(g,3)),this.setAttribute("uv",new Rt(y,2));function E(){const P=new ee,D=new ee;let F=0;const O=(t-e)/n;for(let U=0;U<=s;U++){const I=[],k=U/s,j=k*(t-e)+e;for(let W=0;W<=r;W++){const $=W/r,se=$*c+a,Z=Math.sin(se),te=Math.cos(se);D.x=j*Z,D.y=-k*n+b,D.z=j*te,m.push(D.x,D.y,D.z),P.set(Z,O,te).normalize(),g.push(P.x,P.y,P.z),y.push($,1-k),I.push(x++)}M.push(I)}for(let U=0;U<r;U++)for(let I=0;I<s;I++){const k=M[I][U],j=M[I+1][U],W=M[I+1][U+1],$=M[I][U+1];(e>0||I!==0)&&(p.push(k,j,$),F+=3),(t>0||I!==s-1)&&(p.push(j,W,$),F+=3)}f.addGroup(_,F,0),_+=F}function C(P){const D=x,F=new ze,O=new ee;let U=0;const I=P===!0?e:t,k=P===!0?1:-1;for(let W=1;W<=r;W++)m.push(0,b*k,0),g.push(0,k,0),y.push(.5,.5),x++;const j=x;for(let W=0;W<=r;W++){const se=W/r*c+a,Z=Math.cos(se),te=Math.sin(se);O.x=I*te,O.y=b*k,O.z=I*Z,m.push(O.x,O.y,O.z),g.push(0,k,0),F.x=Z*.5+.5,F.y=te*.5*k+.5,y.push(F.x,F.y),x++}for(let W=0;W<r;W++){const $=D+W,se=j+W;P===!0?p.push(se,se+1,$):p.push(se+1,se,$),U+=3}f.addGroup(_,U,P===!0?1:2),_+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new H0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class G0 extends H0{constructor(e=1,t=1,n=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,n,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new G0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hc extends un{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];a(r),f(n),p(),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(s.slice(),3)),this.setAttribute("uv",new Rt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(E){const C=new ee,P=new ee,D=new ee;for(let F=0;F<t.length;F+=3)y(t[F+0],C),y(t[F+1],P),y(t[F+2],D),c(C,P,D,E)}function c(E,C,P,D){const F=D+1,O=[];for(let U=0;U<=F;U++){O[U]=[];const I=E.clone().lerp(P,U/F),k=C.clone().lerp(P,U/F),j=F-U;for(let W=0;W<=j;W++)W===0&&U===F?O[U][W]=I:O[U][W]=I.clone().lerp(k,W/j)}for(let U=0;U<F;U++)for(let I=0;I<2*(F-U)-1;I++){const k=Math.floor(I/2);I%2===0?(g(O[U][k+1]),g(O[U+1][k]),g(O[U][k])):(g(O[U][k+1]),g(O[U+1][k+1]),g(O[U+1][k]))}}function f(E){const C=new ee;for(let P=0;P<s.length;P+=3)C.x=s[P+0],C.y=s[P+1],C.z=s[P+2],C.normalize().multiplyScalar(E),s[P+0]=C.x,s[P+1]=C.y,s[P+2]=C.z}function p(){const E=new ee;for(let C=0;C<s.length;C+=3){E.x=s[C+0],E.y=s[C+1],E.z=s[C+2];const P=b(E)/2/Math.PI+.5,D=_(E)/Math.PI+.5;o.push(P,1-D)}x(),m()}function m(){for(let E=0;E<o.length;E+=6){const C=o[E+0],P=o[E+2],D=o[E+4],F=Math.max(C,P,D),O=Math.min(C,P,D);F>.9&&O<.1&&(C<.2&&(o[E+0]+=1),P<.2&&(o[E+2]+=1),D<.2&&(o[E+4]+=1))}}function g(E){s.push(E.x,E.y,E.z)}function y(E,C){const P=E*3;C.x=e[P+0],C.y=e[P+1],C.z=e[P+2]}function x(){const E=new ee,C=new ee,P=new ee,D=new ee,F=new ze,O=new ze,U=new ze;for(let I=0,k=0;I<s.length;I+=9,k+=6){E.set(s[I+0],s[I+1],s[I+2]),C.set(s[I+3],s[I+4],s[I+5]),P.set(s[I+6],s[I+7],s[I+8]),F.set(o[k+0],o[k+1]),O.set(o[k+2],o[k+3]),U.set(o[k+4],o[k+5]),D.copy(E).add(C).add(P).divideScalar(3);const j=b(D);M(F,k+0,E,j),M(O,k+2,C,j),M(U,k+4,P,j)}}function M(E,C,P,D){D<0&&E.x===1&&(o[C]=E.x-1),P.x===0&&P.z===0&&(o[C]=D/2/Math.PI+.5)}function b(E){return Math.atan2(E.z,-E.x)}function _(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hc(e.vertices,e.indices,e.radius,e.detail)}}class r1 extends Hc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new r1(e.radius,e.detail)}}const by=new ee,Ty=new ee,ow=new ee,Ey=new io;class LL extends un{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(cd*t),o=e.getIndex(),a=e.getAttribute("position"),c=o?o.count:a.count,f=[0,0,0],p=["a","b","c"],m=new Array(3),g={},y=[];for(let x=0;x<c;x+=3){o?(f[0]=o.getX(x),f[1]=o.getX(x+1),f[2]=o.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:M,b,c:_}=Ey;if(M.fromBufferAttribute(a,f[0]),b.fromBufferAttribute(a,f[1]),_.fromBufferAttribute(a,f[2]),Ey.getNormal(ow),m[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,m[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,m[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let E=0;E<3;E++){const C=(E+1)%3,P=m[E],D=m[C],F=Ey[p[E]],O=Ey[p[C]],U=`${P}_${D}`,I=`${D}_${P}`;I in g&&g[I]?(ow.dot(g[I].normal)<=s&&(y.push(F.x,F.y,F.z),y.push(O.x,O.y,O.z)),g[I]=null):U in g||(g[U]={index0:f[E],index1:f[C],normal:ow.clone()})}}for(const x in g)if(g[x]){const{index0:M,index1:b}=g[x];by.fromBufferAttribute(a,M),Ty.fromBufferAttribute(a,b),y.push(by.x,by.y,by.z),y.push(Ty.x,Ty.y,Ty.z)}this.setAttribute("position",new Rt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xa{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){ht("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,c=s-1,f;for(;a<=c;)if(r=Math.floor(a+(c-a)/2),f=n[r]-o,f<0)a=r+1;else if(f>0)c=r-1;else{c=r;break}if(r=c,n[r]===o)return r/(s-1);const p=n[r],g=n[r+1]-p,y=(o-p)/g;return(r+y)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),c=t||(o.isVector2?new ze:new ee);return c.copy(a).sub(o).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ee,r=[],s=[],o=[],a=new ee,c=new tn;for(let y=0;y<=e;y++){const x=y/e;r[y]=this.getTangentAt(x,new ee)}s[0]=new ee,o[0]=new ee;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),m=Math.abs(r[0].y),g=Math.abs(r[0].z);p<=f&&(f=p,n.set(1,0,0)),m<=f&&(f=m,n.set(0,1,0)),g<=f&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),o[y]=o[y-1].clone(),a.crossVectors(r[y-1],r[y]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(Qt(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(c.makeRotationAxis(a,x))}o[y].crossVectors(r[y],s[y])}if(t===!0){let y=Math.acos(Qt(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(y=-y);for(let x=1;x<=e;x++)s[x].applyMatrix4(c.makeRotationAxis(r[x],y*x)),o[x].crossVectors(r[x],s[x])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class s1 extends Xa{constructor(e=0,t=0,n=1,r=1,s=0,o=Math.PI*2,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=c}getPoint(e,t=new ze){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const p=Math.cos(this.aRotation),m=Math.sin(this.aRotation),g=c-this.aX,y=f-this.aY;c=g*p-y*m+this.aX,f=g*m+y*p+this.aY}return n.set(c,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class NL extends s1{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function xT(){let i=0,e=0,t=0,n=0;function r(s,o,a,c){i=s,e=a,t=-3*s+3*o-2*a-c,n=2*s-2*o+a+c}return{initCatmullRom:function(s,o,a,c,f){r(o,a,f*(a-s),f*(c-o))},initNonuniformCatmullRom:function(s,o,a,c,f,p,m){let g=(o-s)/f-(a-s)/(f+p)+(a-o)/p,y=(a-o)/p-(c-o)/(p+m)+(c-a)/m;g*=p,y*=p,r(o,a,g,y)},calc:function(s){const o=s*s,a=o*s;return i+e*s+t*o+n*a}}}const Ay=new ee,aw=new xT,lw=new xT,uw=new xT;class DL extends Xa{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new ee){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),c=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:c===0&&a===s-1&&(a=s-2,c=1);let f,p;this.closed||a>0?f=r[(a-1)%s]:(Ay.subVectors(r[0],r[1]).add(r[0]),f=Ay);const m=r[a%s],g=r[(a+1)%s];if(this.closed||a+2<s?p=r[(a+2)%s]:(Ay.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=Ay),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(f.distanceToSquared(m),y),M=Math.pow(m.distanceToSquared(g),y),b=Math.pow(g.distanceToSquared(p),y);M<1e-4&&(M=1),x<1e-4&&(x=M),b<1e-4&&(b=M),aw.initNonuniformCatmullRom(f.x,m.x,g.x,p.x,x,M,b),lw.initNonuniformCatmullRom(f.y,m.y,g.y,p.y,x,M,b),uw.initNonuniformCatmullRom(f.z,m.z,g.z,p.z,x,M,b)}else this.curveType==="catmullrom"&&(aw.initCatmullRom(f.x,m.x,g.x,p.x,this.tension),lw.initCatmullRom(f.y,m.y,g.y,p.y,this.tension),uw.initCatmullRom(f.z,m.z,g.z,p.z,this.tension));return n.set(aw.calc(c),lw.calc(c),uw.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ee().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function TC(i,e,t,n,r){const s=(n-e)*.5,o=(r-t)*.5,a=i*i,c=i*a;return(2*t-2*n+s+o)*c+(-3*t+3*n-2*s-o)*a+s*i+t}function r8(i,e){const t=1-i;return t*t*e}function s8(i,e){return 2*(1-i)*i*e}function o8(i,e){return i*i*e}function Hg(i,e,t,n){return r8(i,e)+s8(i,t)+o8(i,n)}function a8(i,e){const t=1-i;return t*t*t*e}function l8(i,e){const t=1-i;return 3*t*t*i*e}function u8(i,e){return 3*(1-i)*i*i*e}function c8(i,e){return i*i*i*e}function Gg(i,e,t,n,r){return a8(i,e)+l8(i,t)+u8(i,n)+c8(i,r)}class _T extends Xa{constructor(e=new ze,t=new ze,n=new ze,r=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ze){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Gg(e,r.x,s.x,o.x,a.x),Gg(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kL extends Xa{constructor(e=new ee,t=new ee,n=new ee,r=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ee){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Gg(e,r.x,s.x,o.x,a.x),Gg(e,r.y,s.y,o.y,a.y),Gg(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ST extends Xa{constructor(e=new ze,t=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ze){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ze){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FL extends Xa{constructor(e=new ee,t=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ee){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ee){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wT extends Xa{constructor(e=new ze,t=new ze,n=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ze){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Hg(e,r.x,s.x,o.x),Hg(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MT extends Xa{constructor(e=new ee,t=new ee,n=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ee){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Hg(e,r.x,s.x,o.x),Hg(e,r.y,s.y,o.y),Hg(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bT extends Xa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ze){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,c=r[o===0?o:o-1],f=r[o],p=r[o>r.length-2?r.length-1:o+1],m=r[o>r.length-3?r.length-1:o+2];return n.set(TC(a,c.x,f.x,p.x,m.x),TC(a,c.y,f.y,p.y,m.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ze().fromArray(r))}return this}}var y_=Object.freeze({__proto__:null,ArcCurve:NL,CatmullRomCurve3:DL,CubicBezierCurve:_T,CubicBezierCurve3:kL,EllipseCurve:s1,LineCurve:ST,LineCurve3:FL,QuadraticBezierCurve:wT,QuadraticBezierCurve3:MT,SplineCurve:bT});class OL extends Xa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new y_[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],c=a.getLength(),f=c===0?0:1-o/c;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(a);for(let f=0;f<c.length;f++){const p=c[f];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new y_[r.type]().fromJSON(r))}return this}}class x_ extends OL{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new ST(this.currentPoint.clone(),new ze(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new wT(this.currentPoint.clone(),new ze(e,t),new ze(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new _T(this.currentPoint.clone(),new ze(e,t),new ze(n,r),new ze(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new bT(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){const a=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+a,t+c,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,c){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,n,r,s,o,a,c),this}absellipse(e,t,n,r,s,o,a,c){const f=new s1(e,t,n,r,s,o,a,c);if(this.curves.length>0){const m=f.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class dd extends x_{constructor(e){super(e),this.uuid=Oo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new x_().fromJSON(r))}return this}}function f8(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=UL(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,c,f;if(n&&(s=g8(i,e,s,t)),i.length>80*t){a=i[0],c=i[1];let p=a,m=c;for(let g=t;g<r;g+=t){const y=i[g],x=i[g+1];y<a&&(a=y),x<c&&(c=x),y>p&&(p=y),x>m&&(m=x)}f=Math.max(p-a,m-c),f=f!==0?32767/f:0}return y0(s,o,t,a,c,f,0),o}function UL(i,e,t,n,r){let s;if(r===A8(i,e,t,n)>0)for(let o=e;o<t;o+=n)s=EC(o/n|0,i[o],i[o+1],s);else for(let o=t-n;o>=e;o-=n)s=EC(o/n|0,i[o],i[o+1],s);return s&&Up(s,s.next)&&(_0(s),s=s.next),s}function Td(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(Up(t,t.next)||Li(t.prev,t,t.next)===0)){if(_0(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function y0(i,e,t,n,r,s,o){if(!i)return;!o&&s&&S8(i,n,r,s);let a=i;for(;i.prev!==i.next;){const c=i.prev,f=i.next;if(s?h8(i,n,r,s):d8(i)){e.push(c.i,i.i,f.i),_0(i),i=f.next,a=f.next;continue}if(i=f,i===a){o?o===1?(i=p8(Td(i),e),y0(i,e,t,n,r,s,2)):o===2&&m8(i,e,t,n,r,s):y0(Td(i),e,t,n,r,s,1);break}}}function d8(i){const e=i.prev,t=i,n=i.next;if(Li(e,t,n)>=0)return!1;const r=e.x,s=t.x,o=n.x,a=e.y,c=t.y,f=n.y,p=Math.min(r,s,o),m=Math.min(a,c,f),g=Math.max(r,s,o),y=Math.max(a,c,f);let x=n.next;for(;x!==e;){if(x.x>=p&&x.x<=g&&x.y>=m&&x.y<=y&&wg(r,a,s,c,o,f,x.x,x.y)&&Li(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function h8(i,e,t,n){const r=i.prev,s=i,o=i.next;if(Li(r,s,o)>=0)return!1;const a=r.x,c=s.x,f=o.x,p=r.y,m=s.y,g=o.y,y=Math.min(a,c,f),x=Math.min(p,m,g),M=Math.max(a,c,f),b=Math.max(p,m,g),_=DM(y,x,e,t,n),E=DM(M,b,e,t,n);let C=i.prevZ,P=i.nextZ;for(;C&&C.z>=_&&P&&P.z<=E;){if(C.x>=y&&C.x<=M&&C.y>=x&&C.y<=b&&C!==r&&C!==o&&wg(a,p,c,m,f,g,C.x,C.y)&&Li(C.prev,C,C.next)>=0||(C=C.prevZ,P.x>=y&&P.x<=M&&P.y>=x&&P.y<=b&&P!==r&&P!==o&&wg(a,p,c,m,f,g,P.x,P.y)&&Li(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;C&&C.z>=_;){if(C.x>=y&&C.x<=M&&C.y>=x&&C.y<=b&&C!==r&&C!==o&&wg(a,p,c,m,f,g,C.x,C.y)&&Li(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;P&&P.z<=E;){if(P.x>=y&&P.x<=M&&P.y>=x&&P.y<=b&&P!==r&&P!==o&&wg(a,p,c,m,f,g,P.x,P.y)&&Li(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function p8(i,e){let t=i;do{const n=t.prev,r=t.next.next;!Up(n,r)&&zL(n,t,t.next,r)&&x0(n,r)&&x0(r,n)&&(e.push(n.i,t.i,r.i),_0(t),_0(t.next),t=i=r),t=t.next}while(t!==i);return Td(t)}function m8(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&b8(o,a)){let c=VL(o,a);o=Td(o,o.next),c=Td(c,c.next),y0(o,e,t,n,r,s,0),y0(c,e,t,n,r,s,0);return}a=a.next}o=o.next}while(o!==i)}function g8(i,e,t,n){const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*n,c=s<o-1?e[s+1]*n:i.length,f=UL(i,a,c,n,!1);f===f.next&&(f.steiner=!0),r.push(M8(f))}r.sort(v8);for(let s=0;s<r.length;s++)t=y8(r[s],t);return t}function v8(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function y8(i,e){const t=x8(i,e);if(!t)return e;const n=VL(t,i);return Td(n,n.next),Td(t,t.next)}function x8(i,e){let t=e;const n=i.x,r=i.y;let s=-1/0,o;if(Up(i,t))return t;do{if(Up(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const m=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=n&&m>s&&(s=m,o=t.x<t.next.x?t:t.next,m===n))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,c=o.x,f=o.y;let p=1/0;t=o;do{if(n>=t.x&&t.x>=c&&n!==t.x&&BL(r<f?n:s,r,c,f,r<f?s:n,r,t.x,t.y)){const m=Math.abs(r-t.y)/(n-t.x);x0(t,i)&&(m<p||m===p&&(t.x>o.x||t.x===o.x&&_8(o,t)))&&(o=t,p=m)}t=t.next}while(t!==a);return o}function _8(i,e){return Li(i.prev,i,e.prev)<0&&Li(e.next,i,i.next)<0}function S8(i,e,t,n){let r=i;do r.z===0&&(r.z=DM(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,w8(r)}function w8(i){let e,t=1;do{let n=i,r;i=null;let s=null;for(e=0;n;){e++;let o=n,a=0;for(let f=0;f<t&&(a++,o=o.nextZ,!!o);f++);let c=t;for(;a>0||c>0&&o;)a!==0&&(c===0||!o||n.z<=o.z)?(r=n,n=n.nextZ,a--):(r=o,o=o.nextZ,c--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;n=o}s.nextZ=null,t*=2}while(e>1);return i}function DM(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function M8(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function BL(i,e,t,n,r,s,o,a){return(r-o)*(e-a)>=(i-o)*(s-a)&&(i-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(n-a)}function wg(i,e,t,n,r,s,o,a){return!(i===o&&e===a)&&BL(i,e,t,n,r,s,o,a)}function b8(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!T8(i,e)&&(x0(i,e)&&x0(e,i)&&E8(i,e)&&(Li(i.prev,i,e.prev)||Li(i,e.prev,e))||Up(i,e)&&Li(i.prev,i,i.next)>0&&Li(e.prev,e,e.next)>0)}function Li(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Up(i,e){return i.x===e.x&&i.y===e.y}function zL(i,e,t,n){const r=Py(Li(i,e,t)),s=Py(Li(i,e,n)),o=Py(Li(t,n,i)),a=Py(Li(t,n,e));return!!(r!==s&&o!==a||r===0&&Cy(i,t,e)||s===0&&Cy(i,n,e)||o===0&&Cy(t,i,n)||a===0&&Cy(t,e,n))}function Cy(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Py(i){return i>0?1:i<0?-1:0}function T8(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&zL(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function x0(i,e){return Li(i.prev,i,i.next)<0?Li(i,e,i.next)>=0&&Li(i,i.prev,e)>=0:Li(i,e,i.prev)<0||Li(i,i.next,e)<0}function E8(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function VL(i,e){const t=kM(i.i,i.x,i.y),n=kM(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function EC(i,e,t,n){const r=kM(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function _0(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function kM(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function A8(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}class C8{static triangulate(e,t,n=2){return f8(e,t,n)}}class Wa{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return Wa.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];AC(e),CC(n,e);let o=e.length;t.forEach(AC);for(let c=0;c<t.length;c++)r.push(o),o+=t[c].length,CC(n,t[c]);const a=C8.triangulate(n,r);for(let c=0;c<a.length;c+=3)s.push(a.slice(c,c+3));return s}}function AC(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function CC(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class o1 extends un{constructor(e=new dd([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,c=e.length;a<c;a++){const f=e[a];o(f)}this.setAttribute("position",new Rt(r,3)),this.setAttribute("uv",new Rt(s,2)),this.computeVertexNormals();function o(a){const c=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:y-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,b=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:P8;let C,P=!1,D,F,O,U;if(_){C=_.getSpacedPoints(p),P=!0,g=!1;const Ce=_.isCatmullRomCurve3?_.closed:!1;D=_.computeFrenetFrames(p,Ce),F=new ee,O=new ee,U=new ee}g||(b=0,y=0,x=0,M=0);const I=a.extractPoints(f);let k=I.shape;const j=I.holes;if(!Wa.isClockWise(k)){k=k.reverse();for(let Ce=0,ke=j.length;Ce<ke;Ce++){const Le=j[Ce];Wa.isClockWise(Le)&&(j[Ce]=Le.reverse())}}function $(Ce){const Le=10000000000000001e-36;let ae=Ce[0];for(let Q=1;Q<=Ce.length;Q++){const wt=Q%Ce.length,Je=Ce[wt],st=Je.x-ae.x,Ye=Je.y-ae.y,K=st*st+Ye*Ye,H=Math.max(Math.abs(Je.x),Math.abs(Je.y),Math.abs(ae.x),Math.abs(ae.y)),le=Le*H*H;if(K<=le){Ce.splice(wt,1),Q--;continue}ae=Je}}$(k),j.forEach($);const se=j.length,Z=k;for(let Ce=0;Ce<se;Ce++){const ke=j[Ce];k=k.concat(ke)}function te(Ce,ke,Le){return ke||Ht("ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector(ke,Le)}const q=k.length;function z(Ce,ke,Le){let ae,Q,wt;const Je=Ce.x-ke.x,st=Ce.y-ke.y,Ye=Le.x-Ce.x,K=Le.y-Ce.y,H=Je*Je+st*st,le=Je*K-st*Ye;if(Math.abs(le)>Number.EPSILON){const Te=Math.sqrt(H),Re=Math.sqrt(Ye*Ye+K*K),be=ke.x-st/Te,ct=ke.y+Je/Te,$e=Le.x-K/Re,pt=Le.y+Ye/Re,vt=(($e-be)*K-(pt-ct)*Ye)/(Je*K-st*Ye);ae=be+Je*vt-Ce.x,Q=ct+st*vt-Ce.y;const He=ae*ae+Q*Q;if(He<=2)return new ze(ae,Q);wt=Math.sqrt(He/2)}else{let Te=!1;Je>Number.EPSILON?Ye>Number.EPSILON&&(Te=!0):Je<-Number.EPSILON?Ye<-Number.EPSILON&&(Te=!0):Math.sign(st)===Math.sign(K)&&(Te=!0),Te?(ae=-st,Q=Je,wt=Math.sqrt(H)):(ae=Je,Q=st,wt=Math.sqrt(H/2))}return new ze(ae/wt,Q/wt)}const J=[];for(let Ce=0,ke=Z.length,Le=ke-1,ae=Ce+1;Ce<ke;Ce++,Le++,ae++)Le===ke&&(Le=0),ae===ke&&(ae=0),J[Ce]=z(Z[Ce],Z[Le],Z[ae]);const V=[];let X,oe=J.concat();for(let Ce=0,ke=se;Ce<ke;Ce++){const Le=j[Ce];X=[];for(let ae=0,Q=Le.length,wt=Q-1,Je=ae+1;ae<Q;ae++,wt++,Je++)wt===Q&&(wt=0),Je===Q&&(Je=0),X[ae]=z(Le[ae],Le[wt],Le[Je]);V.push(X),oe=oe.concat(X)}let ye;if(b===0)ye=Wa.triangulateShape(Z,j);else{const Ce=[],ke=[];for(let Le=0;Le<b;Le++){const ae=Le/b,Q=y*Math.cos(ae*Math.PI/2),wt=x*Math.sin(ae*Math.PI/2)+M;for(let Je=0,st=Z.length;Je<st;Je++){const Ye=te(Z[Je],J[Je],wt);Be(Ye.x,Ye.y,-Q),ae===0&&Ce.push(Ye)}for(let Je=0,st=se;Je<st;Je++){const Ye=j[Je];X=V[Je];const K=[];for(let H=0,le=Ye.length;H<le;H++){const Te=te(Ye[H],X[H],wt);Be(Te.x,Te.y,-Q),ae===0&&K.push(Te)}ae===0&&ke.push(K)}}ye=Wa.triangulateShape(Ce,ke)}const Pe=ye.length,Ue=x+M;for(let Ce=0;Ce<q;Ce++){const ke=g?te(k[Ce],oe[Ce],Ue):k[Ce];P?(O.copy(D.normals[0]).multiplyScalar(ke.x),F.copy(D.binormals[0]).multiplyScalar(ke.y),U.copy(C[0]).add(O).add(F),Be(U.x,U.y,U.z)):Be(ke.x,ke.y,0)}for(let Ce=1;Ce<=p;Ce++)for(let ke=0;ke<q;ke++){const Le=g?te(k[ke],oe[ke],Ue):k[ke];P?(O.copy(D.normals[Ce]).multiplyScalar(Le.x),F.copy(D.binormals[Ce]).multiplyScalar(Le.y),U.copy(C[Ce]).add(O).add(F),Be(U.x,U.y,U.z)):Be(Le.x,Le.y,m/p*Ce)}for(let Ce=b-1;Ce>=0;Ce--){const ke=Ce/b,Le=y*Math.cos(ke*Math.PI/2),ae=x*Math.sin(ke*Math.PI/2)+M;for(let Q=0,wt=Z.length;Q<wt;Q++){const Je=te(Z[Q],J[Q],ae);Be(Je.x,Je.y,m+Le)}for(let Q=0,wt=j.length;Q<wt;Q++){const Je=j[Q];X=V[Q];for(let st=0,Ye=Je.length;st<Ye;st++){const K=te(Je[st],X[st],ae);P?Be(K.x,K.y+C[p-1].y,C[p-1].x+Le):Be(K.x,K.y,m+Le)}}}de(),me();function de(){const Ce=r.length/3;if(g){let ke=0,Le=q*ke;for(let ae=0;ae<Pe;ae++){const Q=ye[ae];We(Q[2]+Le,Q[1]+Le,Q[0]+Le)}ke=p+b*2,Le=q*ke;for(let ae=0;ae<Pe;ae++){const Q=ye[ae];We(Q[0]+Le,Q[1]+Le,Q[2]+Le)}}else{for(let ke=0;ke<Pe;ke++){const Le=ye[ke];We(Le[2],Le[1],Le[0])}for(let ke=0;ke<Pe;ke++){const Le=ye[ke];We(Le[0]+q*p,Le[1]+q*p,Le[2]+q*p)}}n.addGroup(Ce,r.length/3-Ce,0)}function me(){const Ce=r.length/3;let ke=0;De(Z,ke),ke+=Z.length;for(let Le=0,ae=j.length;Le<ae;Le++){const Q=j[Le];De(Q,ke),ke+=Q.length}n.addGroup(Ce,r.length/3-Ce,1)}function De(Ce,ke){let Le=Ce.length;for(;--Le>=0;){const ae=Le;let Q=Le-1;Q<0&&(Q=Ce.length-1);for(let wt=0,Je=p+b*2;wt<Je;wt++){const st=q*wt,Ye=q*(wt+1),K=ke+ae+st,H=ke+Q+st,le=ke+Q+Ye,Te=ke+ae+Ye;yt(K,H,le,Te)}}}function Be(Ce,ke,Le){c.push(Ce),c.push(ke),c.push(Le)}function We(Ce,ke,Le){Bt(Ce),Bt(ke),Bt(Le);const ae=r.length/3,Q=E.generateTopUV(n,r,ae-3,ae-2,ae-1);qe(Q[0]),qe(Q[1]),qe(Q[2])}function yt(Ce,ke,Le,ae){Bt(Ce),Bt(ke),Bt(ae),Bt(ke),Bt(Le),Bt(ae);const Q=r.length/3,wt=E.generateSideWallUV(n,r,Q-6,Q-3,Q-2,Q-1);qe(wt[0]),qe(wt[1]),qe(wt[3]),qe(wt[1]),qe(wt[2]),qe(wt[3])}function Bt(Ce){r.push(c[Ce*3+0]),r.push(c[Ce*3+1]),r.push(c[Ce*3+2])}function qe(Ce){s.push(Ce.x),s.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return R8(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new y_[r.type]().fromJSON(r)),new o1(n,e.options)}}const P8={generateTopUV:function(i,e,t,n,r){const s=e[t*3],o=e[t*3+1],a=e[n*3],c=e[n*3+1],f=e[r*3],p=e[r*3+1];return[new ze(s,o),new ze(a,c),new ze(f,p)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[t*3],a=e[t*3+1],c=e[t*3+2],f=e[n*3],p=e[n*3+1],m=e[n*3+2],g=e[r*3],y=e[r*3+1],x=e[r*3+2],M=e[s*3],b=e[s*3+1],_=e[s*3+2];return Math.abs(a-p)<Math.abs(o-f)?[new ze(o,1-c),new ze(f,1-m),new ze(g,1-x),new ze(M,1-_)]:[new ze(a,1-c),new ze(p,1-m),new ze(y,1-x),new ze(b,1-_)]}};function R8(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class a1 extends Hc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new a1(e.radius,e.detail)}}class l1 extends un{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Qt(r,0,Math.PI*2);const s=[],o=[],a=[],c=[],f=[],p=1/t,m=new ee,g=new ze,y=new ee,x=new ee,M=new ee;let b=0,_=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-b,y.z=_*0,M.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(M.x,M.y,M.z);break;default:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-b,y.z=_*0,x.copy(y),y.x+=M.x,y.y+=M.y,y.z+=M.z,y.normalize(),c.push(y.x,y.y,y.z),M.copy(x)}for(let E=0;E<=t;E++){const C=n+E*p*r,P=Math.sin(C),D=Math.cos(C);for(let F=0;F<=e.length-1;F++){m.x=e[F].x*P,m.y=e[F].y,m.z=e[F].x*D,o.push(m.x,m.y,m.z),g.x=E/t,g.y=F/(e.length-1),a.push(g.x,g.y);const O=c[3*F+0]*P,U=c[3*F+1],I=c[3*F+0]*D;f.push(O,U,I)}}for(let E=0;E<t;E++)for(let C=0;C<e.length-1;C++){const P=C+E*e.length,D=P,F=P+e.length,O=P+e.length+1,U=P+1;s.push(D,F,U),s.push(O,U,F)}this.setIndex(s),this.setAttribute("position",new Rt(o,3)),this.setAttribute("uv",new Rt(a,2)),this.setAttribute("normal",new Rt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l1(e.points,e.segments,e.phiStart,e.phiLength)}}class W0 extends Hc{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new W0(e.radius,e.detail)}}class nm extends un{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),c=Math.floor(r),f=a+1,p=c+1,m=e/a,g=t/c,y=[],x=[],M=[],b=[];for(let _=0;_<p;_++){const E=_*g-o;for(let C=0;C<f;C++){const P=C*m-s;x.push(P,-E,0),M.push(0,0,1),b.push(C/a),b.push(1-_/c)}}for(let _=0;_<c;_++)for(let E=0;E<a;E++){const C=E+f*_,P=E+f*(_+1),D=E+1+f*(_+1),F=E+1+f*_;y.push(C,P,F),y.push(P,D,F)}this.setIndex(y),this.setAttribute("position",new Rt(x,3)),this.setAttribute("normal",new Rt(M,3)),this.setAttribute("uv",new Rt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nm(e.width,e.height,e.widthSegments,e.heightSegments)}}class u1 extends un{constructor(e=.5,t=1,n=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],c=[],f=[],p=[];let m=e;const g=(t-e)/r,y=new ee,x=new ze;for(let M=0;M<=r;M++){for(let b=0;b<=n;b++){const _=s+b/n*o;y.x=m*Math.cos(_),y.y=m*Math.sin(_),c.push(y.x,y.y,y.z),f.push(0,0,1),x.x=(y.x/t+1)/2,x.y=(y.y/t+1)/2,p.push(x.x,x.y)}m+=g}for(let M=0;M<r;M++){const b=M*(n+1);for(let _=0;_<n;_++){const E=_+b,C=E,P=E+n+1,D=E+n+2,F=E+1;a.push(C,P,F),a.push(P,D,F)}}this.setIndex(a),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(f,3)),this.setAttribute("uv",new Rt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class c1 extends un{constructor(e=new dd([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,c=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(a,c,p),a+=c,c=0;this.setIndex(n),this.setAttribute("position",new Rt(r,3)),this.setAttribute("normal",new Rt(s,3)),this.setAttribute("uv",new Rt(o,2));function f(p){const m=r.length/3,g=p.extractPoints(t);let y=g.shape;const x=g.holes;Wa.isClockWise(y)===!1&&(y=y.reverse());for(let b=0,_=x.length;b<_;b++){const E=x[b];Wa.isClockWise(E)===!0&&(x[b]=E.reverse())}const M=Wa.triangulateShape(y,x);for(let b=0,_=x.length;b<_;b++){const E=x[b];y=y.concat(E)}for(let b=0,_=y.length;b<_;b++){const E=y[b];r.push(E.x,E.y,0),s.push(0,0,1),o.push(E.x,E.y)}for(let b=0,_=M.length;b<_;b++){const E=M[b],C=E[0]+m,P=E[1]+m,D=E[2]+m;n.push(C,P,D),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return I8(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];n.push(o)}return new c1(n,e.curveSegments)}}function I8(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class j0 extends un{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(o+a,Math.PI);let f=0;const p=[],m=new ee,g=new ee,y=[],x=[],M=[],b=[];for(let _=0;_<=n;_++){const E=[],C=_/n;let P=0;_===0&&o===0?P=.5/t:_===n&&c===Math.PI&&(P=-.5/t);for(let D=0;D<=t;D++){const F=D/t;m.x=-e*Math.cos(r+F*s)*Math.sin(o+C*a),m.y=e*Math.cos(o+C*a),m.z=e*Math.sin(r+F*s)*Math.sin(o+C*a),x.push(m.x,m.y,m.z),g.copy(m).normalize(),M.push(g.x,g.y,g.z),b.push(F+P,1-C),E.push(f++)}p.push(E)}for(let _=0;_<n;_++)for(let E=0;E<t;E++){const C=p[_][E+1],P=p[_][E],D=p[_+1][E],F=p[_+1][E+1];(_!==0||o>0)&&y.push(C,P,F),(_!==n-1||c<Math.PI)&&y.push(P,D,F)}this.setIndex(y),this.setAttribute("position",new Rt(x,3)),this.setAttribute("normal",new Rt(M,3)),this.setAttribute("uv",new Rt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class f1 extends Hc{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new f1(e.radius,e.detail)}}class d1 extends un{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],c=[],f=[],p=new ee,m=new ee,g=new ee;for(let y=0;y<=n;y++)for(let x=0;x<=r;x++){const M=x/r*s,b=y/n*Math.PI*2;m.x=(e+t*Math.cos(b))*Math.cos(M),m.y=(e+t*Math.cos(b))*Math.sin(M),m.z=t*Math.sin(b),a.push(m.x,m.y,m.z),p.x=e*Math.cos(M),p.y=e*Math.sin(M),g.subVectors(m,p).normalize(),c.push(g.x,g.y,g.z),f.push(x/r),f.push(y/n)}for(let y=1;y<=n;y++)for(let x=1;x<=r;x++){const M=(r+1)*y+x-1,b=(r+1)*(y-1)+x-1,_=(r+1)*(y-1)+x,E=(r+1)*y+x;o.push(M,b,E),o.push(b,_,E)}this.setIndex(o),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class h1 extends un{constructor(e=1,t=.4,n=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],c=[],f=[],p=[],m=new ee,g=new ee,y=new ee,x=new ee,M=new ee,b=new ee,_=new ee;for(let C=0;C<=n;++C){const P=C/n*s*Math.PI*2;E(P,s,o,e,y),E(P+.01,s,o,e,x),b.subVectors(x,y),_.addVectors(x,y),M.crossVectors(b,_),_.crossVectors(M,b),M.normalize(),_.normalize();for(let D=0;D<=r;++D){const F=D/r*Math.PI*2,O=-t*Math.cos(F),U=t*Math.sin(F);m.x=y.x+(O*_.x+U*M.x),m.y=y.y+(O*_.y+U*M.y),m.z=y.z+(O*_.z+U*M.z),c.push(m.x,m.y,m.z),g.subVectors(m,y).normalize(),f.push(g.x,g.y,g.z),p.push(C/n),p.push(D/r)}}for(let C=1;C<=n;C++)for(let P=1;P<=r;P++){const D=(r+1)*(C-1)+(P-1),F=(r+1)*C+(P-1),O=(r+1)*C+P,U=(r+1)*(C-1)+P;a.push(D,F,U),a.push(F,O,U)}this.setIndex(a),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(f,3)),this.setAttribute("uv",new Rt(p,2));function E(C,P,D,F,O){const U=Math.cos(C),I=Math.sin(C),k=D/P*C,j=Math.cos(k);O.x=F*(2+j)*.5*U,O.y=F*(2+j)*I*.5,O.z=F*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class p1 extends un{constructor(e=new MT(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ee,c=new ee,f=new ze;let p=new ee;const m=[],g=[],y=[],x=[];M(),this.setIndex(x),this.setAttribute("position",new Rt(m,3)),this.setAttribute("normal",new Rt(g,3)),this.setAttribute("uv",new Rt(y,2));function M(){for(let C=0;C<t;C++)b(C);b(s===!1?t:0),E(),_()}function b(C){p=e.getPointAt(C/t,p);const P=o.normals[C],D=o.binormals[C];for(let F=0;F<=r;F++){const O=F/r*Math.PI*2,U=Math.sin(O),I=-Math.cos(O);c.x=I*P.x+U*D.x,c.y=I*P.y+U*D.y,c.z=I*P.z+U*D.z,c.normalize(),g.push(c.x,c.y,c.z),a.x=p.x+n*c.x,a.y=p.y+n*c.y,a.z=p.z+n*c.z,m.push(a.x,a.y,a.z)}}function _(){for(let C=1;C<=t;C++)for(let P=1;P<=r;P++){const D=(r+1)*(C-1)+(P-1),F=(r+1)*C+(P-1),O=(r+1)*C+P,U=(r+1)*(C-1)+P;x.push(D,F,U),x.push(F,O,U)}}function E(){for(let C=0;C<=t;C++)for(let P=0;P<=r;P++)f.x=C/t,f.y=P/r,y.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new p1(new y_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class HL extends un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new ee,s=new ee;if(e.index!==null){const o=e.attributes.position,a=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,p=c.length;f<p;++f){const m=c[f],g=m.start,y=m.count;for(let x=g,M=g+y;x<M;x+=3)for(let b=0;b<3;b++){const _=a.getX(x+b),E=a.getX(x+(b+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,E),PC(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,c=o.count/3;a<c;a++)for(let f=0;f<3;f++){const p=3*a+f,m=3*a+(f+1)%3;r.fromBufferAttribute(o,p),s.fromBufferAttribute(o,m),PC(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Rt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function PC(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var RC=Object.freeze({__proto__:null,BoxGeometry:Pd,CapsuleGeometry:n1,CircleGeometry:i1,ConeGeometry:G0,CylinderGeometry:H0,DodecahedronGeometry:r1,EdgesGeometry:LL,ExtrudeGeometry:o1,IcosahedronGeometry:a1,LatheGeometry:l1,OctahedronGeometry:W0,PlaneGeometry:nm,PolyhedronGeometry:Hc,RingGeometry:u1,ShapeGeometry:c1,SphereGeometry:j0,TetrahedronGeometry:f1,TorusGeometry:d1,TorusKnotGeometry:h1,TubeGeometry:p1,WireframeGeometry:HL});class GL extends hs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class TT extends co{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ET extends hs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WL extends ET{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Tt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class jL extends hs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Tt(16777215),this.specular=new Tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zo,this.combine=U0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XL extends hs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class YL extends hs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qL extends hs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zo,this.combine=U0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AT extends hs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=oL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class CT extends hs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class $L extends hs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zc,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KL extends Bs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function sd(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function ZL(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function FM(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let c=0;c!==e;++c)r[o++]=i[a+c]}return r}function PT(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push(...o)),s=i[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=i[r++];while(s!==void 0)}function L8(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const f=s.tracks[c],p=f.getValueSize(),m=[],g=[];for(let y=0;y<f.times.length;++y){const x=f.times[y]*r;if(!(x<t||x>=n)){m.push(f.times[y]);for(let M=0;M<p;++M)g.push(f.values[y*p+M])}}m.length!==0&&(f.times=sd(m,f.times.constructor),f.values=sd(g,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let c=0;c<s.tracks.length;++c)a>s.tracks[c].times[0]&&(a=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*a);return s.resetDuration(),s}function N8(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],c=a.ValueTypeName;if(c==="bool"||c==="string")continue;const f=i.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===c});if(f===void 0)continue;let p=0;const m=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);let g=0;const y=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const x=a.times.length-1;let M;if(s<=a.times[0]){const _=p,E=m-p;M=a.values.slice(_,E)}else if(s>=a.times[x]){const _=x*m+p,E=_+m-p;M=a.values.slice(_,E)}else{const _=a.createInterpolant(),E=p,C=m-p;_.evaluate(s),M=_.resultBuffer.slice(E,C)}c==="quaternion"&&new so().fromArray(M).normalize().conjugate().toArray(M);const b=f.times.length;for(let _=0;_<b;++_){const E=_*y+g;if(c==="quaternion")so.multiplyQuaternionsFlat(f.values,E,M,0,f.values,E);else{const C=y-g*2;for(let P=0;P<C;++P)f.values[E+P]-=M[P]}}}return i.blendMode=lT,i}class D8{static convertArray(e,t){return sd(e,t)}static isTypedArray(e){return mL(e)}static getKeyframeOrder(e){return ZL(e)}static sortedArray(e,t,n){return FM(e,t,n)}static flattenJSON(e,t,n,r){PT(e,t,n,r)}static subclip(e,t,n,r,s=30){return L8(e,t,n,r,s)}static makeClipAdditive(e,t=0,n=e,r=30){return N8(e,t,n,r)}}class X0{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let c=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class JL extends X0{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:id,endingEnd:id}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],c=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case rd:s=e,a=2*t-n;break;case h0:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(c===void 0)switch(this.getSettings_().endingEnd){case rd:o=e,c=2*n-t;break;case h0:o=1,c=n+r[1]-r[0];break;default:o=e-1,c=t}const f=(n-t)*.5,p=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(c-n),this._offsetPrev=s*p,this._offsetNext=o*p}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,f=c-a,p=this._offsetPrev,m=this._offsetNext,g=this._weightPrev,y=this._weightNext,x=(n-t)/(r-t),M=x*x,b=M*x,_=-g*b+2*g*M-g*x,E=(1+g)*b+(-1.5-2*g)*M+(-.5+g)*x+1,C=(-1-y)*b+(1.5+y)*M+.5*x,P=y*b-y*M;for(let D=0;D!==a;++D)s[D]=_*o[p+D]+E*o[f+D]+C*o[c+D]+P*o[m+D];return s}}class RT extends X0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,f=c-a,p=(n-t)/(r-t),m=1-p;for(let g=0;g!==a;++g)s[g]=o[f+g]*m+o[c+g]*p;return s}}class QL extends X0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class da{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sd(t,this.TimeBufferType),this.values=sd(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:sd(e.times,Array),values:sd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new QL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new RT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new JL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case d0:t=this.InterpolantFactoryMethodDiscrete;break;case m_:t=this.InterpolantFactoryMethodLinear;break;case ax:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return ht("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return d0;case this.InterpolantFactoryMethodLinear:return m_;case this.InterpolantFactoryMethodSmooth:return ax}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Ht("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(Ht("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const c=n[a];if(typeof c=="number"&&isNaN(c)){Ht("KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(o!==null&&o>c){Ht("KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(r!==void 0&&mL(r))for(let a=0,c=r.length;a!==c;++a){const f=r[a];if(isNaN(f)){Ht("KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===ax,s=e.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const f=e[a],p=e[a+1];if(f!==p&&(a!==1||f!==e[0]))if(r)c=!0;else{const m=a*n,g=m-n,y=m+n;for(let x=0;x!==n;++x){const M=t[m+x];if(M!==t[g+x]||M!==t[y+x]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const m=a*n,g=o*n;for(let y=0;y!==n;++y)t[g+y]=t[m+y]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,c=o*n,f=0;f!==n;++f)t[c+f]=t[a+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}da.prototype.ValueTypeName="";da.prototype.TimeBufferType=Float32Array;da.prototype.ValueBufferType=Float32Array;da.prototype.DefaultInterpolation=m_;class Rd extends da{constructor(e,t,n){super(e,t,n)}}Rd.prototype.ValueTypeName="bool";Rd.prototype.ValueBufferType=Array;Rd.prototype.DefaultInterpolation=d0;Rd.prototype.InterpolantFactoryMethodLinear=void 0;Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class IT extends da{constructor(e,t,n,r){super(e,t,n,r)}}IT.prototype.ValueTypeName="color";class S0 extends da{constructor(e,t,n,r){super(e,t,n,r)}}S0.prototype.ValueTypeName="number";class eN extends X0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(n-t)/(r-t);let f=e*a;for(let p=f+a;f!==p;f+=4)so.slerpFlat(s,0,o,f-a,o,f,c);return s}}class Y0 extends da{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new eN(this.times,this.values,this.getValueSize(),e)}}Y0.prototype.ValueTypeName="quaternion";Y0.prototype.InterpolantFactoryMethodSmooth=void 0;class Id extends da{constructor(e,t,n){super(e,t,n)}}Id.prototype.ValueTypeName="string";Id.prototype.ValueBufferType=Array;Id.prototype.DefaultInterpolation=d0;Id.prototype.InterpolantFactoryMethodLinear=void 0;Id.prototype.InterpolantFactoryMethodSmooth=void 0;class w0 extends da{constructor(e,t,n,r){super(e,t,n,r)}}w0.prototype.ValueTypeName="vector";class M0{constructor(e="",t=-1,n=[],r=j_){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Oo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(F8(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=n.length;s!==o;++s)t.push(da.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let c=[],f=[];c.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const p=ZL(c);c=FM(c,1,p),f=FM(f,1,p),!r&&c[0]===0&&(c.push(s),f.push(f[0])),o.push(new S0(".morphTargetInfluences["+t[a].name+"]",c,f).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const f=e[a],p=f.name.match(s);if(p&&p.length>1){const m=p[1];let g=r[m];g||(r[m]=g=[]),g.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(ht("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Ht("AnimationClip: No animation in JSONLoader data."),null;const n=function(m,g,y,x,M){if(y.length!==0){const b=[],_=[];PT(y,b,_,x),b.length!==0&&M.push(new m(g,b,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let c=e.length||-1;const f=e.hierarchy||[];for(let m=0;m<f.length;m++){const g=f[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let M=0;M<g[x].morphTargets.length;M++)y[g[x].morphTargets[M]]=-1;for(const M in y){const b=[],_=[];for(let E=0;E!==g[x].morphTargets.length;++E){const C=g[x];b.push(C.time),_.push(C.morphTarget===M?1:0)}r.push(new S0(".morphTargetInfluence["+M+"]",b,_))}c=y.length*o}else{const y=".bones["+t[m].name+"]";n(w0,y+".position",g,"pos",r),n(Y0,y+".quaternion",g,"rot",r),n(w0,y+".scale",g,"scl",r)}}return r.length===0?null:new this(s,c,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function k8(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return S0;case"vector":case"vector2":case"vector3":case"vector4":return w0;case"color":return IT;case"quaternion":return Y0;case"bool":case"boolean":return Rd;case"string":return Id}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function F8(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=k8(i.type);if(i.times===void 0){const t=[],n=[];PT(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const ml={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class LT{constructor(e,t,n){const r=this;let s=!1,o=0,a=0,c;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(p){a++,s===!1&&r.onStart!==void 0&&r.onStart(p,o,a),s=!0},this.itemEnd=function(p){o++,r.onProgress!==void 0&&r.onProgress(p,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,m){return f.push(p,m),this},this.removeHandler=function(p){const m=f.indexOf(p);return m!==-1&&f.splice(m,2),this},this.getHandler=function(p){for(let m=0,g=f.length;m<g;m+=2){const y=f[m],x=f[m+1];if(y.global&&(y.lastIndex=0),y.test(p))return x}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const tN=new LT;class ho{constructor(e){this.manager=e!==void 0?e:tN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ho.DEFAULT_MATERIAL_NAME="__DEFAULT";const hu={};class O8 extends Error{constructor(e,t){super(e),this.response=t}}class Tu extends ho{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ml.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(hu[e]!==void 0){hu[e].push({onLoad:t,onProgress:n,onError:r});return}hu[e]=[],hu[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,c=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&ht("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=hu[e],m=f.body.getReader(),g=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),y=g?parseInt(g):0,x=y!==0;let M=0;const b=new ReadableStream({start(_){E();function E(){m.read().then(({done:C,value:P})=>{if(C)_.close();else{M+=P.byteLength;const D=new ProgressEvent("progress",{lengthComputable:x,loaded:M,total:y});for(let F=0,O=p.length;F<O;F++){const U=p[F];U.onProgress&&U.onProgress(D)}_.enqueue(P),E()}},C=>{_.error(C)})}}});return new Response(b)}else throw new O8(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(c){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,a));case"json":return f.json();default:if(a==="")return f.text();{const m=/charset="?([^;"\s]*)"?/i.exec(a),g=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(g);return f.arrayBuffer().then(x=>y.decode(x))}}}).then(f=>{ml.add(`file:${e}`,f);const p=hu[e];delete hu[e];for(let m=0,g=p.length;m<g;m++){const y=p[m];y.onLoad&&y.onLoad(f)}}).catch(f=>{const p=hu[e];if(p===void 0)throw this.manager.itemError(e),f;delete hu[e];for(let m=0,g=p.length;m<g;m++){const y=p[m];y.onError&&y.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class U8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Tu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):Ht(c),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=M0.parse(e[n]);t.push(r)}return t}}class B8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=[],a=new t1,c=new Tu(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let f=0;function p(m){c.load(e[m],function(g){const y=s.parse(g,!0);o[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},f+=1,f===6&&(y.mipmapCount===1&&(a.minFilter=ui),a.image=o,a.format=y.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let m=0,g=e.length;m<g;++m)p(m);else c.load(e,function(m){const g=s.parse(m,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let x=0;x<y;x++){o[x]={mipmaps:[]};for(let M=0;M<g.mipmapCount;M++)o[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+M]),o[x].format=g.format,o[x].width=g.width,o[x].height=g.height}a.image=o}else a.image.width=g.width,a.image.height=g.height,a.mipmaps=g.mipmaps;g.mipmapCount===1&&(a.minFilter=ui),a.format=g.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}const qh=new WeakMap;class b0 extends ho{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let m=qh.get(o);m===void 0&&(m=[],qh.set(o,m)),m.push({onLoad:t,onError:r})}return o}const a=g0("img");function c(){p(),t&&t(this);const m=qh.get(this)||[];for(let g=0;g<m.length;g++){const y=m[g];y.onLoad&&y.onLoad(this)}qh.delete(this),s.manager.itemEnd(e)}function f(m){p(),r&&r(m),ml.remove(`image:${e}`);const g=qh.get(this)||[];for(let y=0;y<g.length;y++){const x=g[y];x.onError&&x.onError(m)}qh.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){a.removeEventListener("load",c,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),ml.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class z8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=new V0;s.colorSpace=no;const o=new b0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function c(f){o.load(e[f],function(p){s.images[f]=p,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)c(f);return s}}class V8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new ua,a=new Tu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(c){let f;try{f=s.parse(c)}catch(p){if(r!==void 0)r(p);else{p(p);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:ro,o.wrapT=f.wrapT!==void 0?f.wrapT:ro,o.magFilter=f.magFilter!==void 0?f.magFilter:ui,o.minFilter=f.minFilter!==void 0?f.minFilter:ui,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(o.colorSpace=f.colorSpace),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=pl),f.mipmapCount===1&&(o.minFilter=ui),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f)},n,r),o}}class H8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=new zi,o=new b0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class Gc extends Hn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Tt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class nN extends Gc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Tt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const cw=new tn,IC=new ee,LC=new ee;class NT{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=Is,this.map=null,this.mapPass=null,this.matrix=new tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tm,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new li(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;IC.setFromMatrixPosition(e.matrixWorld),t.position.copy(IC),LC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(LC),t.updateMatrixWorld(),cw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cw,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(cw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class G8 extends NT{constructor(){super(new Nr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Dp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class iN extends Gc{constructor(e,t,n=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.target=new Hn,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new G8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class W8 extends NT{constructor(){super(new Nr(90,1,.5,500)),this.isPointLightShadow=!0}}class rN extends Gc{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new W8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class im extends z0{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=p*this.view.offsetY,c=a-p*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class j8 extends NT{constructor(){super(new im(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class sN extends Gc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.target=new Hn,this.shadow=new j8}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class oN extends Gc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aN extends Gc{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class DT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class lN extends Gc{constructor(e=new DT,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class m1 extends ho{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,o=new Tu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):Ht(c),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&ht("MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=n(o.value);break;case"c":r.uniforms[s].value=new Tt().setHex(o.value);break;case"v2":r.uniforms[s].value=new ze().fromArray(o.value);break;case"v3":r.uniforms[s].value=new ee().fromArray(o.value);break;case"v4":r.uniforms[s].value=new li().fromArray(o.value);break;case"m3":r.uniforms[s].value=new fn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new tn().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ze().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return m1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:GL,SpriteMaterial:mT,RawShaderMaterial:TT,ShaderMaterial:co,PointsMaterial:vT,MeshPhysicalMaterial:WL,MeshStandardMaterial:ET,MeshPhongMaterial:jL,MeshToonMaterial:XL,MeshNormalMaterial:YL,MeshLambertMaterial:qL,MeshDepthMaterial:AT,MeshDistanceMaterial:CT,MeshBasicMaterial:Vc,MeshMatcapMaterial:$L,LineDashedMaterial:KL,LineBasicMaterial:Bs,Material:hs};return new t[e]}}class OM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class uN extends un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class cN extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Tu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):Ht(c),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(y,x){if(t[x]!==void 0)return t[x];const b=y.interleavedBuffers[x],_=s(y,b.buffer),E=pp(b.type,_),C=new J_(E,b.stride);return C.uuid=b.uuid,t[x]=C,C}function s(y,x){if(n[x]!==void 0)return n[x];const b=y.arrayBuffers[x],_=new Uint32Array(b).buffer;return n[x]=_,_}const o=e.isInstancedBufferGeometry?new uN:new un,a=e.data.index;if(a!==void 0){const y=pp(a.type,a.array);o.setIndex(new ii(y,1))}const c=e.data.attributes;for(const y in c){const x=c[y];let M;if(x.isInterleavedBufferAttribute){const b=r(e.data,x.data);M=new bd(b,x.itemSize,x.offset,x.normalized)}else{const b=pp(x.type,x.array),_=x.isInstancedBufferAttribute?Fp:ii;M=new _(b,x.itemSize,x.normalized)}x.name!==void 0&&(M.name=x.name),x.usage!==void 0&&M.setUsage(x.usage),o.setAttribute(y,M)}const f=e.data.morphAttributes;if(f)for(const y in f){const x=f[y],M=[];for(let b=0,_=x.length;b<_;b++){const E=x[b];let C;if(E.isInterleavedBufferAttribute){const P=r(e.data,E.data);C=new bd(P,E.itemSize,E.offset,E.normalized)}else{const P=pp(E.type,E.array);C=new ii(P,E.itemSize,E.normalized)}E.name!==void 0&&(C.name=E.name),M.push(C)}o.morphAttributes[y]=M}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,x=m.length;y!==x;++y){const M=m[y];o.addGroup(M.start,M.count,M.materialIndex)}const g=e.data.boundingSphere;return g!==void 0&&(o.boundingSphere=new qr().fromJSON(g)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class X8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=this.path===""?OM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Tu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){let f=null;try{f=JSON.parse(c)}catch(m){r!==void 0&&r(m),m("ObjectLoader: Can't parse "+e+".",m.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Ht("ObjectLoader: Can't load "+e);return}s.parse(f,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?OM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Tu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),c=a.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,c,a,n),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let m=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,f),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new dd().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Q_().fromJSON(e[s],r);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new cN;for(let s=0,o=e.length;s<o;s++){let a;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(c);break;default:c.type in RC?a=RC[c.type].fromJSON(c,t):ht(`ObjectLoader: Unsupported geometry type "${c.type}"`)}a.uuid=c.uuid,c.name!==void 0&&(a.name=c.name),c.userData!==void 0&&(a.userData=c.userData),n[c.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new m1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const c=e[o];n[c.uuid]===void 0&&(n[c.uuid]=s.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=M0.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function o(c){return n.manager.itemStart(c),s.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function a(c){if(typeof c=="string"){const f=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return o(p)}else return c.data?{data:pp(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new LT(t);s=new b0(c),s.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const m=e[f],g=m.url;if(Array.isArray(g)){const y=[];for(let x=0,M=g.length;x<M;x++){const b=g[x],_=a(b);_!==null&&(_ instanceof HTMLImageElement?y.push(_):y.push(new ua(_.data,_.width,_.height)))}r[m.uuid]=new _c(y)}else{const y=a(m.url);r[m.uuid]=new _c(y)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(o){if(typeof o=="string"){const a=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(c)}else return o.data?{data:pp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new b0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const c=e[o],f=c.url;if(Array.isArray(f)){const p=[];for(let m=0,g=f.length;m<g;m++){const y=f[m],x=await s(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new ua(x.data,x.width,x.height)))}n[c.uuid]=new _c(p)}else{const p=await s(c.url);n[c.uuid]=new _c(p)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(ht("ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&ht('ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&ht("ObjectLoader: Undefined image",a.image);const c=t[a.image],f=c.data;let p;Array.isArray(f)?(p=new V0,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new ua:p=new zi,f&&(p.needsUpdate=!0)),p.source=c,p.uuid=a.uuid,a.name!==void 0&&(p.name=a.name),a.mapping!==void 0&&(p.mapping=n(a.mapping,Y8)),a.channel!==void 0&&(p.channel=a.channel),a.offset!==void 0&&p.offset.fromArray(a.offset),a.repeat!==void 0&&p.repeat.fromArray(a.repeat),a.center!==void 0&&p.center.fromArray(a.center),a.rotation!==void 0&&(p.rotation=a.rotation),a.wrap!==void 0&&(p.wrapS=n(a.wrap[0],NC),p.wrapT=n(a.wrap[1],NC)),a.format!==void 0&&(p.format=a.format),a.internalFormat!==void 0&&(p.internalFormat=a.internalFormat),a.type!==void 0&&(p.type=a.type),a.colorSpace!==void 0&&(p.colorSpace=a.colorSpace),a.minFilter!==void 0&&(p.minFilter=n(a.minFilter,DC)),a.magFilter!==void 0&&(p.magFilter=n(a.magFilter,DC)),a.anisotropy!==void 0&&(p.anisotropy=a.anisotropy),a.flipY!==void 0&&(p.flipY=a.flipY),a.generateMipmaps!==void 0&&(p.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(p.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(p.compareFunction=a.compareFunction),a.userData!==void 0&&(p.userData=a.userData),r[a.uuid]=p}return r}parseObject(e,t,n,r,s){let o;function a(g){return t[g]===void 0&&ht("ObjectLoader: Undefined geometry",g),t[g]}function c(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let x=0,M=g.length;x<M;x++){const b=g[x];n[b]===void 0&&ht("ObjectLoader: Undefined material",b),y.push(n[b])}return y}return n[g]===void 0&&ht("ObjectLoader: Undefined material",g),n[g]}}function f(g){return r[g]===void 0&&ht("ObjectLoader: Undefined texture",g),r[g]}let p,m;switch(e.type){case"Scene":o=new pT,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Tt(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Z_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new K_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Nr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new im(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new oN(e.color,e.intensity);break;case"DirectionalLight":o=new sN(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new rN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new aN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new iN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new nN(e.color,e.groundColor,e.intensity);break;case"LightProbe":const g=new DT().fromArray(e.sh);o=new lN(g,e.intensity);break;case"SkinnedMesh":p=a(e.geometry),m=c(e.material),o=new TL(p,m),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":p=a(e.geometry),m=c(e.material),o=new lr(p,m);break;case"InstancedMesh":p=a(e.geometry),m=c(e.material);const y=e.count,x=e.instanceMatrix,M=e.instanceColor;o=new EL(p,m,y),o.instanceMatrix=new Fp(new Float32Array(x.array),16),M!==void 0&&(o.instanceColor=new Fp(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":p=a(e.geometry),m=c(e.material),o=new AL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),o.geometry=p,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(b=>{let _=null,E=null;return b.boundingBox!==void 0&&(_=new fs().fromJSON(b.boundingBox)),b.boundingSphere!==void 0&&(E=new qr().fromJSON(b.boundingSphere)),{...b,boundingBox:_,boundingSphere:E}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=f(e.matricesTexture.uuid),o._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new qr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new fs().fromJSON(e.boundingBox));break;case"LOD":o=new bL;break;case"Line":o=new Dc(a(e.geometry),c(e.material));break;case"LineLoop":o=new CL(a(e.geometry),c(e.material));break;case"LineSegments":o=new Al(a(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new PL(a(e.geometry),c(e.material));break;case"Sprite":o=new ML(c(e.material));break;case"Group":o=new mp;break;case"Bone":o=new gT;break;default:o=new Hn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)o.add(this.parseObject(g[y],t,n,r,s))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const x=g[y];o.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const x=g[y],M=o.getObjectByProperty("uuid",x.object);M!==void 0&&o.addLevel(M,x.distance,x.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?ht("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new Hn}})}}const Y8={UVMapping:U_,CubeReflectionMapping:wl,CubeRefractionMapping:Lc,EquirectangularReflectionMapping:u0,EquirectangularRefractionMapping:c0,CubeUVReflectionMapping:Qp},NC={RepeatWrapping:Sd,ClampToEdgeWrapping:ro,MirroredRepeatWrapping:f0},DC={NearestFilter:$i,NearestMipmapNearestFilter:tT,NearestMipmapLinearFilter:hp,LinearFilter:ui,LinearMipmapNearestFilter:Fg,LinearMipmapLinearFilter:pl},fw=new WeakMap;class q8 extends ho{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&ht("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&ht("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(f=>{if(fw.has(o)===!0)r&&r(fw.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(f),s.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,a).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(f){return ml.add(`image-bitmap:${e}`,f),t&&t(f),s.manager.itemEnd(e),f}).catch(function(f){r&&r(f),fw.set(c,f),ml.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});ml.add(`image-bitmap:${e}`,c),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ry;class kT{static getContext(){return Ry===void 0&&(Ry=new(window.AudioContext||window.webkitAudioContext)),Ry}static setContext(e){Ry=e}}class $8 extends ho{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Tu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const f=c.slice(0);kT.getContext().decodeAudioData(f,function(m){t(m)}).catch(a)}catch(f){a(f)}},n,r);function a(c){r?r(c):Ht(c),s.manager.itemError(e)}}}const kC=new tn,FC=new tn,Uf=new tn;class K8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Uf.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(cd*t.fov*.5)/t.zoom;let a,c;FC.elements[12]=-r,kC.elements[12]=r,a=-o*t.aspect+s,c=o*t.aspect+s,Uf.elements[0]=2*t.near/(c-a),Uf.elements[8]=(c+a)/(c-a),this.cameraL.projectionMatrix.copy(Uf),a=-o*t.aspect-s,c=o*t.aspect-s,Uf.elements[0]=2*t.near/(c-a),Uf.elements[8]=(c+a)/(c-a),this.cameraR.projectionMatrix.copy(Uf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(kC)}}class fN extends Nr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class FT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Bf=new ee,dw=new so,Z8=new ee,zf=new ee,Vf=new ee;class J8 extends Hn{constructor(){super(),this.type="AudioListener",this.context=kT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new FT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bf,dw,Z8),zf.set(0,0,-1).applyQuaternion(dw),Vf.set(0,1,0).applyQuaternion(dw),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Bf.x,n),t.positionY.linearRampToValueAtTime(Bf.y,n),t.positionZ.linearRampToValueAtTime(Bf.z,n),t.forwardX.linearRampToValueAtTime(zf.x,n),t.forwardY.linearRampToValueAtTime(zf.y,n),t.forwardZ.linearRampToValueAtTime(zf.z,n),t.upX.linearRampToValueAtTime(Vf.x,n),t.upY.linearRampToValueAtTime(Vf.y,n),t.upZ.linearRampToValueAtTime(Vf.z,n)}else t.setPosition(Bf.x,Bf.y,Bf.z),t.setOrientation(zf.x,zf.y,zf.z,Vf.x,Vf.y,Vf.z)}}class dN extends Hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){ht("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(ht("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(ht("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Hf=new ee,OC=new so,Q8=new ee,Gf=new ee;class eH extends dN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hf,OC,Q8),Gf.set(0,0,1).applyQuaternion(OC);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Hf.x,n),t.positionY.linearRampToValueAtTime(Hf.y,n),t.positionZ.linearRampToValueAtTime(Hf.z,n),t.orientationX.linearRampToValueAtTime(Gf.x,n),t.orientationY.linearRampToValueAtTime(Gf.y,n),t.orientationZ.linearRampToValueAtTime(Gf.z,n)}else t.setPosition(Hf.x,Hf.y,Hf.z),t.setOrientation(Gf.x,Gf.y,Gf.z)}}class tH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class hN{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,f=t+t;c!==f;++c)if(n[c]!==n[c+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){so.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;so.multiplyQuaternionsFlat(e,o,e,t,e,n),so.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const c=t+a;e[c]=e[c]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const OT="\\[\\]\\.:\\/",nH=new RegExp("["+OT+"]","g"),UT="[^"+OT+"]",iH="[^"+OT.replace("\\.","")+"]",rH=/((?:WC+[\/:])*)/.source.replace("WC",UT),sH=/(WCOD+)?/.source.replace("WCOD",iH),oH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UT),aH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UT),lH=new RegExp("^"+rH+sH+oH+aH+"$"),uH=["material","materials","bones","map"];class cH{constructor(e,t,n){const r=n||Vn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Vn{constructor(e,t,n){this.path=t,this.parsedPath=n||Vn.parseTrackName(t),this.node=Vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Vn.Composite(e,t,n):new Vn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nH,"")}static parseTrackName(e){const t=lH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);uH.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const c=n(a.children);if(c)return c}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Vn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){ht("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let f=t.objectIndex;switch(n){case"materials":if(!e.material){Ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ht("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ht("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ht("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Ht("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(f!==void 0){if(e[f]===void 0){Ht("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;Ht("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vn.Composite=cH;Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray];Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class fH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,c=e.length,f=this.nCachedObjects_;for(let p=0,m=arguments.length;p!==m;++p){const g=arguments[p],y=g.uuid;let x=t[y];if(x===void 0){x=c++,t[y]=x,e.push(g);for(let M=0,b=o;M!==b;++M)s[M].push(new Vn(g,n[M],r[M]))}else if(x<f){a=e[x];const M=--f,b=e[M];t[b.uuid]=x,e[x]=b,t[y]=M,e[M]=g;for(let _=0,E=o;_!==E;++_){const C=s[_],P=C[M];let D=C[x];C[x]=P,D===void 0&&(D=new Vn(g,n[_],r[_])),C[M]=D}}else e[x]!==a&&Ht("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const c=arguments[o],f=c.uuid,p=t[f];if(p!==void 0&&p>=s){const m=s++,g=e[m];t[g.uuid]=p,e[p]=g,t[f]=m,e[m]=c;for(let y=0,x=r;y!==x;++y){const M=n[y],b=M[m],_=M[p];M[p]=b,M[m]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,c=arguments.length;a!==c;++a){const f=arguments[a],p=f.uuid,m=t[p];if(m!==void 0)if(delete t[p],m<s){const g=--s,y=e[g],x=--o,M=e[x];t[y.uuid]=m,e[m]=y,t[M.uuid]=g,e[g]=M,e.pop();for(let b=0,_=r;b!==_;++b){const E=n[b],C=E[g],P=E[x];E[m]=C,E[g]=P,E.pop()}}else{const g=--o,y=e[g];g>0&&(t[y.uuid]=m),e[m]=y,e.pop();for(let x=0,M=r;x!==M;++x){const b=n[x];b[m]=b[g],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,c=this._objects,f=c.length,p=this.nCachedObjects_,m=new Array(f);r=s.length,n[e]=r,o.push(e),a.push(t),s.push(m);for(let g=p,y=c.length;g!==y;++g){const x=c[g];m[g]=new Vn(x,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,c=o[a],f=e[a];t[f]=n,o[n]=c,o.pop(),s[n]=s[a],s.pop(),r[n]=r[a],r.pop()}}}class pN{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),c={endingStart:id,endingEnd:id};for(let f=0;f!==o;++f){const p=s[f].createInterpolant(null);a[f]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const c=a.parameterPositions,f=a.sampleValues;return c[0]=s,c[1]=s+n,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const c=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case lT:for(let p=0,m=c.length;p!==m;++p)c[p].evaluate(o),f[p].accumulateAdditive(a);break;case j_:default:for(let p=0,m=c.length;p!==m;++p)c[p].evaluate(o),f[p].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=n===sL;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(n===iL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=rd,r.endingEnd=rd):(e?r.endingStart=this.zeroSlopeAtStart?rd:id:r.endingStart=h0,t?r.endingEnd=this.zeroSlopeAtEnd?rd:id:r.endingEnd=h0)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,c=o.sampleValues;return a[0]=s,c[0]=t,a[1]=s+e,c[1]=n,this}}const dH=new Float32Array(1);class hH extends El{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,c=n.uuid,f=this._bindingsByRootAndName;let p=f[c];p===void 0&&(p={},f[c]=p);for(let m=0;m!==s;++m){const g=r[m],y=g.name;let x=p[y];if(x!==void 0)++x.referenceCount,o[m]=x;else{if(x=o[m],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,c,y));continue}const M=t&&t._propertyBindings[m].binding.parsedPath;x=new hN(Vn.create(n,y,M),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,c,y),o[m]=x}a[m].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],c=a.knownActions,f=c[c.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,c[p]=f,c.pop(),e._byClipCacheIndex=null;const m=a.actionByRoot,g=(e._localRoot||this._root).uuid;delete m[g],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],c=t[t.length-1],f=e._cacheIndex;c._cacheIndex=f,t[f]=c,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new RT(new Float32Array(2),new Float32Array(2),1,dH),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?M0.findByName(r,e):e;const a=o!==null?o.uuid:e,c=this._actionsByClip[a];let f=null;if(n===void 0&&(o!==null?n=o.blendMode:n=j_),c!==void 0){const m=c.actionByRoot[s];if(m!==void 0&&m.blendMode===n)return m;f=c.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const p=new pN(this,o,t,n);return this._bindAction(p,f),this._addInactiveAction(p,a,s),p}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?M0.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==n;++f)t[f]._update(r,e,s,o);const a=this._bindings,c=this._nActiveBindings;for(let f=0;f!==c;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const o=s.knownActions;for(let a=0,c=o.length;a!==c;++a){const f=o[a];this._deactivateAction(f);const p=f._cacheIndex,m=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,m._cacheIndex=p,t[p]=m,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,c=a[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class pH extends cT{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new $_(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class BT{constructor(e){this.value=e}clone(){return new BT(this.value.clone===void 0?this.value:this.value.clone())}}let mH=0;class gH extends El{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:mH++}),this.name="",this.usage=m0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class vH extends J_{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class yH{constructor(e,t,n,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const UC=new tn;class mN{constructor(e,t,n=0,r=1/0){this.ray=new em(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new fd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Ht("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return UC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(UC),this}intersectObject(e,t=!0,n=[]){return UM(e,this,n,t),n.sort(BC),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)UM(e[r],this,n,t);return n.sort(BC),n}}function BC(i,e){return i.distance-e.distance}function UM(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let o=0,a=s.length;o<a;o++)UM(s[o],e,t,!0)}}class xH{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=_H.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function _H(){this._document.hidden===!1&&this.reset()}class SH{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class wH{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class zT{constructor(e,t,n,r){zT.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const zC=new ze;class MH{constructor(e=new ze(1/0,1/0),t=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=zC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const VC=new ee,Iy=new ee,$h=new ee,Kh=new ee,hw=new ee,bH=new ee,TH=new ee;class EH{constructor(e=new ee,t=new ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){VC.subVectors(e,this.start),Iy.subVectors(this.end,this.start);const n=Iy.dot(Iy);let s=Iy.dot(VC)/n;return t&&(s=Qt(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=bH,n=TH){const r=10000000000000001e-32;let s,o;const a=this.start,c=e.start,f=this.end,p=e.end;$h.subVectors(f,a),Kh.subVectors(p,c),hw.subVectors(a,c);const m=$h.dot($h),g=Kh.dot(Kh),y=Kh.dot(hw);if(m<=r&&g<=r)return t.copy(a),n.copy(c),t.sub(n),t.dot(t);if(m<=r)s=0,o=y/g,o=Qt(o,0,1);else{const x=$h.dot(hw);if(g<=r)o=0,s=Qt(-x/m,0,1);else{const M=$h.dot(Kh),b=m*g-M*M;b!==0?s=Qt((M*y-x*g)/b,0,1):s=0,o=(M*s+y)/g,o<0?(o=0,s=Qt(-x/m,0,1)):o>1&&(o=1,s=Qt((M-x)/m,0,1))}}return t.copy(a).add($h.multiplyScalar(s)),n.copy(c).add(Kh.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const HC=new ee;class AH extends Hn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new un,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,c=32;o<c;o++,a++){const f=o/c*Math.PI*2,p=a/c*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new Rt(r,3));const s=new Bs({fog:!1,toneMapped:!1});this.cone=new Al(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),HC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(HC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const dc=new ee,Ly=new tn,pw=new tn;class CH extends Al{constructor(e){const t=gN(e),n=new un,r=[],s=[];for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}n.setAttribute("position",new Rt(r,3)),n.setAttribute("color",new Rt(s,3));const o=new Bs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Tt(255),c=new Tt(65280);this.setColors(a,c)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");pw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Ly.multiplyMatrices(pw,a.matrixWorld),dc.setFromMatrixPosition(Ly),r.setXYZ(o,dc.x,dc.y,dc.z),Ly.multiplyMatrices(pw,a.parent.matrixWorld),dc.setFromMatrixPosition(Ly),r.setXYZ(o+1,dc.x,dc.y,dc.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function gN(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...gN(i.children[t]));return e}class PH extends lr{constructor(e,t,n){const r=new j0(t,4,2),s=new Vc({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const RH=new ee,GC=new Tt,WC=new Tt;class IH extends Hn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new W0(t);r.rotateY(Math.PI*.5),this.material=new Vc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new ii(o,3)),this.add(new lr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");GC.copy(this.light.color),WC.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?GC:WC;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(RH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class LH extends Al{constructor(e=10,t=10,n=4473924,r=8947848){n=new Tt(n),r=new Tt(r);const s=t/2,o=e/t,a=e/2,c=[],f=[];for(let g=0,y=0,x=-a;g<=t;g++,x+=o){c.push(-a,0,x,a,0,x),c.push(x,0,-a,x,0,a);const M=g===s?n:r;M.toArray(f,y),y+=3,M.toArray(f,y),y+=3,M.toArray(f,y),y+=3,M.toArray(f,y),y+=3}const p=new un;p.setAttribute("position",new Rt(c,3)),p.setAttribute("color",new Rt(f,3));const m=new Bs({vertexColors:!0,toneMapped:!1});super(p,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class NH extends Al{constructor(e=10,t=16,n=8,r=64,s=4473924,o=8947848){s=new Tt(s),o=new Tt(o);const a=[],c=[];if(t>1)for(let m=0;m<t;m++){const g=m/t*(Math.PI*2),y=Math.sin(g)*e,x=Math.cos(g)*e;a.push(0,0,0),a.push(y,0,x);const M=m&1?s:o;c.push(M.r,M.g,M.b),c.push(M.r,M.g,M.b)}for(let m=0;m<n;m++){const g=m&1?s:o,y=e-e/n*m;for(let x=0;x<r;x++){let M=x/r*(Math.PI*2),b=Math.sin(M)*y,_=Math.cos(M)*y;a.push(b,0,_),c.push(g.r,g.g,g.b),M=(x+1)/r*(Math.PI*2),b=Math.sin(M)*y,_=Math.cos(M)*y,a.push(b,0,_),c.push(g.r,g.g,g.b)}}const f=new un;f.setAttribute("position",new Rt(a,3)),f.setAttribute("color",new Rt(c,3));const p=new Bs({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const jC=new ee,Ny=new ee,XC=new ee;class DH extends Hn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new un;r.setAttribute("position",new Rt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Bs({fog:!1,toneMapped:!1});this.lightPlane=new Dc(r,s),this.add(this.lightPlane),r=new un,r.setAttribute("position",new Rt([0,0,0,0,0,1],3)),this.targetLine=new Dc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),jC.setFromMatrixPosition(this.light.matrixWorld),Ny.setFromMatrixPosition(this.light.target.matrixWorld),XC.subVectors(Ny,jC),this.lightPlane.lookAt(Ny),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ny),this.targetLine.scale.z=XC.length()}}const Dy=new ee,Oi=new z0;class kH extends Al{constructor(e){const t=new un,n=new Bs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,M){c(x),c(M)}function c(x){r.push(0,0,0),s.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(r.length/3-1)}t.setAttribute("position",new Rt(r,3)),t.setAttribute("color",new Rt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Tt(16755200),p=new Tt(16711680),m=new Tt(43775),g=new Tt(16777215),y=new Tt(3355443);this.setColors(f,p,m,g,y)}setColors(e,t,n,r,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let s,o;if(Oi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===Do)s=-1,o=1;else if(this.camera.coordinateSystem===Lp)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Yi("c",t,e,Oi,0,0,s),Yi("t",t,e,Oi,0,0,o),Yi("n1",t,e,Oi,-n,-r,s),Yi("n2",t,e,Oi,n,-r,s),Yi("n3",t,e,Oi,-n,r,s),Yi("n4",t,e,Oi,n,r,s),Yi("f1",t,e,Oi,-n,-r,o),Yi("f2",t,e,Oi,n,-r,o),Yi("f3",t,e,Oi,-n,r,o),Yi("f4",t,e,Oi,n,r,o),Yi("u1",t,e,Oi,n*.7,r*1.1,s),Yi("u2",t,e,Oi,-n*.7,r*1.1,s),Yi("u3",t,e,Oi,0,r*2,s),Yi("cf1",t,e,Oi,-n,0,o),Yi("cf2",t,e,Oi,n,0,o),Yi("cf3",t,e,Oi,0,-r,o),Yi("cf4",t,e,Oi,0,r,o),Yi("cn1",t,e,Oi,-n,0,s),Yi("cn2",t,e,Oi,n,0,s),Yi("cn3",t,e,Oi,0,-r,s),Yi("cn4",t,e,Oi,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yi(i,e,t,n,r,s,o){Dy.set(r,s,o).unproject(n);const a=e[i];if(a!==void 0){const c=t.getAttribute("position");for(let f=0,p=a.length;f<p;f++)c.setXYZ(a[f],Dy.x,Dy.y,Dy.z)}}const ky=new fs;class FH extends Al{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new un;s.setIndex(new ii(n,1)),s.setAttribute("position",new ii(r,3)),super(s,new Bs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ky.setFromObject(this.object),ky.isEmpty())return;const e=ky.min,t=ky.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class OH extends Al{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new un;s.setIndex(new ii(n,1)),s.setAttribute("position",new Rt(r,3)),super(s,new Bs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class UH extends Dc{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new un;o.setAttribute("position",new Rt(s,3)),o.computeBoundingSphere(),super(o,new Bs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new un;c.setAttribute("position",new Rt(a,3)),c.computeBoundingSphere(),this.add(new lr(c,new Vc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const YC=new ee;let Fy,mw;class BH extends Hn{constructor(e=new ee(0,0,1),t=new ee(0,0,0),n=1,r=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",Fy===void 0&&(Fy=new un,Fy.setAttribute("position",new Rt([0,0,0,0,1,0],3)),mw=new G0(.5,1,5,1),mw.translate(0,-.5,0)),this.position.copy(t),this.line=new Dc(Fy,new Bs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new lr(mw,new Vc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{YC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(YC,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zH extends Al{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new un;r.setAttribute("position",new Rt(t,3)),r.setAttribute("color",new Rt(n,3));const s=new Bs({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new Tt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VH{constructor(){this.type="ShapePath",this.color=new Tt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new x_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,o){return this.currentPath.bezierCurveTo(e,t,n,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const E=[];for(let C=0,P=_.length;C<P;C++){const D=_[C],F=new dd;F.curves=D.curves,E.push(F)}return E}function n(_,E){const C=E.length;let P=!1;for(let D=C-1,F=0;F<C;D=F++){let O=E[D],U=E[F],I=U.x-O.x,k=U.y-O.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(O=E[F],I=-I,U=E[D],k=-k),_.y<O.y||_.y>U.y)continue;if(_.y===O.y){if(_.x===O.x)return!0}else{const j=k*(_.x-O.x)-I*(_.y-O.y);if(j===0)return!0;if(j<0)continue;P=!P}}else{if(_.y!==O.y)continue;if(U.x<=_.x&&_.x<=O.x||O.x<=_.x&&_.x<=U.x)return!0}}return P}const r=Wa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,c;const f=[];if(s.length===1)return a=s[0],c=new dd,c.curves=a.curves,f.push(c),f;let p=!r(s[0].getPoints());p=e?!p:p;const m=[],g=[];let y=[],x=0,M;g[x]=void 0,y[x]=[];for(let _=0,E=s.length;_<E;_++)a=s[_],M=a.getPoints(),o=r(M),o=e?!o:o,o?(!p&&g[x]&&x++,g[x]={s:new dd,p:M},g[x].s.curves=a.curves,p&&x++,y[x]=[]):y[x].push({h:a,p:M[0]});if(!g[0])return t(s);if(g.length>1){let _=!1,E=0;for(let C=0,P=g.length;C<P;C++)m[C]=[];for(let C=0,P=g.length;C<P;C++){const D=y[C];for(let F=0;F<D.length;F++){const O=D[F];let U=!0;for(let I=0;I<g.length;I++)n(O.p,g[I].p)&&(C!==I&&E++,U?(U=!1,m[I].push(O)):_=!0);U&&m[C].push(O)}}E>0&&_===!1&&(y=m)}let b;for(let _=0,E=g.length;_<E;_++){c=g[_].s,f.push(c),b=y[_];for(let C=0,P=b.length;C<P;C++)c.holes.push(b[C].h)}return f}}class HH extends El{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){ht("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function GH(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function WH(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function jH(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function BM(i,e,t,n){const r=XH(n);switch(t){case oT:return i*e;case H_:return i*e/r.components*r.byteLength;case B0:return i*e/r.components*r.byteLength;case wd:return i*e*2/r.components*r.byteLength;case G_:return i*e*2/r.components*r.byteLength;case aT:return i*e*3/r.components*r.byteLength;case Xr:return i*e*4/r.components*r.byteLength;case W_:return i*e*4/r.components*r.byteLength;case Og:case Ug:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Bg:case zg:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Ux:case zx:return Math.max(i,16)*Math.max(e,8)/4;case Ox:case Bx:return Math.max(i,8)*Math.max(e,8)/2;case Vx:case Hx:case Wx:case jx:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Gx:case Xx:case Yx:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case qx:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case $x:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case Kx:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case Zx:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Jx:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case Qx:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case e_:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case t_:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case n_:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case i_:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case r_:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case s_:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case o_:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case a_:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case l_:case u_:case c_:return Math.ceil(i/4)*Math.ceil(e/4)*16;case f_:case d_:return Math.ceil(i/4)*Math.ceil(e/4)*8;case h_:case p_:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function XH(i){switch(i){case Is:case nT:return{byteLength:1,components:1};case Rp:case iT:case Ml:return{byteLength:2,components:1};case z_:case V_:return{byteLength:2,components:4};case fa:case B_:case Os:return{byteLength:4,components:1};case rT:case sT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class YH{static contain(e,t){return GH(e,t)}static cover(e,t){return WH(e,t)}static fill(e){return jH(e)}static getByteLength(e,t,n,r){return BM(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:F_}}));typeof window<"u"&&(window.__THREE__?ht("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=F_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function vN(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function qH(i){const e=new WeakMap;function t(a,c){const f=a.array,p=a.usage,m=f.byteLength,g=i.createBuffer();i.bindBuffer(c,g),i.bufferData(c,f,p),a.onUploadCallback();let y;if(f instanceof Float32Array)y=i.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)y=i.HALF_FLOAT;else if(f instanceof Uint16Array)a.isFloat16BufferAttribute?y=i.HALF_FLOAT:y=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=i.SHORT;else if(f instanceof Uint32Array)y=i.UNSIGNED_INT;else if(f instanceof Int32Array)y=i.INT;else if(f instanceof Int8Array)y=i.BYTE;else if(f instanceof Uint8Array)y=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:a.version,size:m}}function n(a,c,f){const p=c.array,m=c.updateRanges;if(i.bindBuffer(f,a),m.length===0)i.bufferSubData(f,0,p);else{m.sort((y,x)=>y.start-x.start);let g=0;for(let y=1;y<m.length;y++){const x=m[g],M=m[y];M.start<=x.start+x.count+1?x.count=Math.max(x.count,M.start+M.count-x.start):(++g,m[g]=M)}m.length=g+1;for(let y=0,x=m.length;y<x;y++){const M=m[y];i.bufferSubData(f,M.start*p.BYTES_PER_ELEMENT,p,M.start,M.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);c&&(i.deleteBuffer(c.buffer),e.delete(a))}function o(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const p=e.get(a);(!p||p.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const f=e.get(a);if(f===void 0)e.set(a,t(a,c));else if(f.version<a.version){if(f.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(f.buffer,a,c),f.version=a.version}}return{get:r,remove:s,update:o}}var $H=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,KH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ZH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,JH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,eG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,tG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,nG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iG=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,rG=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,sG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,oG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,lG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,mG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,vG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,yG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_G=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,SG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,TG="gl_FragColor = linearToOutputTexel( gl_FragColor );",EG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,AG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,PG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,RG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,IG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,LG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,NG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,DG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,OG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,UG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,BG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,zG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,VG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,HG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,GG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,WG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,XG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,YG=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$G=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ZG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,e9=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,t9=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,n9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,i9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,r9=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,s9=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,o9=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,a9=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,l9=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,u9=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,c9=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,f9=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,d9=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,h9=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,p9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,m9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,g9=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,v9=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,y9=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,x9=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,_9=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,S9=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,w9=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,M9=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,b9=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,T9=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,E9=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,A9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,C9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,R9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,I9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,L9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,N9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,D9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,k9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,F9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,O9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,U9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,B9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,z9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,V9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,H9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,G9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,W9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,j9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,X9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Y9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const q9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,e7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,t7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,n7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,i7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,r7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,s7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,o7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,a7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,l7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,u7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,h7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,m7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,g7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,v7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,x7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,w7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,M7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,b7=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,E7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,A7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vn={alphahash_fragment:$H,alphahash_pars_fragment:KH,alphamap_fragment:ZH,alphamap_pars_fragment:JH,alphatest_fragment:QH,alphatest_pars_fragment:eG,aomap_fragment:tG,aomap_pars_fragment:nG,batching_pars_vertex:iG,batching_vertex:rG,begin_vertex:sG,beginnormal_vertex:oG,bsdfs:aG,iridescence_fragment:lG,bumpmap_pars_fragment:uG,clipping_planes_fragment:cG,clipping_planes_pars_fragment:fG,clipping_planes_pars_vertex:dG,clipping_planes_vertex:hG,color_fragment:pG,color_pars_fragment:mG,color_pars_vertex:gG,color_vertex:vG,common:yG,cube_uv_reflection_fragment:xG,defaultnormal_vertex:_G,displacementmap_pars_vertex:SG,displacementmap_vertex:wG,emissivemap_fragment:MG,emissivemap_pars_fragment:bG,colorspace_fragment:TG,colorspace_pars_fragment:EG,envmap_fragment:AG,envmap_common_pars_fragment:CG,envmap_pars_fragment:PG,envmap_pars_vertex:RG,envmap_physical_pars_fragment:VG,envmap_vertex:IG,fog_vertex:LG,fog_pars_vertex:NG,fog_fragment:DG,fog_pars_fragment:kG,gradientmap_pars_fragment:FG,lightmap_pars_fragment:OG,lights_lambert_fragment:UG,lights_lambert_pars_fragment:BG,lights_pars_begin:zG,lights_toon_fragment:HG,lights_toon_pars_fragment:GG,lights_phong_fragment:WG,lights_phong_pars_fragment:jG,lights_physical_fragment:XG,lights_physical_pars_fragment:YG,lights_fragment_begin:qG,lights_fragment_maps:$G,lights_fragment_end:KG,logdepthbuf_fragment:ZG,logdepthbuf_pars_fragment:JG,logdepthbuf_pars_vertex:QG,logdepthbuf_vertex:e9,map_fragment:t9,map_pars_fragment:n9,map_particle_fragment:i9,map_particle_pars_fragment:r9,metalnessmap_fragment:s9,metalnessmap_pars_fragment:o9,morphinstance_vertex:a9,morphcolor_vertex:l9,morphnormal_vertex:u9,morphtarget_pars_vertex:c9,morphtarget_vertex:f9,normal_fragment_begin:d9,normal_fragment_maps:h9,normal_pars_fragment:p9,normal_pars_vertex:m9,normal_vertex:g9,normalmap_pars_fragment:v9,clearcoat_normal_fragment_begin:y9,clearcoat_normal_fragment_maps:x9,clearcoat_pars_fragment:_9,iridescence_pars_fragment:S9,opaque_fragment:w9,packing:M9,premultiplied_alpha_fragment:b9,project_vertex:T9,dithering_fragment:E9,dithering_pars_fragment:A9,roughnessmap_fragment:C9,roughnessmap_pars_fragment:P9,shadowmap_pars_fragment:R9,shadowmap_pars_vertex:I9,shadowmap_vertex:L9,shadowmask_pars_fragment:N9,skinbase_vertex:D9,skinning_pars_vertex:k9,skinning_vertex:F9,skinnormal_vertex:O9,specularmap_fragment:U9,specularmap_pars_fragment:B9,tonemapping_fragment:z9,tonemapping_pars_fragment:V9,transmission_fragment:H9,transmission_pars_fragment:G9,uv_pars_fragment:W9,uv_pars_vertex:j9,uv_vertex:X9,worldpos_vertex:Y9,background_vert:q9,background_frag:$9,backgroundCube_vert:K9,backgroundCube_frag:Z9,cube_vert:J9,cube_frag:Q9,depth_vert:e7,depth_frag:t7,distance_vert:n7,distance_frag:i7,equirect_vert:r7,equirect_frag:s7,linedashed_vert:o7,linedashed_frag:a7,meshbasic_vert:l7,meshbasic_frag:u7,meshlambert_vert:c7,meshlambert_frag:f7,meshmatcap_vert:d7,meshmatcap_frag:h7,meshnormal_vert:p7,meshnormal_frag:m7,meshphong_vert:g7,meshphong_frag:v7,meshphysical_vert:y7,meshphysical_frag:x7,meshtoon_vert:_7,meshtoon_frag:S7,points_vert:w7,points_frag:M7,shadow_vert:b7,shadow_frag:T7,sprite_vert:E7,sprite_frag:A7},gt={common:{diffuse:{value:new Tt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new Tt(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},Ha={basic:{uniforms:As([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.fog]),vertexShader:vn.meshbasic_vert,fragmentShader:vn.meshbasic_frag},lambert:{uniforms:As([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:vn.meshlambert_vert,fragmentShader:vn.meshlambert_frag},phong:{uniforms:As([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new Tt(0)},specular:{value:new Tt(1118481)},shininess:{value:30}}]),vertexShader:vn.meshphong_vert,fragmentShader:vn.meshphong_frag},standard:{uniforms:As([gt.common,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.roughnessmap,gt.metalnessmap,gt.fog,gt.lights,{emissive:{value:new Tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},toon:{uniforms:As([gt.common,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.gradientmap,gt.fog,gt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:vn.meshtoon_vert,fragmentShader:vn.meshtoon_frag},matcap:{uniforms:As([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,{matcap:{value:null}}]),vertexShader:vn.meshmatcap_vert,fragmentShader:vn.meshmatcap_frag},points:{uniforms:As([gt.points,gt.fog]),vertexShader:vn.points_vert,fragmentShader:vn.points_frag},dashed:{uniforms:As([gt.common,gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vn.linedashed_vert,fragmentShader:vn.linedashed_frag},depth:{uniforms:As([gt.common,gt.displacementmap]),vertexShader:vn.depth_vert,fragmentShader:vn.depth_frag},normal:{uniforms:As([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,{opacity:{value:1}}]),vertexShader:vn.meshnormal_vert,fragmentShader:vn.meshnormal_frag},sprite:{uniforms:As([gt.sprite,gt.fog]),vertexShader:vn.sprite_vert,fragmentShader:vn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vn.background_vert,fragmentShader:vn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:vn.backgroundCube_vert,fragmentShader:vn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vn.cube_vert,fragmentShader:vn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vn.equirect_vert,fragmentShader:vn.equirect_frag},distance:{uniforms:As([gt.common,gt.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vn.distance_vert,fragmentShader:vn.distance_frag},shadow:{uniforms:As([gt.lights,gt.fog,{color:{value:new Tt(0)},opacity:{value:1}}]),vertexShader:vn.shadow_vert,fragmentShader:vn.shadow_frag}};Ha.physical={uniforms:As([Ha.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new Tt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new Tt(0)},specularColor:{value:new Tt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag};const Oy={r:0,b:0,g:0},Wf=new zo,C7=new tn;function P7(i,e,t,n,r,s,o){const a=new Tt(0);let c=s===!0?0:1,f,p,m=null,g=0,y=null;function x(C){let P=C.isScene===!0?C.background:null;return P&&P.isTexture&&(P=(C.backgroundBlurriness>0?t:e).get(P)),P}function M(C){let P=!1;const D=x(C);D===null?_(a,c):D&&D.isColor&&(_(D,1),P=!0);const F=i.xr.getEnvironmentBlendMode();F==="additive"?n.buffers.color.setClear(0,0,0,1,o):F==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||P)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function b(C,P){const D=x(P);D&&(D.isCubeTexture||D.mapping===Qp)?(p===void 0&&(p=new lr(new Pd(1,1,1),new co({name:"BackgroundCubeMaterial",uniforms:kp(Ha.backgroundCube.uniforms),vertexShader:Ha.backgroundCube.vertexShader,fragmentShader:Ha.backgroundCube.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(F,O,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),Wf.copy(P.backgroundRotation),Wf.x*=-1,Wf.y*=-1,Wf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Wf.y*=-1,Wf.z*=-1),p.material.uniforms.envMap.value=D,p.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=P.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(C7.makeRotationFromEuler(Wf)),p.material.toneMapped=kn.getTransfer(D.colorSpace)!==qn,(m!==D||g!==D.version||y!==i.toneMapping)&&(p.material.needsUpdate=!0,m=D,g=D.version,y=i.toneMapping),p.layers.enableAll(),C.unshift(p,p.geometry,p.material,0,0,null)):D&&D.isTexture&&(f===void 0&&(f=new lr(new nm(2,2),new co({name:"BackgroundMaterial",uniforms:kp(Ha.background.uniforms),vertexShader:Ha.background.vertexShader,fragmentShader:Ha.background.fragmentShader,side:bu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=D,f.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,f.material.toneMapped=kn.getTransfer(D.colorSpace)!==qn,D.matrixAutoUpdate===!0&&D.updateMatrix(),f.material.uniforms.uvTransform.value.copy(D.matrix),(m!==D||g!==D.version||y!==i.toneMapping)&&(f.material.needsUpdate=!0,m=D,g=D.version,y=i.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function _(C,P){C.getRGB(Oy,xL(i)),n.buffers.color.setClear(Oy.r,Oy.g,Oy.b,P,o)}function E(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return a},setClearColor:function(C,P=1){a.set(C),c=P,_(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(C){c=C,_(a,c)},render:M,addToRenderList:b,dispose:E}}function R7(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=g(null);let s=r,o=!1;function a(k,j,W,$,se){let Z=!1;const te=m($,W,j);s!==te&&(s=te,f(s.object)),Z=y(k,$,W,se),Z&&x(k,$,W,se),se!==null&&e.update(se,i.ELEMENT_ARRAY_BUFFER),(Z||o)&&(o=!1,P(k,j,W,$),se!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(se).buffer))}function c(){return i.createVertexArray()}function f(k){return i.bindVertexArray(k)}function p(k){return i.deleteVertexArray(k)}function m(k,j,W){const $=W.wireframe===!0;let se=n[k.id];se===void 0&&(se={},n[k.id]=se);let Z=se[j.id];Z===void 0&&(Z={},se[j.id]=Z);let te=Z[$];return te===void 0&&(te=g(c()),Z[$]=te),te}function g(k){const j=[],W=[],$=[];for(let se=0;se<t;se++)j[se]=0,W[se]=0,$[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:W,attributeDivisors:$,object:k,attributes:{},index:null}}function y(k,j,W,$){const se=s.attributes,Z=j.attributes;let te=0;const q=W.getAttributes();for(const z in q)if(q[z].location>=0){const V=se[z];let X=Z[z];if(X===void 0&&(z==="instanceMatrix"&&k.instanceMatrix&&(X=k.instanceMatrix),z==="instanceColor"&&k.instanceColor&&(X=k.instanceColor)),V===void 0||V.attribute!==X||X&&V.data!==X.data)return!0;te++}return s.attributesNum!==te||s.index!==$}function x(k,j,W,$){const se={},Z=j.attributes;let te=0;const q=W.getAttributes();for(const z in q)if(q[z].location>=0){let V=Z[z];V===void 0&&(z==="instanceMatrix"&&k.instanceMatrix&&(V=k.instanceMatrix),z==="instanceColor"&&k.instanceColor&&(V=k.instanceColor));const X={};X.attribute=V,V&&V.data&&(X.data=V.data),se[z]=X,te++}s.attributes=se,s.attributesNum=te,s.index=$}function M(){const k=s.newAttributes;for(let j=0,W=k.length;j<W;j++)k[j]=0}function b(k){_(k,0)}function _(k,j){const W=s.newAttributes,$=s.enabledAttributes,se=s.attributeDivisors;W[k]=1,$[k]===0&&(i.enableVertexAttribArray(k),$[k]=1),se[k]!==j&&(i.vertexAttribDivisor(k,j),se[k]=j)}function E(){const k=s.newAttributes,j=s.enabledAttributes;for(let W=0,$=j.length;W<$;W++)j[W]!==k[W]&&(i.disableVertexAttribArray(W),j[W]=0)}function C(k,j,W,$,se,Z,te){te===!0?i.vertexAttribIPointer(k,j,W,se,Z):i.vertexAttribPointer(k,j,W,$,se,Z)}function P(k,j,W,$){M();const se=$.attributes,Z=W.getAttributes(),te=j.defaultAttributeValues;for(const q in Z){const z=Z[q];if(z.location>=0){let J=se[q];if(J===void 0&&(q==="instanceMatrix"&&k.instanceMatrix&&(J=k.instanceMatrix),q==="instanceColor"&&k.instanceColor&&(J=k.instanceColor)),J!==void 0){const V=J.normalized,X=J.itemSize,oe=e.get(J);if(oe===void 0)continue;const ye=oe.buffer,Pe=oe.type,Ue=oe.bytesPerElement,de=Pe===i.INT||Pe===i.UNSIGNED_INT||J.gpuType===B_;if(J.isInterleavedBufferAttribute){const me=J.data,De=me.stride,Be=J.offset;if(me.isInstancedInterleavedBuffer){for(let We=0;We<z.locationSize;We++)_(z.location+We,me.meshPerAttribute);k.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let We=0;We<z.locationSize;We++)b(z.location+We);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let We=0;We<z.locationSize;We++)C(z.location+We,X/z.locationSize,Pe,V,De*Ue,(Be+X/z.locationSize*We)*Ue,de)}else{if(J.isInstancedBufferAttribute){for(let me=0;me<z.locationSize;me++)_(z.location+me,J.meshPerAttribute);k.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let me=0;me<z.locationSize;me++)b(z.location+me);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let me=0;me<z.locationSize;me++)C(z.location+me,X/z.locationSize,Pe,V,X*Ue,X/z.locationSize*me*Ue,de)}}else if(te!==void 0){const V=te[q];if(V!==void 0)switch(V.length){case 2:i.vertexAttrib2fv(z.location,V);break;case 3:i.vertexAttrib3fv(z.location,V);break;case 4:i.vertexAttrib4fv(z.location,V);break;default:i.vertexAttrib1fv(z.location,V)}}}}E()}function D(){U();for(const k in n){const j=n[k];for(const W in j){const $=j[W];for(const se in $)p($[se].object),delete $[se];delete j[W]}delete n[k]}}function F(k){if(n[k.id]===void 0)return;const j=n[k.id];for(const W in j){const $=j[W];for(const se in $)p($[se].object),delete $[se];delete j[W]}delete n[k.id]}function O(k){for(const j in n){const W=n[j];if(W[k.id]===void 0)continue;const $=W[k.id];for(const se in $)p($[se].object),delete $[se];delete W[k.id]}}function U(){I(),o=!0,s!==r&&(s=r,f(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:U,resetDefaultState:I,dispose:D,releaseStatesOfGeometry:F,releaseStatesOfProgram:O,initAttributes:M,enableAttribute:b,disableUnusedAttributes:E}}function I7(i,e,t){let n;function r(f){n=f}function s(f,p){i.drawArrays(n,f,p),t.update(p,n,1)}function o(f,p,m){m!==0&&(i.drawArraysInstanced(n,f,p,m),t.update(p,n,m))}function a(f,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,f,0,p,0,m);let y=0;for(let x=0;x<m;x++)y+=p[x];t.update(y,n,1)}function c(f,p,m,g){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<f.length;x++)o(f[x],p[x],g[x]);else{y.multiDrawArraysInstancedWEBGL(n,f,0,p,0,g,0,m);let x=0;for(let M=0;M<m;M++)x+=p[M]*g[M];t.update(x,n,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function L7(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(O){return!(O!==Xr&&n.convert(O)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){const U=O===Ml&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==Is&&n.convert(O)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==Os&&!U)}function c(O){if(O==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=c(f);p!==f&&(ht("WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const m=t.logarithmicDepthBuffer===!0,g=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),x=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_TEXTURE_SIZE),b=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),_=i.getParameter(i.MAX_VERTEX_ATTRIBS),E=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),P=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),D=i.getParameter(i.MAX_SAMPLES),F=i.getParameter(i.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:a,precision:f,logarithmicDepthBuffer:m,reversedDepthBuffer:g,maxTextures:y,maxVertexTextures:x,maxTextureSize:M,maxCubemapSize:b,maxAttributes:_,maxVertexUniforms:E,maxVaryings:C,maxFragmentUniforms:P,maxSamples:D,samples:F}}function N7(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new gc,a=new fn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const y=m.length!==0||g||n!==0||r;return r=g,n=m.length,y},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(m,g){t=p(m,g,0)},this.setState=function(m,g,y){const x=m.clippingPlanes,M=m.clipIntersection,b=m.clipShadows,_=i.get(m);if(!r||x===null||x.length===0||s&&!b)s?p(null):f();else{const E=s?0:n,C=E*4;let P=_.clippingState||null;c.value=P,P=p(x,g,C,y);for(let D=0;D!==C;++D)P[D]=t[D];_.clippingState=P,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=E}};function f(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(m,g,y,x){const M=m!==null?m.length:0;let b=null;if(M!==0){if(b=c.value,x!==!0||b===null){const _=y+M*4,E=g.matrixWorldInverse;a.getNormalMatrix(E),(b===null||b.length<_)&&(b=new Float32Array(_));for(let C=0,P=y;C!==M;++C,P+=4)o.copy(m[C]).applyMatrix4(E,a),o.normal.toArray(b,P),b[P+3]=o.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,b}}function D7(i){let e=new WeakMap;function t(o,a){return a===u0?o.mapping=wl:a===c0&&(o.mapping=Lc),o}function n(o){if(o&&o.isTexture){const a=o.mapping;if(a===u0||a===c0)if(e.has(o)){const c=e.get(o).texture;return t(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const f=new hT(c.height);return f.fromEquirectangularTexture(i,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const Sc=4,qC=[.125,.215,.35,.446,.526,.582],Qf=20,k7=256,dg=new im,$C=new Tt;let gw=null,vw=0,yw=0,xw=!1;const F7=new ee;class zM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,s={}){const{size:o=256,position:a=F7}=s;gw=this._renderer.getRenderTarget(),vw=this._renderer.getActiveCubeFace(),yw=this._renderer.getActiveMipmapLevel(),xw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,n,r,c,a),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=JC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(gw,vw,yw),this._renderer.xr.enabled=xw,e.scissorTest=!1,Zh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===wl||e.mapping===Lc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gw=this._renderer.getRenderTarget(),vw=this._renderer.getActiveCubeFace(),yw=this._renderer.getActiveMipmapLevel(),xw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ui,minFilter:ui,generateMipmaps:!1,type:Ml,format:Xr,colorSpace:Md,depthBuffer:!1},r=KC(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=KC(e,t,n);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=O7(s)),this._blurMaterial=B7(s,e,t),this._ggxMaterial=U7(s,e,t)}return r}_compileMaterial(e){const t=new lr(new un,e);this._renderer.compile(t,dg)}_sceneToCubeUV(e,t,n,r,s){const c=new Nr(90,1,t,n),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,y=m.toneMapping;m.getClearColor($C),m.toneMapping=la,m.autoClear=!1,m.state.buffers.depth.getReversed()&&(m.setRenderTarget(r),m.clearDepth(),m.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new lr(new Pd,new Vc({name:"PMREM.Background",side:Us,depthWrite:!1,depthTest:!1})));const M=this._backgroundBox,b=M.material;let _=!1;const E=e.background;E?E.isColor&&(b.color.copy(E),e.background=null,_=!0):(b.color.copy($C),_=!0);for(let C=0;C<6;C++){const P=C%3;P===0?(c.up.set(0,f[C],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+p[C],s.y,s.z)):P===1?(c.up.set(0,0,f[C]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+p[C],s.z)):(c.up.set(0,f[C],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+p[C]));const D=this._cubeSize;Zh(r,P*D,C>2?D:0,D,D),m.setRenderTarget(r),_&&m.render(M,c),m.render(e,c)}m.toneMapping=y,m.autoClear=g,e.background=E}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===wl||e.mapping===Lc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=JC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const c=this._cubeSize;Zh(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(o,dg)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let s=1;s<r;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,s=this._pingPongRenderTarget,o=this._ggxMaterial,a=this._lodMeshes[n];a.material=o;const c=o.uniforms,f=n/(this._lodMeshes.length-1),p=t/(this._lodMeshes.length-1),m=Math.sqrt(f*f-p*p),g=0+f*1.25,y=m*g,{_lodMax:x}=this,M=this._sizeLods[n],b=3*M*(n>x-Sc?n-x+Sc:0),_=4*(this._cubeSize-M);c.envMap.value=e.texture,c.roughness.value=y,c.mipInt.value=x-t,Zh(s,b,_,3*M,2*M),r.setRenderTarget(s),r.render(a,dg),c.envMap.value=s.texture,c.roughness.value=0,c.mipInt.value=x-n,Zh(e,b,_,3*M,2*M),r.setRenderTarget(e),r.render(a,dg)}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const c=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Ht("blur direction must be either latitudinal or longitudinal!");const p=3,m=this._lodMeshes[r];m.material=f;const g=f.uniforms,y=this._sizeLods[n]-1,x=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*Qf-1),M=s/x,b=isFinite(s)?1+Math.floor(p*M):Qf;b>Qf&&ht(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Qf}`);const _=[];let E=0;for(let O=0;O<Qf;++O){const U=O/M,I=Math.exp(-U*U/2);_.push(I),O===0?E+=I:O<b&&(E+=2*I)}for(let O=0;O<_.length;O++)_[O]=_[O]/E;g.envMap.value=e.texture,g.samples.value=b,g.weights.value=_,g.latitudinal.value=o==="latitudinal",a&&(g.poleAxis.value=a);const{_lodMax:C}=this;g.dTheta.value=x,g.mipInt.value=C-n;const P=this._sizeLods[r],D=3*P*(r>C-Sc?r-C+Sc:0),F=4*(this._cubeSize-P);Zh(t,D,F,3*P,2*P),c.setRenderTarget(t),c.render(m,dg)}}function O7(i){const e=[],t=[],n=[];let r=i;const s=i-Sc+1+qC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);e.push(a);let c=1/a;o>i-Sc?c=qC[o-i+Sc-1]:o===0&&(c=0),t.push(c);const f=1/(a-2),p=-f,m=1+f,g=[p,p,m,p,m,m,p,p,m,m,p,m],y=6,x=6,M=3,b=2,_=1,E=new Float32Array(M*x*y),C=new Float32Array(b*x*y),P=new Float32Array(_*x*y);for(let F=0;F<y;F++){const O=F%3*2/3-1,U=F>2?0:-1,I=[O,U,0,O+2/3,U,0,O+2/3,U+1,0,O,U,0,O+2/3,U+1,0,O,U+1,0];E.set(I,M*x*F),C.set(g,b*x*F);const k=[F,F,F,F,F,F];P.set(k,_*x*F)}const D=new un;D.setAttribute("position",new ii(E,M)),D.setAttribute("uv",new ii(C,b)),D.setAttribute("faceIndex",new ii(P,_)),n.push(new lr(D,null)),r>Sc&&r--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function KC(i,e,t){const n=new Uo(i,e,t);return n.texture.mapping=Qp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Zh(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function U7(i,e,t){return new co({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:k7,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:g1(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:xl,depthTest:!1,depthWrite:!1})}function B7(i,e,t){const n=new Float32Array(Qf),r=new ee(0,1,0);return new co({name:"SphericalGaussianBlur",defines:{n:Qf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:g1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xl,depthTest:!1,depthWrite:!1})}function ZC(){return new co({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:g1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xl,depthTest:!1,depthWrite:!1})}function JC(){return new co({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:g1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xl,depthTest:!1,depthWrite:!1})}function g1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function z7(i){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const c=a.mapping,f=c===u0||c===c0,p=c===wl||c===Lc;if(f||p){let m=e.get(a);const g=m!==void 0?m.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==g)return t===null&&(t=new zM(i)),m=f?t.fromEquirectangular(a,m):t.fromCubemap(a,m),m.texture.pmremVersion=a.pmremVersion,e.set(a,m),m.texture;if(m!==void 0)return m.texture;{const y=a.image;return f&&y&&y.height>0||p&&y&&r(y)?(t===null&&(t=new zM(i)),m=f?t.fromEquirectangular(a):t.fromCubemap(a),m.texture.pmremVersion=a.pmremVersion,e.set(a,m),a.addEventListener("dispose",s),m.texture):null}}}return a}function r(a){let c=0;const f=6;for(let p=0;p<f;p++)a[p]!==void 0&&c++;return c===f}function s(a){const c=a.target;c.removeEventListener("dispose",s);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function V7(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const r=i.getExtension(n);return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&Np("WebGLRenderer: "+n+" extension not supported."),r}}}function H7(i,e,t,n){const r={},s=new WeakMap;function o(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);g.removeEventListener("dispose",o),delete r[g.id];const y=s.get(g);y&&(e.remove(y),s.delete(g)),n.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function a(m,g){return r[g.id]===!0||(g.addEventListener("dispose",o),r[g.id]=!0,t.memory.geometries++),g}function c(m){const g=m.attributes;for(const y in g)e.update(g[y],i.ARRAY_BUFFER)}function f(m){const g=[],y=m.index,x=m.attributes.position;let M=0;if(y!==null){const E=y.array;M=y.version;for(let C=0,P=E.length;C<P;C+=3){const D=E[C+0],F=E[C+1],O=E[C+2];g.push(D,F,F,O,O,D)}}else if(x!==void 0){const E=x.array;M=x.version;for(let C=0,P=E.length/3-1;C<P;C+=3){const D=C+0,F=C+1,O=C+2;g.push(D,F,F,O,O,D)}}else return;const b=new(pL(g)?dT:fT)(g,1);b.version=M;const _=s.get(m);_&&e.remove(_),s.set(m,b)}function p(m){const g=s.get(m);if(g){const y=m.index;y!==null&&g.version<y.version&&f(m)}else f(m);return s.get(m)}return{get:a,update:c,getWireframeAttribute:p}}function G7(i,e,t){let n;function r(g){n=g}let s,o;function a(g){s=g.type,o=g.bytesPerElement}function c(g,y){i.drawElements(n,y,s,g*o),t.update(y,n,1)}function f(g,y,x){x!==0&&(i.drawElementsInstanced(n,y,s,g*o,x),t.update(y,n,x))}function p(g,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,y,0,s,g,0,x);let b=0;for(let _=0;_<x;_++)b+=y[_];t.update(b,n,1)}function m(g,y,x,M){if(x===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<g.length;_++)f(g[_]/o,y[_],M[_]);else{b.multiDrawElementsInstancedWEBGL(n,y,0,s,g,0,M,0,x);let _=0;for(let E=0;E<x;E++)_+=y[E]*M[E];t.update(_,n,1)}}this.setMode=r,this.setIndex=a,this.render=c,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=m}function W7(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=a*(s/3);break;case i.LINES:t.lines+=a*(s/2);break;case i.LINE_STRIP:t.lines+=a*(s-1);break;case i.LINE_LOOP:t.lines+=a*s;break;case i.POINTS:t.points+=a*s;break;default:Ht("WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function j7(i,e,t){const n=new WeakMap,r=new li;function s(o,a,c){const f=o.morphTargetInfluences,p=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,m=p!==void 0?p.length:0;let g=n.get(a);if(g===void 0||g.count!==m){let I=function(){O.dispose(),n.delete(a),a.removeEventListener("dispose",I)};g!==void 0&&g.texture.dispose();const y=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,M=a.morphAttributes.color!==void 0,b=a.morphAttributes.position||[],_=a.morphAttributes.normal||[],E=a.morphAttributes.color||[];let C=0;y===!0&&(C=1),x===!0&&(C=2),M===!0&&(C=3);let P=a.attributes.position.count*C,D=1;P>e.maxTextureSize&&(D=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const F=new Float32Array(P*D*4*m),O=new q_(F,P,D,m);O.type=Os,O.needsUpdate=!0;const U=C*4;for(let k=0;k<m;k++){const j=b[k],W=_[k],$=E[k],se=P*D*4*k;for(let Z=0;Z<j.count;Z++){const te=Z*U;y===!0&&(r.fromBufferAttribute(j,Z),F[se+te+0]=r.x,F[se+te+1]=r.y,F[se+te+2]=r.z,F[se+te+3]=0),x===!0&&(r.fromBufferAttribute(W,Z),F[se+te+4]=r.x,F[se+te+5]=r.y,F[se+te+6]=r.z,F[se+te+7]=0),M===!0&&(r.fromBufferAttribute($,Z),F[se+te+8]=r.x,F[se+te+9]=r.y,F[se+te+10]=r.z,F[se+te+11]=$.itemSize===4?r.w:1)}}g={count:m,texture:O,size:new ze(P,D)},n.set(a,g),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let y=0;for(let M=0;M<f.length;M++)y+=f[M];const x=a.morphTargetsRelative?1:1-y;c.getUniforms().setValue(i,"morphTargetBaseInfluence",x),c.getUniforms().setValue(i,"morphTargetInfluences",f)}c.getUniforms().setValue(i,"morphTargetsTexture",g.texture,t),c.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}return{update:s}}function X7(i,e,t,n){let r=new WeakMap;function s(c){const f=n.render.frame,p=c.geometry,m=e.get(c,p);if(r.get(m)!==f&&(e.update(m),r.set(m,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),r.get(c)!==f&&(t.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,f))),c.isSkinnedMesh){const g=c.skeleton;r.get(g)!==f&&(g.update(),r.set(g,f))}return m}function o(){r=new WeakMap}function a(c){const f=c.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const Y7={[$b]:"LINEAR_TONE_MAPPING",[Kb]:"REINHARD_TONE_MAPPING",[Zb]:"CINEON_TONE_MAPPING",[O_]:"ACES_FILMIC_TONE_MAPPING",[Qb]:"AGX_TONE_MAPPING",[eT]:"NEUTRAL_TONE_MAPPING",[Jb]:"CUSTOM_TONE_MAPPING"};function q7(i,e,t,n,r){const s=new Uo(e,t,{type:i,depthBuffer:n,stencilBuffer:r}),o=new Uo(e,t,{type:Ml,depthBuffer:!1,stencilBuffer:!1}),a=new un;a.setAttribute("position",new Rt([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new Rt([0,2,0,0,2,0],2));const c=new TT({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),f=new lr(a,c),p=new im(-1,1,1,-1,0,1);let m=null,g=null,y=!1,x,M=null,b=[],_=!1;this.setSize=function(E,C){s.setSize(E,C),o.setSize(E,C);for(let P=0;P<b.length;P++){const D=b[P];D.setSize&&D.setSize(E,C)}},this.setEffects=function(E){b=E,_=b.length>0&&b[0].isRenderPass===!0;const C=s.width,P=s.height;for(let D=0;D<b.length;D++){const F=b[D];F.setSize&&F.setSize(C,P)}},this.begin=function(E,C){if(y||E.toneMapping===la&&b.length===0)return!1;if(M=C,C!==null){const P=C.width,D=C.height;(s.width!==P||s.height!==D)&&this.setSize(P,D)}return _===!1&&E.setRenderTarget(s),x=E.toneMapping,E.toneMapping=la,!0},this.hasRenderPass=function(){return _},this.end=function(E,C){E.toneMapping=x,y=!0;let P=s,D=o;for(let F=0;F<b.length;F++){const O=b[F];if(O.enabled!==!1&&(O.render(E,D,P,C),O.needsSwap!==!1)){const U=P;P=D,D=U}}if(m!==E.outputColorSpace||g!==E.toneMapping){m=E.outputColorSpace,g=E.toneMapping,c.defines={},kn.getTransfer(m)===qn&&(c.defines.SRGB_TRANSFER="");const F=Y7[g];F&&(c.defines[F]=""),c.needsUpdate=!0}c.uniforms.tDiffuse.value=P.texture,E.setRenderTarget(M),E.render(f,p),M=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){s.dispose(),o.dispose(),a.dispose(),c.dispose()}}const yN=new zi,VM=new Op(1,1),xN=new q_,_N=new $_,SN=new V0,QC=[],e3=[],t3=new Float32Array(16),n3=new Float32Array(9),i3=new Float32Array(4);function rm(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=QC[r];if(s===void 0&&(s=new Float32Array(r),QC[r]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Sr(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function wr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function v1(i,e){let t=e3[e];t===void 0&&(t=new Int32Array(e),e3[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function $7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function K7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;i.uniform2fv(this.addr,e),wr(t,e)}}function Z7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Sr(t,e))return;i.uniform3fv(this.addr,e),wr(t,e)}}function J7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;i.uniform4fv(this.addr,e),wr(t,e)}}function Q7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sr(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),wr(t,e)}else{if(Sr(t,n))return;i3.set(n),i.uniformMatrix2fv(this.addr,!1,i3),wr(t,n)}}function eW(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sr(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),wr(t,e)}else{if(Sr(t,n))return;n3.set(n),i.uniformMatrix3fv(this.addr,!1,n3),wr(t,n)}}function tW(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sr(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),wr(t,e)}else{if(Sr(t,n))return;t3.set(n),i.uniformMatrix4fv(this.addr,!1,t3),wr(t,n)}}function nW(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function iW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;i.uniform2iv(this.addr,e),wr(t,e)}}function rW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sr(t,e))return;i.uniform3iv(this.addr,e),wr(t,e)}}function sW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;i.uniform4iv(this.addr,e),wr(t,e)}}function oW(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function aW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;i.uniform2uiv(this.addr,e),wr(t,e)}}function lW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sr(t,e))return;i.uniform3uiv(this.addr,e),wr(t,e)}}function uW(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;i.uniform4uiv(this.addr,e),wr(t,e)}}function cW(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(VM.compareFunction=t.isReversedDepthBuffer()?Y_:X_,s=VM):s=yN,t.setTexture2D(e||s,r)}function fW(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||_N,r)}function dW(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||SN,r)}function hW(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||xN,r)}function pW(i){switch(i){case 5126:return $7;case 35664:return K7;case 35665:return Z7;case 35666:return J7;case 35674:return Q7;case 35675:return eW;case 35676:return tW;case 5124:case 35670:return nW;case 35667:case 35671:return iW;case 35668:case 35672:return rW;case 35669:case 35673:return sW;case 5125:return oW;case 36294:return aW;case 36295:return lW;case 36296:return uW;case 35678:case 36198:case 36298:case 36306:case 35682:return cW;case 35679:case 36299:case 36307:return fW;case 35680:case 36300:case 36308:case 36293:return dW;case 36289:case 36303:case 36311:case 36292:return hW}}function mW(i,e){i.uniform1fv(this.addr,e)}function gW(i,e){const t=rm(e,this.size,2);i.uniform2fv(this.addr,t)}function vW(i,e){const t=rm(e,this.size,3);i.uniform3fv(this.addr,t)}function yW(i,e){const t=rm(e,this.size,4);i.uniform4fv(this.addr,t)}function xW(i,e){const t=rm(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function _W(i,e){const t=rm(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function SW(i,e){const t=rm(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function wW(i,e){i.uniform1iv(this.addr,e)}function MW(i,e){i.uniform2iv(this.addr,e)}function bW(i,e){i.uniform3iv(this.addr,e)}function TW(i,e){i.uniform4iv(this.addr,e)}function EW(i,e){i.uniform1uiv(this.addr,e)}function AW(i,e){i.uniform2uiv(this.addr,e)}function CW(i,e){i.uniform3uiv(this.addr,e)}function PW(i,e){i.uniform4uiv(this.addr,e)}function RW(i,e,t){const n=this.cache,r=e.length,s=v1(t,r);Sr(n,s)||(i.uniform1iv(this.addr,s),wr(n,s));let o;this.type===i.SAMPLER_2D_SHADOW?o=VM:o=yN;for(let a=0;a!==r;++a)t.setTexture2D(e[a]||o,s[a])}function IW(i,e,t){const n=this.cache,r=e.length,s=v1(t,r);Sr(n,s)||(i.uniform1iv(this.addr,s),wr(n,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||_N,s[o])}function LW(i,e,t){const n=this.cache,r=e.length,s=v1(t,r);Sr(n,s)||(i.uniform1iv(this.addr,s),wr(n,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||SN,s[o])}function NW(i,e,t){const n=this.cache,r=e.length,s=v1(t,r);Sr(n,s)||(i.uniform1iv(this.addr,s),wr(n,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||xN,s[o])}function DW(i){switch(i){case 5126:return mW;case 35664:return gW;case 35665:return vW;case 35666:return yW;case 35674:return xW;case 35675:return _W;case 35676:return SW;case 5124:case 35670:return wW;case 35667:case 35671:return MW;case 35668:case 35672:return bW;case 35669:case 35673:return TW;case 5125:return EW;case 36294:return AW;case 36295:return CW;case 36296:return PW;case 35678:case 36198:case 36298:case 36306:case 35682:return RW;case 35679:case 36299:case 36307:return IW;case 35680:case 36300:case 36308:case 36293:return LW;case 36289:case 36303:case 36311:case 36292:return NW}}class kW{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=pW(t.type)}}class FW{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=DW(t.type)}}class OW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],n)}}}const _w=/(\w+)(\])?(\[|\.)?/g;function r3(i,e){i.seq.push(e),i.map[e.id]=e}function UW(i,e,t){const n=i.name,r=n.length;for(_w.lastIndex=0;;){const s=_w.exec(n),o=_w.lastIndex;let a=s[1];const c=s[2]==="]",f=s[3];if(c&&(a=a|0),f===void 0||f==="["&&o+2===r){r3(t,f===void 0?new kW(a,i,e):new FW(a,i,e));break}else{let m=t.map[a];m===void 0&&(m=new OW(a),r3(t,m)),t=m}}}class ux{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<n;++o){const a=e.getActiveUniform(t,o),c=e.getUniformLocation(t,a.name);UW(a,c,this)}const r=[],s=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(o):s.push(o);r.length>0&&(this.seq=r.concat(s))}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],c=n[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function s3(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const BW=37297;let zW=0;function VW(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}const o3=new fn;function HW(i){kn._getMatrix(o3,kn.workingColorSpace,i);const e=`mat3( ${o3.elements.map(t=>t.toFixed(4))} )`;switch(kn.getTransfer(i)){case p0:return[e,"LinearTransferOETF"];case qn:return[e,"sRGBTransferOETF"];default:return ht("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function a3(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),s=(i.getShaderInfoLog(e)||"").trim();if(n&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+s+`

`+VW(i.getShaderSource(e),a)}else return s}function GW(i,e){const t=HW(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const WW={[$b]:"Linear",[Kb]:"Reinhard",[Zb]:"Cineon",[O_]:"ACESFilmic",[Qb]:"AgX",[eT]:"Neutral",[Jb]:"Custom"};function jW(i,e){const t=WW[e];return t===void 0?(ht("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Uy=new ee;function XW(){kn.getLuminanceCoefficients(Uy);const i=Uy.x.toFixed(4),e=Uy.y.toFixed(4),t=Uy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function YW(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Mg).join(`
`)}function qW(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function $W(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;s.type===i.FLOAT_MAT2&&(a=2),s.type===i.FLOAT_MAT3&&(a=3),s.type===i.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}function Mg(i){return i!==""}function l3(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function u3(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const KW=/^[ \t]*#include +<([\w\d./]+)>/gm;function HM(i){return i.replace(KW,JW)}const ZW=new Map;function JW(i,e){let t=vn[e];if(t===void 0){const n=ZW.get(e);if(n!==void 0)t=vn[n],ht('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return HM(t)}const QW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function c3(i){return i.replace(QW,ej)}function ej(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function f3(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const tj={[Sp]:"SHADOWMAP_TYPE_PCF",[nd]:"SHADOWMAP_TYPE_VSM"};function nj(i){return tj[i.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const ij={[wl]:"ENVMAP_TYPE_CUBE",[Lc]:"ENVMAP_TYPE_CUBE",[Qp]:"ENVMAP_TYPE_CUBE_UV"};function rj(i){return i.envMap===!1?"ENVMAP_TYPE_CUBE":ij[i.envMapMode]||"ENVMAP_TYPE_CUBE"}const sj={[Lc]:"ENVMAP_MODE_REFRACTION"};function oj(i){return i.envMap===!1?"ENVMAP_MODE_REFLECTION":sj[i.envMapMode]||"ENVMAP_MODE_REFLECTION"}const aj={[U0]:"ENVMAP_BLENDING_MULTIPLY",[eL]:"ENVMAP_BLENDING_MIX",[tL]:"ENVMAP_BLENDING_ADD"};function lj(i){return i.envMap===!1?"ENVMAP_BLENDING_NONE":aj[i.combine]||"ENVMAP_BLENDING_NONE"}function uj(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function cj(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=nj(t),f=rj(t),p=oj(t),m=lj(t),g=uj(t),y=YW(t),x=qW(s),M=r.createProgram();let b,_,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Mg).join(`
`),b.length>0&&(b+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Mg).join(`
`),_.length>0&&(_+=`
`)):(b=[f3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Mg).join(`
`),_=[f3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==la?"#define TONE_MAPPING":"",t.toneMapping!==la?vn.tonemapping_pars_fragment:"",t.toneMapping!==la?jW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",vn.colorspace_pars_fragment,GW("linearToOutputTexel",t.outputColorSpace),XW(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Mg).join(`
`)),o=HM(o),o=l3(o,t),o=u3(o,t),a=HM(a),a=l3(a,t),a=u3(a,t),o=c3(o),a=c3(a),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,b=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,_=["#define varying in",t.glslVersion===LM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===LM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const C=E+b+o,P=E+_+a,D=s3(r,r.VERTEX_SHADER,C),F=s3(r,r.FRAGMENT_SHADER,P);r.attachShader(M,D),r.attachShader(M,F),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function O(j){if(i.debug.checkShaderErrors){const W=r.getProgramInfoLog(M)||"",$=r.getShaderInfoLog(D)||"",se=r.getShaderInfoLog(F)||"",Z=W.trim(),te=$.trim(),q=se.trim();let z=!0,J=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(z=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,M,D,F);else{const V=a3(r,D,"vertex"),X=a3(r,F,"fragment");Ht("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+Z+`
`+V+`
`+X)}else Z!==""?ht("WebGLProgram: Program Info Log:",Z):(te===""||q==="")&&(J=!1);J&&(j.diagnostics={runnable:z,programLog:Z,vertexShader:{log:te,prefix:b},fragmentShader:{log:q,prefix:_}})}r.deleteShader(D),r.deleteShader(F),U=new ux(r,M),I=$W(r,M)}let U;this.getUniforms=function(){return U===void 0&&O(this),U};let I;this.getAttributes=function(){return I===void 0&&O(this),I};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=r.getProgramParameter(M,BW)),k},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=zW++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=D,this.fragmentShader=F,this}let fj=0;class dj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new hj(e),t.set(e,n)),n}}class hj{constructor(e){this.id=fj++,this.code=e,this.usedTimes=0}}function pj(i,e,t,n,r,s,o){const a=new fd,c=new dj,f=new Set,p=[],m=new Map,g=r.logarithmicDepthBuffer;let y=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(I){return f.add(I),I===0?"uv":`uv${I}`}function b(I,k,j,W,$){const se=W.fog,Z=$.geometry,te=I.isMeshStandardMaterial?W.environment:null,q=(I.isMeshStandardMaterial?t:e).get(I.envMap||te),z=q&&q.mapping===Qp?q.image.height:null,J=x[I.type];I.precision!==null&&(y=r.getMaxPrecision(I.precision),y!==I.precision&&ht("WebGLProgram.getParameters:",I.precision,"not supported, using",y,"instead."));const V=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,X=V!==void 0?V.length:0;let oe=0;Z.morphAttributes.position!==void 0&&(oe=1),Z.morphAttributes.normal!==void 0&&(oe=2),Z.morphAttributes.color!==void 0&&(oe=3);let ye,Pe,Ue,de;if(J){const ft=Ha[J];ye=ft.vertexShader,Pe=ft.fragmentShader}else ye=I.vertexShader,Pe=I.fragmentShader,c.update(I),Ue=c.getVertexShaderID(I),de=c.getFragmentShaderID(I);const me=i.getRenderTarget(),De=i.state.buffers.depth.getReversed(),Be=$.isInstancedMesh===!0,We=$.isBatchedMesh===!0,yt=!!I.map,Bt=!!I.matcap,qe=!!q,Ce=!!I.aoMap,ke=!!I.lightMap,Le=!!I.bumpMap,ae=!!I.normalMap,Q=!!I.displacementMap,wt=!!I.emissiveMap,Je=!!I.metalnessMap,st=!!I.roughnessMap,Ye=I.anisotropy>0,K=I.clearcoat>0,H=I.dispersion>0,le=I.iridescence>0,Te=I.sheen>0,Re=I.transmission>0,be=Ye&&!!I.anisotropyMap,ct=K&&!!I.clearcoatMap,$e=K&&!!I.clearcoatNormalMap,pt=K&&!!I.clearcoatRoughnessMap,vt=le&&!!I.iridescenceMap,He=le&&!!I.iridescenceThicknessMap,et=Te&&!!I.sheenColorMap,xt=Te&&!!I.sheenRoughnessMap,St=!!I.specularMap,Qe=!!I.specularColorMap,Yt=!!I.specularIntensityMap,re=Re&&!!I.transmissionMap,ot=Re&&!!I.thicknessMap,Ve=!!I.gradientMap,it=!!I.alphaMap,Oe=I.alphaTest>0,Ne=!!I.alphaHash,tt=!!I.extensions;let Vt=la;I.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(Vt=i.toneMapping);const Mn={shaderID:J,shaderType:I.type,shaderName:I.name,vertexShader:ye,fragmentShader:Pe,defines:I.defines,customVertexShaderID:Ue,customFragmentShaderID:de,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:y,batching:We,batchingColor:We&&$._colorsTexture!==null,instancing:Be,instancingColor:Be&&$.instanceColor!==null,instancingMorph:Be&&$.morphTexture!==null,outputColorSpace:me===null?i.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:Md,alphaToCoverage:!!I.alphaToCoverage,map:yt,matcap:Bt,envMap:qe,envMapMode:qe&&q.mapping,envMapCubeUVHeight:z,aoMap:Ce,lightMap:ke,bumpMap:Le,normalMap:ae,displacementMap:Q,emissiveMap:wt,normalMapObjectSpace:ae&&I.normalMapType===aL,normalMapTangentSpace:ae&&I.normalMapType===zc,metalnessMap:Je,roughnessMap:st,anisotropy:Ye,anisotropyMap:be,clearcoat:K,clearcoatMap:ct,clearcoatNormalMap:$e,clearcoatRoughnessMap:pt,dispersion:H,iridescence:le,iridescenceMap:vt,iridescenceThicknessMap:He,sheen:Te,sheenColorMap:et,sheenRoughnessMap:xt,specularMap:St,specularColorMap:Qe,specularIntensityMap:Yt,transmission:Re,transmissionMap:re,thicknessMap:ot,gradientMap:Ve,opaque:I.transparent===!1&&I.blending===ud&&I.alphaToCoverage===!1,alphaMap:it,alphaTest:Oe,alphaHash:Ne,combine:I.combine,mapUv:yt&&M(I.map.channel),aoMapUv:Ce&&M(I.aoMap.channel),lightMapUv:ke&&M(I.lightMap.channel),bumpMapUv:Le&&M(I.bumpMap.channel),normalMapUv:ae&&M(I.normalMap.channel),displacementMapUv:Q&&M(I.displacementMap.channel),emissiveMapUv:wt&&M(I.emissiveMap.channel),metalnessMapUv:Je&&M(I.metalnessMap.channel),roughnessMapUv:st&&M(I.roughnessMap.channel),anisotropyMapUv:be&&M(I.anisotropyMap.channel),clearcoatMapUv:ct&&M(I.clearcoatMap.channel),clearcoatNormalMapUv:$e&&M(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&M(I.clearcoatRoughnessMap.channel),iridescenceMapUv:vt&&M(I.iridescenceMap.channel),iridescenceThicknessMapUv:He&&M(I.iridescenceThicknessMap.channel),sheenColorMapUv:et&&M(I.sheenColorMap.channel),sheenRoughnessMapUv:xt&&M(I.sheenRoughnessMap.channel),specularMapUv:St&&M(I.specularMap.channel),specularColorMapUv:Qe&&M(I.specularColorMap.channel),specularIntensityMapUv:Yt&&M(I.specularIntensityMap.channel),transmissionMapUv:re&&M(I.transmissionMap.channel),thicknessMapUv:ot&&M(I.thicknessMap.channel),alphaMapUv:it&&M(I.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(ae||Ye),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!Z.attributes.uv&&(yt||it),fog:!!se,useFog:I.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:De,skinning:$.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:oe,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:i.shadowMap.enabled&&j.length>0,shadowMapType:i.shadowMap.type,toneMapping:Vt,decodeVideoTexture:yt&&I.map.isVideoTexture===!0&&kn.getTransfer(I.map.colorSpace)===qn,decodeVideoTextureEmissive:wt&&I.emissiveMap.isVideoTexture===!0&&kn.getTransfer(I.emissiveMap.colorSpace)===qn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Ga,flipSided:I.side===Us,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:tt&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(tt&&I.extensions.multiDraw===!0||We)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Mn.vertexUv1s=f.has(1),Mn.vertexUv2s=f.has(2),Mn.vertexUv3s=f.has(3),f.clear(),Mn}function _(I){const k=[];if(I.shaderID?k.push(I.shaderID):(k.push(I.customVertexShaderID),k.push(I.customFragmentShaderID)),I.defines!==void 0)for(const j in I.defines)k.push(j),k.push(I.defines[j]);return I.isRawShaderMaterial===!1&&(E(k,I),C(k,I),k.push(i.outputColorSpace)),k.push(I.customProgramCacheKey),k.join()}function E(I,k){I.push(k.precision),I.push(k.outputColorSpace),I.push(k.envMapMode),I.push(k.envMapCubeUVHeight),I.push(k.mapUv),I.push(k.alphaMapUv),I.push(k.lightMapUv),I.push(k.aoMapUv),I.push(k.bumpMapUv),I.push(k.normalMapUv),I.push(k.displacementMapUv),I.push(k.emissiveMapUv),I.push(k.metalnessMapUv),I.push(k.roughnessMapUv),I.push(k.anisotropyMapUv),I.push(k.clearcoatMapUv),I.push(k.clearcoatNormalMapUv),I.push(k.clearcoatRoughnessMapUv),I.push(k.iridescenceMapUv),I.push(k.iridescenceThicknessMapUv),I.push(k.sheenColorMapUv),I.push(k.sheenRoughnessMapUv),I.push(k.specularMapUv),I.push(k.specularColorMapUv),I.push(k.specularIntensityMapUv),I.push(k.transmissionMapUv),I.push(k.thicknessMapUv),I.push(k.combine),I.push(k.fogExp2),I.push(k.sizeAttenuation),I.push(k.morphTargetsCount),I.push(k.morphAttributeCount),I.push(k.numDirLights),I.push(k.numPointLights),I.push(k.numSpotLights),I.push(k.numSpotLightMaps),I.push(k.numHemiLights),I.push(k.numRectAreaLights),I.push(k.numDirLightShadows),I.push(k.numPointLightShadows),I.push(k.numSpotLightShadows),I.push(k.numSpotLightShadowsWithMaps),I.push(k.numLightProbes),I.push(k.shadowMapType),I.push(k.toneMapping),I.push(k.numClippingPlanes),I.push(k.numClipIntersection),I.push(k.depthPacking)}function C(I,k){a.disableAll(),k.instancing&&a.enable(0),k.instancingColor&&a.enable(1),k.instancingMorph&&a.enable(2),k.matcap&&a.enable(3),k.envMap&&a.enable(4),k.normalMapObjectSpace&&a.enable(5),k.normalMapTangentSpace&&a.enable(6),k.clearcoat&&a.enable(7),k.iridescence&&a.enable(8),k.alphaTest&&a.enable(9),k.vertexColors&&a.enable(10),k.vertexAlphas&&a.enable(11),k.vertexUv1s&&a.enable(12),k.vertexUv2s&&a.enable(13),k.vertexUv3s&&a.enable(14),k.vertexTangents&&a.enable(15),k.anisotropy&&a.enable(16),k.alphaHash&&a.enable(17),k.batching&&a.enable(18),k.dispersion&&a.enable(19),k.batchingColor&&a.enable(20),k.gradientMap&&a.enable(21),I.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.reversedDepthBuffer&&a.enable(4),k.skinning&&a.enable(5),k.morphTargets&&a.enable(6),k.morphNormals&&a.enable(7),k.morphColors&&a.enable(8),k.premultipliedAlpha&&a.enable(9),k.shadowMapEnabled&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.transmission&&a.enable(15),k.sheen&&a.enable(16),k.opaque&&a.enable(17),k.pointsUvs&&a.enable(18),k.decodeVideoTexture&&a.enable(19),k.decodeVideoTextureEmissive&&a.enable(20),k.alphaToCoverage&&a.enable(21),I.push(a.mask)}function P(I){const k=x[I.type];let j;if(k){const W=Ha[k];j=_L.clone(W.uniforms)}else j=I.uniforms;return j}function D(I,k){let j=m.get(k);return j!==void 0?++j.usedTimes:(j=new cj(i,k,I,s),p.push(j),m.set(k,j)),j}function F(I){if(--I.usedTimes===0){const k=p.indexOf(I);p[k]=p[p.length-1],p.pop(),m.delete(I.cacheKey),I.destroy()}}function O(I){c.remove(I)}function U(){c.dispose()}return{getParameters:b,getProgramCacheKey:_,getUniforms:P,acquireProgram:D,releaseProgram:F,releaseShaderCache:O,programs:p,dispose:U}}function mj(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let a=i.get(o);return a===void 0&&(a={},i.set(o,a)),a}function n(o){i.delete(o)}function r(o,a,c){i.get(o)[a]=c}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function gj(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function d3(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function h3(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function o(m,g,y,x,M,b){let _=i[e];return _===void 0?(_={id:m.id,object:m,geometry:g,material:y,groupOrder:x,renderOrder:m.renderOrder,z:M,group:b},i[e]=_):(_.id=m.id,_.object=m,_.geometry=g,_.material=y,_.groupOrder=x,_.renderOrder=m.renderOrder,_.z=M,_.group=b),e++,_}function a(m,g,y,x,M,b){const _=o(m,g,y,x,M,b);y.transmission>0?n.push(_):y.transparent===!0?r.push(_):t.push(_)}function c(m,g,y,x,M,b){const _=o(m,g,y,x,M,b);y.transmission>0?n.unshift(_):y.transparent===!0?r.unshift(_):t.unshift(_)}function f(m,g){t.length>1&&t.sort(m||gj),n.length>1&&n.sort(g||d3),r.length>1&&r.sort(g||d3)}function p(){for(let m=e,g=i.length;m<g;m++){const y=i[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:a,unshift:c,finish:p,sort:f}}function vj(){let i=new WeakMap;function e(n,r){const s=i.get(n);let o;return s===void 0?(o=new h3,i.set(n,[o])):r>=s.length?(o=new h3,s.push(o)):o=s[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function yj(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new Tt};break;case"SpotLight":t={position:new ee,direction:new ee,color:new Tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new Tt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new Tt,groundColor:new Tt};break;case"RectAreaLight":t={color:new Tt,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return i[e.id]=t,t}}}function xj(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let _j=0;function Sj(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function wj(i){const e=new yj,t=xj(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)n.probe.push(new ee);const r=new ee,s=new tn,o=new tn;function a(f){let p=0,m=0,g=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let y=0,x=0,M=0,b=0,_=0,E=0,C=0,P=0,D=0,F=0,O=0;f.sort(Sj);for(let I=0,k=f.length;I<k;I++){const j=f[I],W=j.color,$=j.intensity,se=j.distance;let Z=null;if(j.shadow&&j.shadow.map&&(j.shadow.map.texture.format===wd?Z=j.shadow.map.texture:Z=j.shadow.map.depthTexture||j.shadow.map.texture),j.isAmbientLight)p+=W.r*$,m+=W.g*$,g+=W.b*$;else if(j.isLightProbe){for(let te=0;te<9;te++)n.probe[te].addScaledVector(j.sh.coefficients[te],$);O++}else if(j.isDirectionalLight){const te=e.get(j);if(te.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const q=j.shadow,z=t.get(j);z.shadowIntensity=q.intensity,z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,n.directionalShadow[y]=z,n.directionalShadowMap[y]=Z,n.directionalShadowMatrix[y]=j.shadow.matrix,E++}n.directional[y]=te,y++}else if(j.isSpotLight){const te=e.get(j);te.position.setFromMatrixPosition(j.matrixWorld),te.color.copy(W).multiplyScalar($),te.distance=se,te.coneCos=Math.cos(j.angle),te.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),te.decay=j.decay,n.spot[M]=te;const q=j.shadow;if(j.map&&(n.spotLightMap[D]=j.map,D++,q.updateMatrices(j),j.castShadow&&F++),n.spotLightMatrix[M]=q.matrix,j.castShadow){const z=t.get(j);z.shadowIntensity=q.intensity,z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,n.spotShadow[M]=z,n.spotShadowMap[M]=Z,P++}M++}else if(j.isRectAreaLight){const te=e.get(j);te.color.copy(W).multiplyScalar($),te.halfWidth.set(j.width*.5,0,0),te.halfHeight.set(0,j.height*.5,0),n.rectArea[b]=te,b++}else if(j.isPointLight){const te=e.get(j);if(te.color.copy(j.color).multiplyScalar(j.intensity),te.distance=j.distance,te.decay=j.decay,j.castShadow){const q=j.shadow,z=t.get(j);z.shadowIntensity=q.intensity,z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,z.shadowCameraNear=q.camera.near,z.shadowCameraFar=q.camera.far,n.pointShadow[x]=z,n.pointShadowMap[x]=Z,n.pointShadowMatrix[x]=j.shadow.matrix,C++}n.point[x]=te,x++}else if(j.isHemisphereLight){const te=e.get(j);te.skyColor.copy(j.color).multiplyScalar($),te.groundColor.copy(j.groundColor).multiplyScalar($),n.hemi[_]=te,_++}}b>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=gt.LTC_FLOAT_1,n.rectAreaLTC2=gt.LTC_FLOAT_2):(n.rectAreaLTC1=gt.LTC_HALF_1,n.rectAreaLTC2=gt.LTC_HALF_2)),n.ambient[0]=p,n.ambient[1]=m,n.ambient[2]=g;const U=n.hash;(U.directionalLength!==y||U.pointLength!==x||U.spotLength!==M||U.rectAreaLength!==b||U.hemiLength!==_||U.numDirectionalShadows!==E||U.numPointShadows!==C||U.numSpotShadows!==P||U.numSpotMaps!==D||U.numLightProbes!==O)&&(n.directional.length=y,n.spot.length=M,n.rectArea.length=b,n.point.length=x,n.hemi.length=_,n.directionalShadow.length=E,n.directionalShadowMap.length=E,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=P,n.spotShadowMap.length=P,n.directionalShadowMatrix.length=E,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=P+D-F,n.spotLightMap.length=D,n.numSpotLightShadowsWithMaps=F,n.numLightProbes=O,U.directionalLength=y,U.pointLength=x,U.spotLength=M,U.rectAreaLength=b,U.hemiLength=_,U.numDirectionalShadows=E,U.numPointShadows=C,U.numSpotShadows=P,U.numSpotMaps=D,U.numLightProbes=O,n.version=_j++)}function c(f,p){let m=0,g=0,y=0,x=0,M=0;const b=p.matrixWorldInverse;for(let _=0,E=f.length;_<E;_++){const C=f[_];if(C.isDirectionalLight){const P=n.directional[m];P.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(b),m++}else if(C.isSpotLight){const P=n.spot[y];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(b),P.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(b),y++}else if(C.isRectAreaLight){const P=n.rectArea[x];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(b),o.identity(),s.copy(C.matrixWorld),s.premultiply(b),o.extractRotation(s),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(o),P.halfHeight.applyMatrix4(o),x++}else if(C.isPointLight){const P=n.point[g];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(b),g++}else if(C.isHemisphereLight){const P=n.hemi[M];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(b),M++}}}return{setup:a,setupView:c,state:n}}function p3(i){const e=new wj(i),t=[],n=[];function r(p){f.camera=p,t.length=0,n.length=0}function s(p){t.push(p)}function o(p){n.push(p)}function a(){e.setup(t)}function c(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:a,setupLightsView:c,pushLight:s,pushShadow:o}}function Mj(i){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new p3(i),e.set(r,[a])):s>=o.length?(a=new p3(i),o.push(a)):a=o[s],a}function n(){e=new WeakMap}return{get:t,dispose:n}}const bj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Tj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Ej=[new ee(1,0,0),new ee(-1,0,0),new ee(0,1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1)],Aj=[new ee(0,-1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,-1,0),new ee(0,-1,0)],m3=new tn,hg=new ee,Sw=new ee;function Cj(i,e,t){let n=new tm;const r=new ze,s=new ze,o=new li,a=new AT,c=new CT,f={},p=t.maxTextureSize,m={[bu]:Us,[Us]:bu,[Ga]:Ga},g=new co({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:bj,fragmentShader:Tj}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const x=new un;x.setAttribute("position",new ii(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new lr(x,g),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Sp;let _=this.type;this.render=function(F,O,U){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||F.length===0)return;F.type===kg&&(ht("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),F.type=Sp);const I=i.getRenderTarget(),k=i.getActiveCubeFace(),j=i.getActiveMipmapLevel(),W=i.state;W.setBlending(xl),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const $=_!==this.type;$&&O.traverse(function(se){se.material&&(Array.isArray(se.material)?se.material.forEach(Z=>Z.needsUpdate=!0):se.material.needsUpdate=!0)});for(let se=0,Z=F.length;se<Z;se++){const te=F[se],q=te.shadow;if(q===void 0){ht("WebGLShadowMap:",te,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const z=q.getFrameExtents();if(r.multiply(z),s.copy(q.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/z.x),r.x=s.x*z.x,q.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/z.y),r.y=s.y*z.y,q.mapSize.y=s.y)),q.map===null||$===!0){if(q.map!==null&&(q.map.depthTexture!==null&&(q.map.depthTexture.dispose(),q.map.depthTexture=null),q.map.dispose()),this.type===nd){if(te.isPointLight){ht("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}q.map=new Uo(r.x,r.y,{format:wd,type:Ml,minFilter:ui,magFilter:ui,generateMipmaps:!1}),q.map.texture.name=te.name+".shadowMap",q.map.depthTexture=new Op(r.x,r.y,Os),q.map.depthTexture.name=te.name+".shadowMapDepth",q.map.depthTexture.format=bl,q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=$i,q.map.depthTexture.magFilter=$i}else{te.isPointLight?(q.map=new hT(r.x),q.map.depthTexture=new IL(r.x,fa)):(q.map=new Uo(r.x,r.y),q.map.depthTexture=new Op(r.x,r.y,fa)),q.map.depthTexture.name=te.name+".shadowMap",q.map.depthTexture.format=bl;const V=i.state.buffers.depth.getReversed();this.type===Sp?(q.map.depthTexture.compareFunction=V?Y_:X_,q.map.depthTexture.minFilter=ui,q.map.depthTexture.magFilter=ui):(q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=$i,q.map.depthTexture.magFilter=$i)}q.camera.updateProjectionMatrix()}const J=q.map.isWebGLCubeRenderTarget?6:1;for(let V=0;V<J;V++){if(q.map.isWebGLCubeRenderTarget)i.setRenderTarget(q.map,V),i.clear();else{V===0&&(i.setRenderTarget(q.map),i.clear());const X=q.getViewport(V);o.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),W.viewport(o)}if(te.isPointLight){const X=q.camera,oe=q.matrix,ye=te.distance||X.far;ye!==X.far&&(X.far=ye,X.updateProjectionMatrix()),hg.setFromMatrixPosition(te.matrixWorld),X.position.copy(hg),Sw.copy(X.position),Sw.add(Ej[V]),X.up.copy(Aj[V]),X.lookAt(Sw),X.updateMatrixWorld(),oe.makeTranslation(-hg.x,-hg.y,-hg.z),m3.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),q._frustum.setFromProjectionMatrix(m3,X.coordinateSystem,X.reversedDepth)}else q.updateMatrices(te);n=q.getFrustum(),P(O,U,q.camera,te,this.type)}q.isPointLightShadow!==!0&&this.type===nd&&E(q,U),q.needsUpdate=!1}_=this.type,b.needsUpdate=!1,i.setRenderTarget(I,k,j)};function E(F,O){const U=e.update(M);g.defines.VSM_SAMPLES!==F.blurSamples&&(g.defines.VSM_SAMPLES=F.blurSamples,y.defines.VSM_SAMPLES=F.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new Uo(r.x,r.y,{format:wd,type:Ml})),g.uniforms.shadow_pass.value=F.map.depthTexture,g.uniforms.resolution.value=F.mapSize,g.uniforms.radius.value=F.radius,i.setRenderTarget(F.mapPass),i.clear(),i.renderBufferDirect(O,null,U,g,M,null),y.uniforms.shadow_pass.value=F.mapPass.texture,y.uniforms.resolution.value=F.mapSize,y.uniforms.radius.value=F.radius,i.setRenderTarget(F.map),i.clear(),i.renderBufferDirect(O,null,U,y,M,null)}function C(F,O,U,I){let k=null;const j=U.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(j!==void 0)k=j;else if(k=U.isPointLight===!0?c:a,i.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0||O.alphaToCoverage===!0){const W=k.uuid,$=O.uuid;let se=f[W];se===void 0&&(se={},f[W]=se);let Z=se[$];Z===void 0&&(Z=k.clone(),se[$]=Z,O.addEventListener("dispose",D)),k=Z}if(k.visible=O.visible,k.wireframe=O.wireframe,I===nd?k.side=O.shadowSide!==null?O.shadowSide:O.side:k.side=O.shadowSide!==null?O.shadowSide:m[O.side],k.alphaMap=O.alphaMap,k.alphaTest=O.alphaToCoverage===!0?.5:O.alphaTest,k.map=O.map,k.clipShadows=O.clipShadows,k.clippingPlanes=O.clippingPlanes,k.clipIntersection=O.clipIntersection,k.displacementMap=O.displacementMap,k.displacementScale=O.displacementScale,k.displacementBias=O.displacementBias,k.wireframeLinewidth=O.wireframeLinewidth,k.linewidth=O.linewidth,U.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const W=i.properties.get(k);W.light=U}return k}function P(F,O,U,I,k){if(F.visible===!1)return;if(F.layers.test(O.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&k===nd)&&(!F.frustumCulled||n.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,F.matrixWorld);const $=e.update(F),se=F.material;if(Array.isArray(se)){const Z=$.groups;for(let te=0,q=Z.length;te<q;te++){const z=Z[te],J=se[z.materialIndex];if(J&&J.visible){const V=C(F,J,I,k);F.onBeforeShadow(i,F,O,U,$,V,z),i.renderBufferDirect(U,null,$,V,F,z),F.onAfterShadow(i,F,O,U,$,V,z)}}}else if(se.visible){const Z=C(F,se,I,k);F.onBeforeShadow(i,F,O,U,$,Z,null),i.renderBufferDirect(U,null,$,Z,F,null),F.onAfterShadow(i,F,O,U,$,Z,null)}}const W=F.children;for(let $=0,se=W.length;$<se;$++)P(W[$],O,U,I,k)}function D(F){F.target.removeEventListener("dispose",D);for(const U in f){const I=f[U],k=F.target.uuid;k in I&&(I[k].dispose(),delete I[k])}}}const Pj={[Rx]:Ix,[Lx]:kx,[Nx]:Fx,[_d]:Dx,[Ix]:Rx,[kx]:Lx,[Fx]:Nx,[Dx]:_d};function Rj(i,e){function t(){let re=!1;const ot=new li;let Ve=null;const it=new li(0,0,0,0);return{setMask:function(Oe){Ve!==Oe&&!re&&(i.colorMask(Oe,Oe,Oe,Oe),Ve=Oe)},setLocked:function(Oe){re=Oe},setClear:function(Oe,Ne,tt,Vt,Mn){Mn===!0&&(Oe*=Vt,Ne*=Vt,tt*=Vt),ot.set(Oe,Ne,tt,Vt),it.equals(ot)===!1&&(i.clearColor(Oe,Ne,tt,Vt),it.copy(ot))},reset:function(){re=!1,Ve=null,it.set(-1,0,0,0)}}}function n(){let re=!1,ot=!1,Ve=null,it=null,Oe=null;return{setReversed:function(Ne){if(ot!==Ne){const tt=e.get("EXT_clip_control");Ne?tt.clipControlEXT(tt.LOWER_LEFT_EXT,tt.ZERO_TO_ONE_EXT):tt.clipControlEXT(tt.LOWER_LEFT_EXT,tt.NEGATIVE_ONE_TO_ONE_EXT),ot=Ne;const Vt=Oe;Oe=null,this.setClear(Vt)}},getReversed:function(){return ot},setTest:function(Ne){Ne?me(i.DEPTH_TEST):De(i.DEPTH_TEST)},setMask:function(Ne){Ve!==Ne&&!re&&(i.depthMask(Ne),Ve=Ne)},setFunc:function(Ne){if(ot&&(Ne=Pj[Ne]),it!==Ne){switch(Ne){case Rx:i.depthFunc(i.NEVER);break;case Ix:i.depthFunc(i.ALWAYS);break;case Lx:i.depthFunc(i.LESS);break;case _d:i.depthFunc(i.LEQUAL);break;case Nx:i.depthFunc(i.EQUAL);break;case Dx:i.depthFunc(i.GEQUAL);break;case kx:i.depthFunc(i.GREATER);break;case Fx:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}it=Ne}},setLocked:function(Ne){re=Ne},setClear:function(Ne){Oe!==Ne&&(ot&&(Ne=1-Ne),i.clearDepth(Ne),Oe=Ne)},reset:function(){re=!1,Ve=null,it=null,Oe=null,ot=!1}}}function r(){let re=!1,ot=null,Ve=null,it=null,Oe=null,Ne=null,tt=null,Vt=null,Mn=null;return{setTest:function(ft){re||(ft?me(i.STENCIL_TEST):De(i.STENCIL_TEST))},setMask:function(ft){ot!==ft&&!re&&(i.stencilMask(ft),ot=ft)},setFunc:function(ft,Ct,Kt){(Ve!==ft||it!==Ct||Oe!==Kt)&&(i.stencilFunc(ft,Ct,Kt),Ve=ft,it=Ct,Oe=Kt)},setOp:function(ft,Ct,Kt){(Ne!==ft||tt!==Ct||Vt!==Kt)&&(i.stencilOp(ft,Ct,Kt),Ne=ft,tt=Ct,Vt=Kt)},setLocked:function(ft){re=ft},setClear:function(ft){Mn!==ft&&(i.clearStencil(ft),Mn=ft)},reset:function(){re=!1,ot=null,Ve=null,it=null,Oe=null,Ne=null,tt=null,Vt=null,Mn=null}}}const s=new t,o=new n,a=new r,c=new WeakMap,f=new WeakMap;let p={},m={},g=new WeakMap,y=[],x=null,M=!1,b=null,_=null,E=null,C=null,P=null,D=null,F=null,O=new Tt(0,0,0),U=0,I=!1,k=null,j=null,W=null,$=null,se=null;const Z=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,q=0;const z=i.getParameter(i.VERSION);z.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(z)[1]),te=q>=1):z.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),te=q>=2);let J=null,V={};const X=i.getParameter(i.SCISSOR_BOX),oe=i.getParameter(i.VIEWPORT),ye=new li().fromArray(X),Pe=new li().fromArray(oe);function Ue(re,ot,Ve,it){const Oe=new Uint8Array(4),Ne=i.createTexture();i.bindTexture(re,Ne),i.texParameteri(re,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(re,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let tt=0;tt<Ve;tt++)re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY?i.texImage3D(ot,0,i.RGBA,1,1,it,0,i.RGBA,i.UNSIGNED_BYTE,Oe):i.texImage2D(ot+tt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Oe);return Ne}const de={};de[i.TEXTURE_2D]=Ue(i.TEXTURE_2D,i.TEXTURE_2D,1),de[i.TEXTURE_CUBE_MAP]=Ue(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[i.TEXTURE_2D_ARRAY]=Ue(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),de[i.TEXTURE_3D]=Ue(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),me(i.DEPTH_TEST),o.setFunc(_d),Le(!1),ae(EM),me(i.CULL_FACE),Ce(xl);function me(re){p[re]!==!0&&(i.enable(re),p[re]=!0)}function De(re){p[re]!==!1&&(i.disable(re),p[re]=!1)}function Be(re,ot){return m[re]!==ot?(i.bindFramebuffer(re,ot),m[re]=ot,re===i.DRAW_FRAMEBUFFER&&(m[i.FRAMEBUFFER]=ot),re===i.FRAMEBUFFER&&(m[i.DRAW_FRAMEBUFFER]=ot),!0):!1}function We(re,ot){let Ve=y,it=!1;if(re){Ve=g.get(ot),Ve===void 0&&(Ve=[],g.set(ot,Ve));const Oe=re.textures;if(Ve.length!==Oe.length||Ve[0]!==i.COLOR_ATTACHMENT0){for(let Ne=0,tt=Oe.length;Ne<tt;Ne++)Ve[Ne]=i.COLOR_ATTACHMENT0+Ne;Ve.length=Oe.length,it=!0}}else Ve[0]!==i.BACK&&(Ve[0]=i.BACK,it=!0);it&&i.drawBuffers(Ve)}function yt(re){return x!==re?(i.useProgram(re),x=re,!0):!1}const Bt={[vc]:i.FUNC_ADD,[OI]:i.FUNC_SUBTRACT,[UI]:i.FUNC_REVERSE_SUBTRACT};Bt[BI]=i.MIN,Bt[zI]=i.MAX;const qe={[VI]:i.ZERO,[HI]:i.ONE,[GI]:i.SRC_COLOR,[Cx]:i.SRC_ALPHA,[$I]:i.SRC_ALPHA_SATURATE,[YI]:i.DST_COLOR,[jI]:i.DST_ALPHA,[WI]:i.ONE_MINUS_SRC_COLOR,[Px]:i.ONE_MINUS_SRC_ALPHA,[qI]:i.ONE_MINUS_DST_COLOR,[XI]:i.ONE_MINUS_DST_ALPHA,[KI]:i.CONSTANT_COLOR,[ZI]:i.ONE_MINUS_CONSTANT_COLOR,[JI]:i.CONSTANT_ALPHA,[QI]:i.ONE_MINUS_CONSTANT_ALPHA};function Ce(re,ot,Ve,it,Oe,Ne,tt,Vt,Mn,ft){if(re===xl){M===!0&&(De(i.BLEND),M=!1);return}if(M===!1&&(me(i.BLEND),M=!0),re!==FI){if(re!==b||ft!==I){if((_!==vc||P!==vc)&&(i.blendEquation(i.FUNC_ADD),_=vc,P=vc),ft)switch(re){case ud:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case AM:i.blendFunc(i.ONE,i.ONE);break;case CM:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case PM:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:Ht("WebGLState: Invalid blending: ",re);break}else switch(re){case ud:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case AM:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case CM:Ht("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case PM:Ht("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ht("WebGLState: Invalid blending: ",re);break}E=null,C=null,D=null,F=null,O.set(0,0,0),U=0,b=re,I=ft}return}Oe=Oe||ot,Ne=Ne||Ve,tt=tt||it,(ot!==_||Oe!==P)&&(i.blendEquationSeparate(Bt[ot],Bt[Oe]),_=ot,P=Oe),(Ve!==E||it!==C||Ne!==D||tt!==F)&&(i.blendFuncSeparate(qe[Ve],qe[it],qe[Ne],qe[tt]),E=Ve,C=it,D=Ne,F=tt),(Vt.equals(O)===!1||Mn!==U)&&(i.blendColor(Vt.r,Vt.g,Vt.b,Mn),O.copy(Vt),U=Mn),b=re,I=!1}function ke(re,ot){re.side===Ga?De(i.CULL_FACE):me(i.CULL_FACE);let Ve=re.side===Us;ot&&(Ve=!Ve),Le(Ve),re.blending===ud&&re.transparent===!1?Ce(xl):Ce(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),o.setFunc(re.depthFunc),o.setTest(re.depthTest),o.setMask(re.depthWrite),s.setMask(re.colorWrite);const it=re.stencilWrite;a.setTest(it),it&&(a.setMask(re.stencilWriteMask),a.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),a.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),wt(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?me(i.SAMPLE_ALPHA_TO_COVERAGE):De(i.SAMPLE_ALPHA_TO_COVERAGE)}function Le(re){k!==re&&(re?i.frontFace(i.CW):i.frontFace(i.CCW),k=re)}function ae(re){re!==NI?(me(i.CULL_FACE),re!==j&&(re===EM?i.cullFace(i.BACK):re===DI?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):De(i.CULL_FACE),j=re}function Q(re){re!==W&&(te&&i.lineWidth(re),W=re)}function wt(re,ot,Ve){re?(me(i.POLYGON_OFFSET_FILL),($!==ot||se!==Ve)&&(i.polygonOffset(ot,Ve),$=ot,se=Ve)):De(i.POLYGON_OFFSET_FILL)}function Je(re){re?me(i.SCISSOR_TEST):De(i.SCISSOR_TEST)}function st(re){re===void 0&&(re=i.TEXTURE0+Z-1),J!==re&&(i.activeTexture(re),J=re)}function Ye(re,ot,Ve){Ve===void 0&&(J===null?Ve=i.TEXTURE0+Z-1:Ve=J);let it=V[Ve];it===void 0&&(it={type:void 0,texture:void 0},V[Ve]=it),(it.type!==re||it.texture!==ot)&&(J!==Ve&&(i.activeTexture(Ve),J=Ve),i.bindTexture(re,ot||de[re]),it.type=re,it.texture=ot)}function K(){const re=V[J];re!==void 0&&re.type!==void 0&&(i.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function H(){try{i.compressedTexImage2D(...arguments)}catch(re){Ht("WebGLState:",re)}}function le(){try{i.compressedTexImage3D(...arguments)}catch(re){Ht("WebGLState:",re)}}function Te(){try{i.texSubImage2D(...arguments)}catch(re){Ht("WebGLState:",re)}}function Re(){try{i.texSubImage3D(...arguments)}catch(re){Ht("WebGLState:",re)}}function be(){try{i.compressedTexSubImage2D(...arguments)}catch(re){Ht("WebGLState:",re)}}function ct(){try{i.compressedTexSubImage3D(...arguments)}catch(re){Ht("WebGLState:",re)}}function $e(){try{i.texStorage2D(...arguments)}catch(re){Ht("WebGLState:",re)}}function pt(){try{i.texStorage3D(...arguments)}catch(re){Ht("WebGLState:",re)}}function vt(){try{i.texImage2D(...arguments)}catch(re){Ht("WebGLState:",re)}}function He(){try{i.texImage3D(...arguments)}catch(re){Ht("WebGLState:",re)}}function et(re){ye.equals(re)===!1&&(i.scissor(re.x,re.y,re.z,re.w),ye.copy(re))}function xt(re){Pe.equals(re)===!1&&(i.viewport(re.x,re.y,re.z,re.w),Pe.copy(re))}function St(re,ot){let Ve=f.get(ot);Ve===void 0&&(Ve=new WeakMap,f.set(ot,Ve));let it=Ve.get(re);it===void 0&&(it=i.getUniformBlockIndex(ot,re.name),Ve.set(re,it))}function Qe(re,ot){const it=f.get(ot).get(re);c.get(ot)!==it&&(i.uniformBlockBinding(ot,it,re.__bindingPointIndex),c.set(ot,it))}function Yt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},J=null,V={},m={},g=new WeakMap,y=[],x=null,M=!1,b=null,_=null,E=null,C=null,P=null,D=null,F=null,O=new Tt(0,0,0),U=0,I=!1,k=null,j=null,W=null,$=null,se=null,ye.set(0,0,i.canvas.width,i.canvas.height),Pe.set(0,0,i.canvas.width,i.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:me,disable:De,bindFramebuffer:Be,drawBuffers:We,useProgram:yt,setBlending:Ce,setMaterial:ke,setFlipSided:Le,setCullFace:ae,setLineWidth:Q,setPolygonOffset:wt,setScissorTest:Je,activeTexture:st,bindTexture:Ye,unbindTexture:K,compressedTexImage2D:H,compressedTexImage3D:le,texImage2D:vt,texImage3D:He,updateUBOMapping:St,uniformBlockBinding:Qe,texStorage2D:$e,texStorage3D:pt,texSubImage2D:Te,texSubImage3D:Re,compressedTexSubImage2D:be,compressedTexSubImage3D:ct,scissor:et,viewport:xt,reset:Yt}}function Ij(i,e,t,n,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new ze,p=new WeakMap;let m;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,H){return y?new OffscreenCanvas(K,H):g0("canvas")}function M(K,H,le){let Te=1;const Re=Ye(K);if((Re.width>le||Re.height>le)&&(Te=le/Math.max(Re.width,Re.height)),Te<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const be=Math.floor(Te*Re.width),ct=Math.floor(Te*Re.height);m===void 0&&(m=x(be,ct));const $e=H?x(be,ct):m;return $e.width=be,$e.height=ct,$e.getContext("2d").drawImage(K,0,0,be,ct),ht("WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+be+"x"+ct+")."),$e}else return"data"in K&&ht("WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),K;return K}function b(K){return K.generateMipmaps}function _(K){i.generateMipmap(K)}function E(K){return K.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?i.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C(K,H,le,Te,Re=!1){if(K!==null){if(i[K]!==void 0)return i[K];ht("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let be=H;if(H===i.RED&&(le===i.FLOAT&&(be=i.R32F),le===i.HALF_FLOAT&&(be=i.R16F),le===i.UNSIGNED_BYTE&&(be=i.R8)),H===i.RED_INTEGER&&(le===i.UNSIGNED_BYTE&&(be=i.R8UI),le===i.UNSIGNED_SHORT&&(be=i.R16UI),le===i.UNSIGNED_INT&&(be=i.R32UI),le===i.BYTE&&(be=i.R8I),le===i.SHORT&&(be=i.R16I),le===i.INT&&(be=i.R32I)),H===i.RG&&(le===i.FLOAT&&(be=i.RG32F),le===i.HALF_FLOAT&&(be=i.RG16F),le===i.UNSIGNED_BYTE&&(be=i.RG8)),H===i.RG_INTEGER&&(le===i.UNSIGNED_BYTE&&(be=i.RG8UI),le===i.UNSIGNED_SHORT&&(be=i.RG16UI),le===i.UNSIGNED_INT&&(be=i.RG32UI),le===i.BYTE&&(be=i.RG8I),le===i.SHORT&&(be=i.RG16I),le===i.INT&&(be=i.RG32I)),H===i.RGB_INTEGER&&(le===i.UNSIGNED_BYTE&&(be=i.RGB8UI),le===i.UNSIGNED_SHORT&&(be=i.RGB16UI),le===i.UNSIGNED_INT&&(be=i.RGB32UI),le===i.BYTE&&(be=i.RGB8I),le===i.SHORT&&(be=i.RGB16I),le===i.INT&&(be=i.RGB32I)),H===i.RGBA_INTEGER&&(le===i.UNSIGNED_BYTE&&(be=i.RGBA8UI),le===i.UNSIGNED_SHORT&&(be=i.RGBA16UI),le===i.UNSIGNED_INT&&(be=i.RGBA32UI),le===i.BYTE&&(be=i.RGBA8I),le===i.SHORT&&(be=i.RGBA16I),le===i.INT&&(be=i.RGBA32I)),H===i.RGB&&(le===i.UNSIGNED_INT_5_9_9_9_REV&&(be=i.RGB9_E5),le===i.UNSIGNED_INT_10F_11F_11F_REV&&(be=i.R11F_G11F_B10F)),H===i.RGBA){const ct=Re?p0:kn.getTransfer(Te);le===i.FLOAT&&(be=i.RGBA32F),le===i.HALF_FLOAT&&(be=i.RGBA16F),le===i.UNSIGNED_BYTE&&(be=ct===qn?i.SRGB8_ALPHA8:i.RGBA8),le===i.UNSIGNED_SHORT_4_4_4_4&&(be=i.RGBA4),le===i.UNSIGNED_SHORT_5_5_5_1&&(be=i.RGB5_A1)}return(be===i.R16F||be===i.R32F||be===i.RG16F||be===i.RG32F||be===i.RGBA16F||be===i.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function P(K,H){let le;return K?H===null||H===fa||H===Ip?le=i.DEPTH24_STENCIL8:H===Os?le=i.DEPTH32F_STENCIL8:H===Rp&&(le=i.DEPTH24_STENCIL8,ht("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===fa||H===Ip?le=i.DEPTH_COMPONENT24:H===Os?le=i.DEPTH_COMPONENT32F:H===Rp&&(le=i.DEPTH_COMPONENT16),le}function D(K,H){return b(K)===!0||K.isFramebufferTexture&&K.minFilter!==$i&&K.minFilter!==ui?Math.log2(Math.max(H.width,H.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?H.mipmaps.length:1}function F(K){const H=K.target;H.removeEventListener("dispose",F),U(H),H.isVideoTexture&&p.delete(H)}function O(K){const H=K.target;H.removeEventListener("dispose",O),k(H)}function U(K){const H=n.get(K);if(H.__webglInit===void 0)return;const le=K.source,Te=g.get(le);if(Te){const Re=Te[H.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&I(K),Object.keys(Te).length===0&&g.delete(le)}n.remove(K)}function I(K){const H=n.get(K);i.deleteTexture(H.__webglTexture);const le=K.source,Te=g.get(le);delete Te[H.__cacheKey],o.memory.textures--}function k(K){const H=n.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),n.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(H.__webglFramebuffer[Te]))for(let Re=0;Re<H.__webglFramebuffer[Te].length;Re++)i.deleteFramebuffer(H.__webglFramebuffer[Te][Re]);else i.deleteFramebuffer(H.__webglFramebuffer[Te]);H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer[Te])}else{if(Array.isArray(H.__webglFramebuffer))for(let Te=0;Te<H.__webglFramebuffer.length;Te++)i.deleteFramebuffer(H.__webglFramebuffer[Te]);else i.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&i.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Te=0;Te<H.__webglColorRenderbuffer.length;Te++)H.__webglColorRenderbuffer[Te]&&i.deleteRenderbuffer(H.__webglColorRenderbuffer[Te]);H.__webglDepthRenderbuffer&&i.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const le=K.textures;for(let Te=0,Re=le.length;Te<Re;Te++){const be=n.get(le[Te]);be.__webglTexture&&(i.deleteTexture(be.__webglTexture),o.memory.textures--),n.remove(le[Te])}n.remove(K)}let j=0;function W(){j=0}function $(){const K=j;return K>=r.maxTextures&&ht("WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+r.maxTextures),j+=1,K}function se(K){const H=[];return H.push(K.wrapS),H.push(K.wrapT),H.push(K.wrapR||0),H.push(K.magFilter),H.push(K.minFilter),H.push(K.anisotropy),H.push(K.internalFormat),H.push(K.format),H.push(K.type),H.push(K.generateMipmaps),H.push(K.premultiplyAlpha),H.push(K.flipY),H.push(K.unpackAlignment),H.push(K.colorSpace),H.join()}function Z(K,H){const le=n.get(K);if(K.isVideoTexture&&Je(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&le.__version!==K.version){const Te=K.image;if(Te===null)ht("WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)ht("WebGLRenderer: Texture marked for update but image is incomplete");else{de(le,K,H);return}}else K.isExternalTexture&&(le.__webglTexture=K.sourceTexture?K.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,le.__webglTexture,i.TEXTURE0+H)}function te(K,H){const le=n.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&le.__version!==K.version){de(le,K,H);return}else K.isExternalTexture&&(le.__webglTexture=K.sourceTexture?K.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,le.__webglTexture,i.TEXTURE0+H)}function q(K,H){const le=n.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&le.__version!==K.version){de(le,K,H);return}t.bindTexture(i.TEXTURE_3D,le.__webglTexture,i.TEXTURE0+H)}function z(K,H){const le=n.get(K);if(K.isCubeDepthTexture!==!0&&K.version>0&&le.__version!==K.version){me(le,K,H);return}t.bindTexture(i.TEXTURE_CUBE_MAP,le.__webglTexture,i.TEXTURE0+H)}const J={[Sd]:i.REPEAT,[ro]:i.CLAMP_TO_EDGE,[f0]:i.MIRRORED_REPEAT},V={[$i]:i.NEAREST,[tT]:i.NEAREST_MIPMAP_NEAREST,[hp]:i.NEAREST_MIPMAP_LINEAR,[ui]:i.LINEAR,[Fg]:i.LINEAR_MIPMAP_NEAREST,[pl]:i.LINEAR_MIPMAP_LINEAR},X={[lL]:i.NEVER,[hL]:i.ALWAYS,[uL]:i.LESS,[X_]:i.LEQUAL,[cL]:i.EQUAL,[Y_]:i.GEQUAL,[fL]:i.GREATER,[dL]:i.NOTEQUAL};function oe(K,H){if(H.type===Os&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===ui||H.magFilter===Fg||H.magFilter===hp||H.magFilter===pl||H.minFilter===ui||H.minFilter===Fg||H.minFilter===hp||H.minFilter===pl)&&ht("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(K,i.TEXTURE_WRAP_S,J[H.wrapS]),i.texParameteri(K,i.TEXTURE_WRAP_T,J[H.wrapT]),(K===i.TEXTURE_3D||K===i.TEXTURE_2D_ARRAY)&&i.texParameteri(K,i.TEXTURE_WRAP_R,J[H.wrapR]),i.texParameteri(K,i.TEXTURE_MAG_FILTER,V[H.magFilter]),i.texParameteri(K,i.TEXTURE_MIN_FILTER,V[H.minFilter]),H.compareFunction&&(i.texParameteri(K,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(K,i.TEXTURE_COMPARE_FUNC,X[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===$i||H.minFilter!==hp&&H.minFilter!==pl||H.type===Os&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||n.get(H).__currentAnisotropy){const le=e.get("EXT_texture_filter_anisotropic");i.texParameterf(K,le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy}}}function ye(K,H){let le=!1;K.__webglInit===void 0&&(K.__webglInit=!0,H.addEventListener("dispose",F));const Te=H.source;let Re=g.get(Te);Re===void 0&&(Re={},g.set(Te,Re));const be=se(H);if(be!==K.__cacheKey){Re[be]===void 0&&(Re[be]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Re[be].usedTimes++;const ct=Re[K.__cacheKey];ct!==void 0&&(Re[K.__cacheKey].usedTimes--,ct.usedTimes===0&&I(H)),K.__cacheKey=be,K.__webglTexture=Re[be].texture}return le}function Pe(K,H,le){return Math.floor(Math.floor(K/le)/H)}function Ue(K,H,le,Te){const be=K.updateRanges;if(be.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,H.width,H.height,le,Te,H.data);else{be.sort((He,et)=>He.start-et.start);let ct=0;for(let He=1;He<be.length;He++){const et=be[ct],xt=be[He],St=et.start+et.count,Qe=Pe(xt.start,H.width,4),Yt=Pe(et.start,H.width,4);xt.start<=St+1&&Qe===Yt&&Pe(xt.start+xt.count-1,H.width,4)===Qe?et.count=Math.max(et.count,xt.start+xt.count-et.start):(++ct,be[ct]=xt)}be.length=ct+1;const $e=i.getParameter(i.UNPACK_ROW_LENGTH),pt=i.getParameter(i.UNPACK_SKIP_PIXELS),vt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,H.width);for(let He=0,et=be.length;He<et;He++){const xt=be[He],St=Math.floor(xt.start/4),Qe=Math.ceil(xt.count/4),Yt=St%H.width,re=Math.floor(St/H.width),ot=Qe,Ve=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Yt),i.pixelStorei(i.UNPACK_SKIP_ROWS,re),t.texSubImage2D(i.TEXTURE_2D,0,Yt,re,ot,Ve,le,Te,H.data)}K.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,$e),i.pixelStorei(i.UNPACK_SKIP_PIXELS,pt),i.pixelStorei(i.UNPACK_SKIP_ROWS,vt)}}function de(K,H,le){let Te=i.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Te=i.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Te=i.TEXTURE_3D);const Re=ye(K,H),be=H.source;t.bindTexture(Te,K.__webglTexture,i.TEXTURE0+le);const ct=n.get(be);if(be.version!==ct.__version||Re===!0){t.activeTexture(i.TEXTURE0+le);const $e=kn.getPrimaries(kn.workingColorSpace),pt=H.colorSpace===vu?null:kn.getPrimaries(H.colorSpace),vt=H.colorSpace===vu||$e===pt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);let He=M(H.image,!1,r.maxTextureSize);He=st(H,He);const et=s.convert(H.format,H.colorSpace),xt=s.convert(H.type);let St=C(H.internalFormat,et,xt,H.colorSpace,H.isVideoTexture);oe(Te,H);let Qe;const Yt=H.mipmaps,re=H.isVideoTexture!==!0,ot=ct.__version===void 0||Re===!0,Ve=be.dataReady,it=D(H,He);if(H.isDepthTexture)St=P(H.format===xc,H.type),ot&&(re?t.texStorage2D(i.TEXTURE_2D,1,St,He.width,He.height):t.texImage2D(i.TEXTURE_2D,0,St,He.width,He.height,0,et,xt,null));else if(H.isDataTexture)if(Yt.length>0){re&&ot&&t.texStorage2D(i.TEXTURE_2D,it,St,Yt[0].width,Yt[0].height);for(let Oe=0,Ne=Yt.length;Oe<Ne;Oe++)Qe=Yt[Oe],re?Ve&&t.texSubImage2D(i.TEXTURE_2D,Oe,0,0,Qe.width,Qe.height,et,xt,Qe.data):t.texImage2D(i.TEXTURE_2D,Oe,St,Qe.width,Qe.height,0,et,xt,Qe.data);H.generateMipmaps=!1}else re?(ot&&t.texStorage2D(i.TEXTURE_2D,it,St,He.width,He.height),Ve&&Ue(H,He,et,xt)):t.texImage2D(i.TEXTURE_2D,0,St,He.width,He.height,0,et,xt,He.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){re&&ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,it,St,Yt[0].width,Yt[0].height,He.depth);for(let Oe=0,Ne=Yt.length;Oe<Ne;Oe++)if(Qe=Yt[Oe],H.format!==Xr)if(et!==null)if(re){if(Ve)if(H.layerUpdates.size>0){const tt=BM(Qe.width,Qe.height,H.format,H.type);for(const Vt of H.layerUpdates){const Mn=Qe.data.subarray(Vt*tt/Qe.data.BYTES_PER_ELEMENT,(Vt+1)*tt/Qe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Oe,0,0,Vt,Qe.width,Qe.height,1,et,Mn)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Oe,0,0,0,Qe.width,Qe.height,He.depth,et,Qe.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Oe,St,Qe.width,Qe.height,He.depth,0,Qe.data,0,0);else ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else re?Ve&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Oe,0,0,0,Qe.width,Qe.height,He.depth,et,xt,Qe.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Oe,St,Qe.width,Qe.height,He.depth,0,et,xt,Qe.data)}else{re&&ot&&t.texStorage2D(i.TEXTURE_2D,it,St,Yt[0].width,Yt[0].height);for(let Oe=0,Ne=Yt.length;Oe<Ne;Oe++)Qe=Yt[Oe],H.format!==Xr?et!==null?re?Ve&&t.compressedTexSubImage2D(i.TEXTURE_2D,Oe,0,0,Qe.width,Qe.height,et,Qe.data):t.compressedTexImage2D(i.TEXTURE_2D,Oe,St,Qe.width,Qe.height,0,Qe.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):re?Ve&&t.texSubImage2D(i.TEXTURE_2D,Oe,0,0,Qe.width,Qe.height,et,xt,Qe.data):t.texImage2D(i.TEXTURE_2D,Oe,St,Qe.width,Qe.height,0,et,xt,Qe.data)}else if(H.isDataArrayTexture)if(re){if(ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,it,St,He.width,He.height,He.depth),Ve)if(H.layerUpdates.size>0){const Oe=BM(He.width,He.height,H.format,H.type);for(const Ne of H.layerUpdates){const tt=He.data.subarray(Ne*Oe/He.data.BYTES_PER_ELEMENT,(Ne+1)*Oe/He.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ne,He.width,He.height,1,et,xt,tt)}H.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,He.width,He.height,He.depth,et,xt,He.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,St,He.width,He.height,He.depth,0,et,xt,He.data);else if(H.isData3DTexture)re?(ot&&t.texStorage3D(i.TEXTURE_3D,it,St,He.width,He.height,He.depth),Ve&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,He.width,He.height,He.depth,et,xt,He.data)):t.texImage3D(i.TEXTURE_3D,0,St,He.width,He.height,He.depth,0,et,xt,He.data);else if(H.isFramebufferTexture){if(ot)if(re)t.texStorage2D(i.TEXTURE_2D,it,St,He.width,He.height);else{let Oe=He.width,Ne=He.height;for(let tt=0;tt<it;tt++)t.texImage2D(i.TEXTURE_2D,tt,St,Oe,Ne,0,et,xt,null),Oe>>=1,Ne>>=1}}else if(Yt.length>0){if(re&&ot){const Oe=Ye(Yt[0]);t.texStorage2D(i.TEXTURE_2D,it,St,Oe.width,Oe.height)}for(let Oe=0,Ne=Yt.length;Oe<Ne;Oe++)Qe=Yt[Oe],re?Ve&&t.texSubImage2D(i.TEXTURE_2D,Oe,0,0,et,xt,Qe):t.texImage2D(i.TEXTURE_2D,Oe,St,et,xt,Qe);H.generateMipmaps=!1}else if(re){if(ot){const Oe=Ye(He);t.texStorage2D(i.TEXTURE_2D,it,St,Oe.width,Oe.height)}Ve&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,et,xt,He)}else t.texImage2D(i.TEXTURE_2D,0,St,et,xt,He);b(H)&&_(Te),ct.__version=be.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function me(K,H,le){if(H.image.length!==6)return;const Te=ye(K,H),Re=H.source;t.bindTexture(i.TEXTURE_CUBE_MAP,K.__webglTexture,i.TEXTURE0+le);const be=n.get(Re);if(Re.version!==be.__version||Te===!0){t.activeTexture(i.TEXTURE0+le);const ct=kn.getPrimaries(kn.workingColorSpace),$e=H.colorSpace===vu?null:kn.getPrimaries(H.colorSpace),pt=H.colorSpace===vu||ct===$e?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const vt=H.isCompressedTexture||H.image[0].isCompressedTexture,He=H.image[0]&&H.image[0].isDataTexture,et=[];for(let Ne=0;Ne<6;Ne++)!vt&&!He?et[Ne]=M(H.image[Ne],!0,r.maxCubemapSize):et[Ne]=He?H.image[Ne].image:H.image[Ne],et[Ne]=st(H,et[Ne]);const xt=et[0],St=s.convert(H.format,H.colorSpace),Qe=s.convert(H.type),Yt=C(H.internalFormat,St,Qe,H.colorSpace),re=H.isVideoTexture!==!0,ot=be.__version===void 0||Te===!0,Ve=Re.dataReady;let it=D(H,xt);oe(i.TEXTURE_CUBE_MAP,H);let Oe;if(vt){re&&ot&&t.texStorage2D(i.TEXTURE_CUBE_MAP,it,Yt,xt.width,xt.height);for(let Ne=0;Ne<6;Ne++){Oe=et[Ne].mipmaps;for(let tt=0;tt<Oe.length;tt++){const Vt=Oe[tt];H.format!==Xr?St!==null?re?Ve&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt,0,0,Vt.width,Vt.height,St,Vt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt,Yt,Vt.width,Vt.height,0,Vt.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?Ve&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt,0,0,Vt.width,Vt.height,St,Qe,Vt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt,Yt,Vt.width,Vt.height,0,St,Qe,Vt.data)}}}else{if(Oe=H.mipmaps,re&&ot){Oe.length>0&&it++;const Ne=Ye(et[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,it,Yt,Ne.width,Ne.height)}for(let Ne=0;Ne<6;Ne++)if(He){re?Ve&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,0,0,et[Ne].width,et[Ne].height,St,Qe,et[Ne].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,Yt,et[Ne].width,et[Ne].height,0,St,Qe,et[Ne].data);for(let tt=0;tt<Oe.length;tt++){const Mn=Oe[tt].image[Ne].image;re?Ve&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt+1,0,0,Mn.width,Mn.height,St,Qe,Mn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt+1,Yt,Mn.width,Mn.height,0,St,Qe,Mn.data)}}else{re?Ve&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,0,0,St,Qe,et[Ne]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,Yt,St,Qe,et[Ne]);for(let tt=0;tt<Oe.length;tt++){const Vt=Oe[tt];re?Ve&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt+1,0,0,St,Qe,Vt.image[Ne]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,tt+1,Yt,St,Qe,Vt.image[Ne])}}}b(H)&&_(i.TEXTURE_CUBE_MAP),be.__version=Re.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function De(K,H,le,Te,Re,be){const ct=s.convert(le.format,le.colorSpace),$e=s.convert(le.type),pt=C(le.internalFormat,ct,$e,le.colorSpace),vt=n.get(H),He=n.get(le);if(He.__renderTarget=H,!vt.__hasExternalTextures){const et=Math.max(1,H.width>>be),xt=Math.max(1,H.height>>be);Re===i.TEXTURE_3D||Re===i.TEXTURE_2D_ARRAY?t.texImage3D(Re,be,pt,et,xt,H.depth,0,ct,$e,null):t.texImage2D(Re,be,pt,et,xt,0,ct,$e,null)}t.bindFramebuffer(i.FRAMEBUFFER,K),wt(H)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Te,Re,He.__webglTexture,0,Q(H)):(Re===i.TEXTURE_2D||Re>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Te,Re,He.__webglTexture,be),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Be(K,H,le){if(i.bindRenderbuffer(i.RENDERBUFFER,K),H.depthBuffer){const Te=H.depthTexture,Re=Te&&Te.isDepthTexture?Te.type:null,be=P(H.stencilBuffer,Re),ct=H.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;wt(H)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Q(H),be,H.width,H.height):le?i.renderbufferStorageMultisample(i.RENDERBUFFER,Q(H),be,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,be,H.width,H.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ct,i.RENDERBUFFER,K)}else{const Te=H.textures;for(let Re=0;Re<Te.length;Re++){const be=Te[Re],ct=s.convert(be.format,be.colorSpace),$e=s.convert(be.type),pt=C(be.internalFormat,ct,$e,be.colorSpace);wt(H)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Q(H),pt,H.width,H.height):le?i.renderbufferStorageMultisample(i.RENDERBUFFER,Q(H),pt,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,pt,H.width,H.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function We(K,H,le){const Te=H.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(i.FRAMEBUFFER,K),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=n.get(H.depthTexture);if(Re.__renderTarget=H,(!Re.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),Te){if(Re.__webglInit===void 0&&(Re.__webglInit=!0,H.depthTexture.addEventListener("dispose",F)),Re.__webglTexture===void 0){Re.__webglTexture=i.createTexture(),t.bindTexture(i.TEXTURE_CUBE_MAP,Re.__webglTexture),oe(i.TEXTURE_CUBE_MAP,H.depthTexture);const vt=s.convert(H.depthTexture.format),He=s.convert(H.depthTexture.type);let et;H.depthTexture.format===bl?et=i.DEPTH_COMPONENT24:H.depthTexture.format===xc&&(et=i.DEPTH24_STENCIL8);for(let xt=0;xt<6;xt++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0,et,H.width,H.height,0,vt,He,null)}}else Z(H.depthTexture,0);const be=Re.__webglTexture,ct=Q(H),$e=Te?i.TEXTURE_CUBE_MAP_POSITIVE_X+le:i.TEXTURE_2D,pt=H.depthTexture.format===xc?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;if(H.depthTexture.format===bl)wt(H)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,pt,$e,be,0,ct):i.framebufferTexture2D(i.FRAMEBUFFER,pt,$e,be,0);else if(H.depthTexture.format===xc)wt(H)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,pt,$e,be,0,ct):i.framebufferTexture2D(i.FRAMEBUFFER,pt,$e,be,0);else throw new Error("Unknown depthTexture format")}function yt(K){const H=n.get(K),le=K.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==K.depthTexture){const Te=K.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Te){const Re=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Te.removeEventListener("dispose",Re)};Te.addEventListener("dispose",Re),H.__depthDisposeCallback=Re}H.__boundDepthTexture=Te}if(K.depthTexture&&!H.__autoAllocateDepthBuffer)if(le)for(let Te=0;Te<6;Te++)We(H.__webglFramebuffer[Te],K,Te);else{const Te=K.texture.mipmaps;Te&&Te.length>0?We(H.__webglFramebuffer[0],K,0):We(H.__webglFramebuffer,K,0)}else if(le){H.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)if(t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[Te]),H.__webglDepthbuffer[Te]===void 0)H.__webglDepthbuffer[Te]=i.createRenderbuffer(),Be(H.__webglDepthbuffer[Te],K,!1);else{const Re=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,be=H.__webglDepthbuffer[Te];i.bindRenderbuffer(i.RENDERBUFFER,be),i.framebufferRenderbuffer(i.FRAMEBUFFER,Re,i.RENDERBUFFER,be)}}else{const Te=K.texture.mipmaps;if(Te&&Te.length>0?t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=i.createRenderbuffer(),Be(H.__webglDepthbuffer,K,!1);else{const Re=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,be=H.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,be),i.framebufferRenderbuffer(i.FRAMEBUFFER,Re,i.RENDERBUFFER,be)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Bt(K,H,le){const Te=n.get(K);H!==void 0&&De(Te.__webglFramebuffer,K,K.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),le!==void 0&&yt(K)}function qe(K){const H=K.texture,le=n.get(K),Te=n.get(H);K.addEventListener("dispose",O);const Re=K.textures,be=K.isWebGLCubeRenderTarget===!0,ct=Re.length>1;if(ct||(Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture()),Te.__version=H.version,o.memory.textures++),be){le.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)if(H.mipmaps&&H.mipmaps.length>0){le.__webglFramebuffer[$e]=[];for(let pt=0;pt<H.mipmaps.length;pt++)le.__webglFramebuffer[$e][pt]=i.createFramebuffer()}else le.__webglFramebuffer[$e]=i.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){le.__webglFramebuffer=[];for(let $e=0;$e<H.mipmaps.length;$e++)le.__webglFramebuffer[$e]=i.createFramebuffer()}else le.__webglFramebuffer=i.createFramebuffer();if(ct)for(let $e=0,pt=Re.length;$e<pt;$e++){const vt=n.get(Re[$e]);vt.__webglTexture===void 0&&(vt.__webglTexture=i.createTexture(),o.memory.textures++)}if(K.samples>0&&wt(K)===!1){le.__webglMultisampledFramebuffer=i.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let $e=0;$e<Re.length;$e++){const pt=Re[$e];le.__webglColorRenderbuffer[$e]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,le.__webglColorRenderbuffer[$e]);const vt=s.convert(pt.format,pt.colorSpace),He=s.convert(pt.type),et=C(pt.internalFormat,vt,He,pt.colorSpace,K.isXRRenderTarget===!0),xt=Q(K);i.renderbufferStorageMultisample(i.RENDERBUFFER,xt,et,K.width,K.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+$e,i.RENDERBUFFER,le.__webglColorRenderbuffer[$e])}i.bindRenderbuffer(i.RENDERBUFFER,null),K.depthBuffer&&(le.__webglDepthRenderbuffer=i.createRenderbuffer(),Be(le.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(be){t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),oe(i.TEXTURE_CUBE_MAP,H);for(let $e=0;$e<6;$e++)if(H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)De(le.__webglFramebuffer[$e][pt],K,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,pt);else De(le.__webglFramebuffer[$e],K,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0);b(H)&&_(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let $e=0,pt=Re.length;$e<pt;$e++){const vt=Re[$e],He=n.get(vt);let et=i.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(et=K.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(et,He.__webglTexture),oe(et,vt),De(le.__webglFramebuffer,K,vt,i.COLOR_ATTACHMENT0+$e,et,0),b(vt)&&_(et)}t.unbindTexture()}else{let $e=i.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&($e=K.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture($e,Te.__webglTexture),oe($e,H),H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)De(le.__webglFramebuffer[pt],K,H,i.COLOR_ATTACHMENT0,$e,pt);else De(le.__webglFramebuffer,K,H,i.COLOR_ATTACHMENT0,$e,0);b(H)&&_($e),t.unbindTexture()}K.depthBuffer&&yt(K)}function Ce(K){const H=K.textures;for(let le=0,Te=H.length;le<Te;le++){const Re=H[le];if(b(Re)){const be=E(K),ct=n.get(Re).__webglTexture;t.bindTexture(be,ct),_(be),t.unbindTexture()}}}const ke=[],Le=[];function ae(K){if(K.samples>0){if(wt(K)===!1){const H=K.textures,le=K.width,Te=K.height;let Re=i.COLOR_BUFFER_BIT;const be=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ct=n.get(K),$e=H.length>1;if($e)for(let vt=0;vt<H.length;vt++)t.bindFramebuffer(i.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+vt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+vt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const pt=K.texture.mipmaps;pt&&pt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let vt=0;vt<H.length;vt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(Re|=i.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(Re|=i.STENCIL_BUFFER_BIT)),$e){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ct.__webglColorRenderbuffer[vt]);const He=n.get(H[vt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,He,0)}i.blitFramebuffer(0,0,le,Te,0,0,le,Te,Re,i.NEAREST),c===!0&&(ke.length=0,Le.length=0,ke.push(i.COLOR_ATTACHMENT0+vt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(ke.push(be),Le.push(be),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Le)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,ke))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),$e)for(let vt=0;vt<H.length;vt++){t.bindFramebuffer(i.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+vt,i.RENDERBUFFER,ct.__webglColorRenderbuffer[vt]);const He=n.get(H[vt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+vt,i.TEXTURE_2D,He,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&c){const H=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[H])}}}function Q(K){return Math.min(r.maxSamples,K.samples)}function wt(K){const H=n.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Je(K){const H=o.render.frame;p.get(K)!==H&&(p.set(K,H),K.update())}function st(K,H){const le=K.colorSpace,Te=K.format,Re=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||le!==Md&&le!==vu&&(kn.getTransfer(le)===qn?(Te!==Xr||Re!==Is)&&ht("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ht("WebGLTextures: Unsupported texture color space:",le)),H}function Ye(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(f.width=K.naturalWidth||K.width,f.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(f.width=K.displayWidth,f.height=K.displayHeight):(f.width=K.width,f.height=K.height),f}this.allocateTextureUnit=$,this.resetTextureUnits=W,this.setTexture2D=Z,this.setTexture2DArray=te,this.setTexture3D=q,this.setTextureCube=z,this.rebindTextures=Bt,this.setupRenderTarget=qe,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=ae,this.setupDepthRenderbuffer=yt,this.setupFrameBufferTexture=De,this.useMultisampledRTT=wt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function wN(i,e){function t(n,r=vu){let s;const o=kn.getTransfer(r);if(n===Is)return i.UNSIGNED_BYTE;if(n===z_)return i.UNSIGNED_SHORT_4_4_4_4;if(n===V_)return i.UNSIGNED_SHORT_5_5_5_1;if(n===rT)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===sT)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===nT)return i.BYTE;if(n===iT)return i.SHORT;if(n===Rp)return i.UNSIGNED_SHORT;if(n===B_)return i.INT;if(n===fa)return i.UNSIGNED_INT;if(n===Os)return i.FLOAT;if(n===Ml)return i.HALF_FLOAT;if(n===oT)return i.ALPHA;if(n===aT)return i.RGB;if(n===Xr)return i.RGBA;if(n===bl)return i.DEPTH_COMPONENT;if(n===xc)return i.DEPTH_STENCIL;if(n===H_)return i.RED;if(n===B0)return i.RED_INTEGER;if(n===wd)return i.RG;if(n===G_)return i.RG_INTEGER;if(n===W_)return i.RGBA_INTEGER;if(n===Og||n===Ug||n===Bg||n===zg)if(o===qn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===Og)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ug)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Bg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===zg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===Og)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ug)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Bg)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===zg)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Ox||n===Ux||n===Bx||n===zx)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Ox)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ux)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Bx)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===zx)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Vx||n===Hx||n===Gx||n===Wx||n===jx||n===Xx||n===Yx)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Vx||n===Hx)return o===qn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Gx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(n===Wx)return s.COMPRESSED_R11_EAC;if(n===jx)return s.COMPRESSED_SIGNED_R11_EAC;if(n===Xx)return s.COMPRESSED_RG11_EAC;if(n===Yx)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===qx||n===$x||n===Kx||n===Zx||n===Jx||n===Qx||n===e_||n===t_||n===n_||n===i_||n===r_||n===s_||n===o_||n===a_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===qx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===$x)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Kx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Zx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Jx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Qx)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===e_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===t_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===n_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===i_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===r_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===s_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===o_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===a_)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===l_||n===u_||n===c_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===l_)return o===qn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===u_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===c_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===f_||n===d_||n===h_||n===p_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===f_)return s.COMPRESSED_RED_RGTC1_EXT;if(n===d_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===h_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===p_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ip?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const Lj=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Nj=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Dj{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new yT(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new co({vertexShader:Lj,fragmentShader:Nj,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new lr(new nm(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kj extends El{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor",c=1,f=null,p=null,m=null,g=null,y=null,x=null;const M=typeof XRWebGLBinding<"u",b=new Dj,_={},E=t.getContextAttributes();let C=null,P=null;const D=[],F=[],O=new ze;let U=null;const I=new Nr;I.viewport=new li;const k=new Nr;k.viewport=new li;const j=[I,k],W=new fN;let $=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let me=D[de];return me===void 0&&(me=new lx,D[de]=me),me.getTargetRaySpace()},this.getControllerGrip=function(de){let me=D[de];return me===void 0&&(me=new lx,D[de]=me),me.getGripSpace()},this.getHand=function(de){let me=D[de];return me===void 0&&(me=new lx,D[de]=me),me.getHandSpace()};function Z(de){const me=F.indexOf(de.inputSource);if(me===-1)return;const De=D[me];De!==void 0&&(De.update(de.inputSource,de.frame,f||o),De.dispatchEvent({type:de.type,data:de.inputSource}))}function te(){r.removeEventListener("select",Z),r.removeEventListener("selectstart",Z),r.removeEventListener("selectend",Z),r.removeEventListener("squeeze",Z),r.removeEventListener("squeezestart",Z),r.removeEventListener("squeezeend",Z),r.removeEventListener("end",te),r.removeEventListener("inputsourceschange",q);for(let de=0;de<D.length;de++){const me=F[de];me!==null&&(F[de]=null,D[de].disconnect(me))}$=null,se=null,b.reset();for(const de in _)delete _[de];e.setRenderTarget(C),y=null,g=null,m=null,r=null,P=null,Ue.stop(),n.isPresenting=!1,e.setPixelRatio(U),e.setSize(O.width,O.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){s=de,n.isPresenting===!0&&ht("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){a=de,n.isPresenting===!0&&ht("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(de){f=de},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return m===null&&M&&(m=new XRWebGLBinding(r,t)),m},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(de){if(r=de,r!==null){if(C=e.getRenderTarget(),r.addEventListener("select",Z),r.addEventListener("selectstart",Z),r.addEventListener("selectend",Z),r.addEventListener("squeeze",Z),r.addEventListener("squeezestart",Z),r.addEventListener("squeezeend",Z),r.addEventListener("end",te),r.addEventListener("inputsourceschange",q),E.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(O),M&&"createProjectionLayer"in XRWebGLBinding.prototype){let De=null,Be=null,We=null;E.depth&&(We=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,De=E.stencil?xc:bl,Be=E.stencil?Ip:fa);const yt={colorFormat:t.RGBA8,depthFormat:We,scaleFactor:s};m=this.getBinding(),g=m.createProjectionLayer(yt),r.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),P=new Uo(g.textureWidth,g.textureHeight,{format:Xr,type:Is,depthTexture:new Op(g.textureWidth,g.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,De),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const De={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(r,t,De),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),P=new Uo(y.framebufferWidth,y.framebufferHeight,{format:Xr,type:Is,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}P.isXRRenderTarget=!0,this.setFoveation(c),f=null,o=await r.requestReferenceSpace(a),Ue.setContext(r),Ue.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function q(de){for(let me=0;me<de.removed.length;me++){const De=de.removed[me],Be=F.indexOf(De);Be>=0&&(F[Be]=null,D[Be].disconnect(De))}for(let me=0;me<de.added.length;me++){const De=de.added[me];let Be=F.indexOf(De);if(Be===-1){for(let yt=0;yt<D.length;yt++)if(yt>=F.length){F.push(De),Be=yt;break}else if(F[yt]===null){F[yt]=De,Be=yt;break}if(Be===-1)break}const We=D[Be];We&&We.connect(De)}}const z=new ee,J=new ee;function V(de,me,De){z.setFromMatrixPosition(me.matrixWorld),J.setFromMatrixPosition(De.matrixWorld);const Be=z.distanceTo(J),We=me.projectionMatrix.elements,yt=De.projectionMatrix.elements,Bt=We[14]/(We[10]-1),qe=We[14]/(We[10]+1),Ce=(We[9]+1)/We[5],ke=(We[9]-1)/We[5],Le=(We[8]-1)/We[0],ae=(yt[8]+1)/yt[0],Q=Bt*Le,wt=Bt*ae,Je=Be/(-Le+ae),st=Je*-Le;if(me.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(st),de.translateZ(Je),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert(),We[10]===-1)de.projectionMatrix.copy(me.projectionMatrix),de.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const Ye=Bt+Je,K=qe+Je,H=Q-st,le=wt+(Be-st),Te=Ce*qe/K*Ye,Re=ke*qe/K*Ye;de.projectionMatrix.makePerspective(H,le,Te,Re,Ye,K),de.projectionMatrixInverse.copy(de.projectionMatrix).invert()}}function X(de,me){me===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(me.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(r===null)return;let me=de.near,De=de.far;b.texture!==null&&(b.depthNear>0&&(me=b.depthNear),b.depthFar>0&&(De=b.depthFar)),W.near=k.near=I.near=me,W.far=k.far=I.far=De,($!==W.near||se!==W.far)&&(r.updateRenderState({depthNear:W.near,depthFar:W.far}),$=W.near,se=W.far),W.layers.mask=de.layers.mask|6,I.layers.mask=W.layers.mask&3,k.layers.mask=W.layers.mask&5;const Be=de.parent,We=W.cameras;X(W,Be);for(let yt=0;yt<We.length;yt++)X(We[yt],Be);We.length===2?V(W,I,k):W.projectionMatrix.copy(I.projectionMatrix),oe(de,W,Be)};function oe(de,me,De){De===null?de.matrix.copy(me.matrixWorld):(de.matrix.copy(De.matrixWorld),de.matrix.invert(),de.matrix.multiply(me.matrixWorld)),de.matrix.decompose(de.position,de.quaternion,de.scale),de.updateMatrixWorld(!0),de.projectionMatrix.copy(me.projectionMatrix),de.projectionMatrixInverse.copy(me.projectionMatrixInverse),de.isPerspectiveCamera&&(de.fov=Dp*2*Math.atan(1/de.projectionMatrix.elements[5]),de.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(g===null&&y===null))return c},this.setFoveation=function(de){c=de,g!==null&&(g.fixedFoveation=de),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=de)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(W)},this.getCameraTexture=function(de){return _[de]};let ye=null;function Pe(de,me){if(p=me.getViewerPose(f||o),x=me,p!==null){const De=p.views;y!==null&&(e.setRenderTargetFramebuffer(P,y.framebuffer),e.setRenderTarget(P));let Be=!1;De.length!==W.cameras.length&&(W.cameras.length=0,Be=!0);for(let qe=0;qe<De.length;qe++){const Ce=De[qe];let ke=null;if(y!==null)ke=y.getViewport(Ce);else{const ae=m.getViewSubImage(g,Ce);ke=ae.viewport,qe===0&&(e.setRenderTargetTextures(P,ae.colorTexture,ae.depthStencilTexture),e.setRenderTarget(P))}let Le=j[qe];Le===void 0&&(Le=new Nr,Le.layers.enable(qe),Le.viewport=new li,j[qe]=Le),Le.matrix.fromArray(Ce.transform.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale),Le.projectionMatrix.fromArray(Ce.projectionMatrix),Le.projectionMatrixInverse.copy(Le.projectionMatrix).invert(),Le.viewport.set(ke.x,ke.y,ke.width,ke.height),qe===0&&(W.matrix.copy(Le.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),Be===!0&&W.cameras.push(Le)}const We=r.enabledFeatures;if(We&&We.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&M){m=n.getBinding();const qe=m.getDepthInformation(De[0]);qe&&qe.isValid&&qe.texture&&b.init(qe,r.renderState)}if(We&&We.includes("camera-access")&&M){e.state.unbindTexture(),m=n.getBinding();for(let qe=0;qe<De.length;qe++){const Ce=De[qe].camera;if(Ce){let ke=_[Ce];ke||(ke=new yT,_[Ce]=ke);const Le=m.getCameraImage(Ce);ke.sourceTexture=Le}}}}for(let De=0;De<D.length;De++){const Be=F[De],We=D[De];Be!==null&&We!==void 0&&We.update(Be,me,f||o)}ye&&ye(de,me),me.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:me}),x=null}const Ue=new vN;Ue.setAnimationLoop(Pe),this.setAnimationLoop=function(de){ye=de},this.dispose=function(){}}}const jf=new zo,Fj=new tn;function Oj(i,e){function t(b,_){b.matrixAutoUpdate===!0&&b.updateMatrix(),_.value.copy(b.matrix)}function n(b,_){_.color.getRGB(b.fogColor.value,xL(i)),_.isFog?(b.fogNear.value=_.near,b.fogFar.value=_.far):_.isFogExp2&&(b.fogDensity.value=_.density)}function r(b,_,E,C,P){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(b,_):_.isMeshToonMaterial?(s(b,_),m(b,_)):_.isMeshPhongMaterial?(s(b,_),p(b,_)):_.isMeshStandardMaterial?(s(b,_),g(b,_),_.isMeshPhysicalMaterial&&y(b,_,P)):_.isMeshMatcapMaterial?(s(b,_),x(b,_)):_.isMeshDepthMaterial?s(b,_):_.isMeshDistanceMaterial?(s(b,_),M(b,_)):_.isMeshNormalMaterial?s(b,_):_.isLineBasicMaterial?(o(b,_),_.isLineDashedMaterial&&a(b,_)):_.isPointsMaterial?c(b,_,E,C):_.isSpriteMaterial?f(b,_):_.isShadowMaterial?(b.color.value.copy(_.color),b.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(b,_){b.opacity.value=_.opacity,_.color&&b.diffuse.value.copy(_.color),_.emissive&&b.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(b.map.value=_.map,t(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.bumpMap&&(b.bumpMap.value=_.bumpMap,t(_.bumpMap,b.bumpMapTransform),b.bumpScale.value=_.bumpScale,_.side===Us&&(b.bumpScale.value*=-1)),_.normalMap&&(b.normalMap.value=_.normalMap,t(_.normalMap,b.normalMapTransform),b.normalScale.value.copy(_.normalScale),_.side===Us&&b.normalScale.value.negate()),_.displacementMap&&(b.displacementMap.value=_.displacementMap,t(_.displacementMap,b.displacementMapTransform),b.displacementScale.value=_.displacementScale,b.displacementBias.value=_.displacementBias),_.emissiveMap&&(b.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,b.emissiveMapTransform)),_.specularMap&&(b.specularMap.value=_.specularMap,t(_.specularMap,b.specularMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest);const E=e.get(_),C=E.envMap,P=E.envMapRotation;C&&(b.envMap.value=C,jf.copy(P),jf.x*=-1,jf.y*=-1,jf.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(jf.y*=-1,jf.z*=-1),b.envMapRotation.value.setFromMatrix4(Fj.makeRotationFromEuler(jf)),b.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=_.reflectivity,b.ior.value=_.ior,b.refractionRatio.value=_.refractionRatio),_.lightMap&&(b.lightMap.value=_.lightMap,b.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,b.lightMapTransform)),_.aoMap&&(b.aoMap.value=_.aoMap,b.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,b.aoMapTransform))}function o(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,_.map&&(b.map.value=_.map,t(_.map,b.mapTransform))}function a(b,_){b.dashSize.value=_.dashSize,b.totalSize.value=_.dashSize+_.gapSize,b.scale.value=_.scale}function c(b,_,E,C){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.size.value=_.size*E,b.scale.value=C*.5,_.map&&(b.map.value=_.map,t(_.map,b.uvTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function f(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.rotation.value=_.rotation,_.map&&(b.map.value=_.map,t(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function p(b,_){b.specular.value.copy(_.specular),b.shininess.value=Math.max(_.shininess,1e-4)}function m(b,_){_.gradientMap&&(b.gradientMap.value=_.gradientMap)}function g(b,_){b.metalness.value=_.metalness,_.metalnessMap&&(b.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,b.metalnessMapTransform)),b.roughness.value=_.roughness,_.roughnessMap&&(b.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,b.roughnessMapTransform)),_.envMap&&(b.envMapIntensity.value=_.envMapIntensity)}function y(b,_,E){b.ior.value=_.ior,_.sheen>0&&(b.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),b.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(b.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,b.sheenColorMapTransform)),_.sheenRoughnessMap&&(b.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,b.sheenRoughnessMapTransform))),_.clearcoat>0&&(b.clearcoat.value=_.clearcoat,b.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(b.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,b.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(b.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Us&&b.clearcoatNormalScale.value.negate())),_.dispersion>0&&(b.dispersion.value=_.dispersion),_.iridescence>0&&(b.iridescence.value=_.iridescence,b.iridescenceIOR.value=_.iridescenceIOR,b.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(b.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,b.iridescenceMapTransform)),_.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),_.transmission>0&&(b.transmission.value=_.transmission,b.transmissionSamplerMap.value=E.texture,b.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(b.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,b.transmissionMapTransform)),b.thickness.value=_.thickness,_.thicknessMap&&(b.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=_.attenuationDistance,b.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(b.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(b.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=_.specularIntensity,b.specularColor.value.copy(_.specularColor),_.specularColorMap&&(b.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,b.specularColorMapTransform)),_.specularIntensityMap&&(b.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,b.specularIntensityMapTransform))}function x(b,_){_.matcap&&(b.matcap.value=_.matcap)}function M(b,_){const E=e.get(_).light;b.referencePosition.value.setFromMatrixPosition(E.matrixWorld),b.nearDistance.value=E.shadow.camera.near,b.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Uj(i,e,t,n){let r={},s={},o=[];const a=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function c(E,C){const P=C.program;n.uniformBlockBinding(E,P)}function f(E,C){let P=r[E.id];P===void 0&&(x(E),P=p(E),r[E.id]=P,E.addEventListener("dispose",b));const D=C.program;n.updateUBOMapping(E,D);const F=e.render.frame;s[E.id]!==F&&(g(E),s[E.id]=F)}function p(E){const C=m();E.__bindingPointIndex=C;const P=i.createBuffer(),D=E.__size,F=E.usage;return i.bindBuffer(i.UNIFORM_BUFFER,P),i.bufferData(i.UNIFORM_BUFFER,D,F),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,P),P}function m(){for(let E=0;E<a;E++)if(o.indexOf(E)===-1)return o.push(E),E;return Ht("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(E){const C=r[E.id],P=E.uniforms,D=E.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let F=0,O=P.length;F<O;F++){const U=Array.isArray(P[F])?P[F]:[P[F]];for(let I=0,k=U.length;I<k;I++){const j=U[I];if(y(j,F,I,D)===!0){const W=j.__offset,$=Array.isArray(j.value)?j.value:[j.value];let se=0;for(let Z=0;Z<$.length;Z++){const te=$[Z],q=M(te);typeof te=="number"||typeof te=="boolean"?(j.__data[0]=te,i.bufferSubData(i.UNIFORM_BUFFER,W+se,j.__data)):te.isMatrix3?(j.__data[0]=te.elements[0],j.__data[1]=te.elements[1],j.__data[2]=te.elements[2],j.__data[3]=0,j.__data[4]=te.elements[3],j.__data[5]=te.elements[4],j.__data[6]=te.elements[5],j.__data[7]=0,j.__data[8]=te.elements[6],j.__data[9]=te.elements[7],j.__data[10]=te.elements[8],j.__data[11]=0):(te.toArray(j.__data,se),se+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,W,j.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function y(E,C,P,D){const F=E.value,O=C+"_"+P;if(D[O]===void 0)return typeof F=="number"||typeof F=="boolean"?D[O]=F:D[O]=F.clone(),!0;{const U=D[O];if(typeof F=="number"||typeof F=="boolean"){if(U!==F)return D[O]=F,!0}else if(U.equals(F)===!1)return U.copy(F),!0}return!1}function x(E){const C=E.uniforms;let P=0;const D=16;for(let O=0,U=C.length;O<U;O++){const I=Array.isArray(C[O])?C[O]:[C[O]];for(let k=0,j=I.length;k<j;k++){const W=I[k],$=Array.isArray(W.value)?W.value:[W.value];for(let se=0,Z=$.length;se<Z;se++){const te=$[se],q=M(te),z=P%D,J=z%q.boundary,V=z+J;P+=J,V!==0&&D-V<q.storage&&(P+=D-V),W.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=P,P+=q.storage}}}const F=P%D;return F>0&&(P+=D-F),E.__size=P,E.__cache={},this}function M(E){const C={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(C.boundary=4,C.storage=4):E.isVector2?(C.boundary=8,C.storage=8):E.isVector3||E.isColor?(C.boundary=16,C.storage=12):E.isVector4?(C.boundary=16,C.storage=16):E.isMatrix3?(C.boundary=48,C.storage=48):E.isMatrix4?(C.boundary=64,C.storage=64):E.isTexture?ht("WebGLRenderer: Texture samplers can not be part of an uniforms group."):ht("WebGLRenderer: Unsupported uniform value type.",E),C}function b(E){const C=E.target;C.removeEventListener("dispose",b);const P=o.indexOf(C.__bindingPointIndex);o.splice(P,1),i.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function _(){for(const E in r)i.deleteBuffer(r[E]);o=[],r={},s={}}return{bind:c,update:f,dispose:_}}const Bj=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let ul=null;function zj(){return ul===null&&(ul=new ua(Bj,16,16,wd,Ml),ul.name="DFG_LUT",ul.minFilter=ui,ul.magFilter=ui,ul.wrapS=ro,ul.wrapT=ro,ul.generateMipmaps=!1,ul.needsUpdate=!0),ul}class MN{constructor(e={}){const{canvas:t=gL(),context:n=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:m=!1,reversedDepthBuffer:g=!1,outputBufferType:y=Is}=e;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=o;const M=y,b=new Set([W_,G_,B0]),_=new Set([Is,fa,Rp,Ip,z_,V_]),E=new Uint32Array(4),C=new Int32Array(4);let P=null,D=null;const F=[],O=[];let U=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=la,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let k=!1;this._outputColorSpace=no;let j=0,W=0,$=null,se=-1,Z=null;const te=new li,q=new li;let z=null;const J=new Tt(0);let V=0,X=t.width,oe=t.height,ye=1,Pe=null,Ue=null;const de=new li(0,0,X,oe),me=new li(0,0,X,oe);let De=!1;const Be=new tm;let We=!1,yt=!1;const Bt=new tn,qe=new ee,Ce=new li,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Le=!1;function ae(){return $===null?ye:1}let Q=n;function wt(Y,fe){return t.getContext(Y,fe)}try{const Y={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${F_}`),t.addEventListener("webglcontextlost",Vt,!1),t.addEventListener("webglcontextrestored",Mn,!1),t.addEventListener("webglcontextcreationerror",ft,!1),Q===null){const fe="webgl2";if(Q=wt(fe,Y),Q===null)throw wt(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw Ht("WebGLRenderer: "+Y.message),Y}let Je,st,Ye,K,H,le,Te,Re,be,ct,$e,pt,vt,He,et,xt,St,Qe,Yt,re,ot,Ve,it,Oe;function Ne(){Je=new V7(Q),Je.init(),Ve=new wN(Q,Je),st=new L7(Q,Je,e,Ve),Ye=new Rj(Q,Je),st.reversedDepthBuffer&&g&&Ye.buffers.depth.setReversed(!0),K=new W7(Q),H=new mj,le=new Ij(Q,Je,Ye,H,st,Ve,K),Te=new D7(I),Re=new z7(I),be=new qH(Q),it=new R7(Q,be),ct=new H7(Q,be,K,it),$e=new X7(Q,ct,be,K),Yt=new j7(Q,st,le),xt=new N7(H),pt=new pj(I,Te,Re,Je,st,it,xt),vt=new Oj(I,H),He=new vj,et=new Mj(Je),Qe=new P7(I,Te,Re,Ye,$e,x,c),St=new Cj(I,$e,st),Oe=new Uj(Q,K,st,Ye),re=new I7(Q,Je,K),ot=new G7(Q,Je,K),K.programs=pt.programs,I.capabilities=st,I.extensions=Je,I.properties=H,I.renderLists=He,I.shadowMap=St,I.state=Ye,I.info=K}Ne(),M!==Is&&(U=new q7(M,t.width,t.height,r,s));const tt=new kj(I,Q);this.xr=tt,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const Y=Je.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Je.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return ye},this.setPixelRatio=function(Y){Y!==void 0&&(ye=Y,this.setSize(X,oe,!1))},this.getSize=function(Y){return Y.set(X,oe)},this.setSize=function(Y,fe,Me=!0){if(tt.isPresenting){ht("WebGLRenderer: Can't change size while VR device is presenting.");return}X=Y,oe=fe,t.width=Math.floor(Y*ye),t.height=Math.floor(fe*ye),Me===!0&&(t.style.width=Y+"px",t.style.height=fe+"px"),U!==null&&U.setSize(t.width,t.height),this.setViewport(0,0,Y,fe)},this.getDrawingBufferSize=function(Y){return Y.set(X*ye,oe*ye).floor()},this.setDrawingBufferSize=function(Y,fe,Me){X=Y,oe=fe,ye=Me,t.width=Math.floor(Y*Me),t.height=Math.floor(fe*Me),this.setViewport(0,0,Y,fe)},this.setEffects=function(Y){if(M===Is){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(Y){for(let fe=0;fe<Y.length;fe++)if(Y[fe].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}U.setEffects(Y||[])},this.getCurrentViewport=function(Y){return Y.copy(te)},this.getViewport=function(Y){return Y.copy(de)},this.setViewport=function(Y,fe,Me,Se){Y.isVector4?de.set(Y.x,Y.y,Y.z,Y.w):de.set(Y,fe,Me,Se),Ye.viewport(te.copy(de).multiplyScalar(ye).round())},this.getScissor=function(Y){return Y.copy(me)},this.setScissor=function(Y,fe,Me,Se){Y.isVector4?me.set(Y.x,Y.y,Y.z,Y.w):me.set(Y,fe,Me,Se),Ye.scissor(q.copy(me).multiplyScalar(ye).round())},this.getScissorTest=function(){return De},this.setScissorTest=function(Y){Ye.setScissorTest(De=Y)},this.setOpaqueSort=function(Y){Pe=Y},this.setTransparentSort=function(Y){Ue=Y},this.getClearColor=function(Y){return Y.copy(Qe.getClearColor())},this.setClearColor=function(){Qe.setClearColor(...arguments)},this.getClearAlpha=function(){return Qe.getClearAlpha()},this.setClearAlpha=function(){Qe.setClearAlpha(...arguments)},this.clear=function(Y=!0,fe=!0,Me=!0){let Se=0;if(Y){let ve=!1;if($!==null){const Ke=$.texture.format;ve=b.has(Ke)}if(ve){const Ke=$.texture.type,at=_.has(Ke),Fe=Qe.getClearColor(),je=Qe.getClearAlpha(),dt=Fe.r,At=Fe.g,bt=Fe.b;at?(E[0]=dt,E[1]=At,E[2]=bt,E[3]=je,Q.clearBufferuiv(Q.COLOR,0,E)):(C[0]=dt,C[1]=At,C[2]=bt,C[3]=je,Q.clearBufferiv(Q.COLOR,0,C))}else Se|=Q.COLOR_BUFFER_BIT}fe&&(Se|=Q.DEPTH_BUFFER_BIT),Me&&(Se|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Vt,!1),t.removeEventListener("webglcontextrestored",Mn,!1),t.removeEventListener("webglcontextcreationerror",ft,!1),Qe.dispose(),He.dispose(),et.dispose(),H.dispose(),Te.dispose(),Re.dispose(),$e.dispose(),it.dispose(),Oe.dispose(),pt.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",Jn),tt.removeEventListener("sessionend",Zt),In.stop()};function Vt(Y){Y.preventDefault(),v0("WebGLRenderer: Context Lost."),k=!0}function Mn(){v0("WebGLRenderer: Context Restored."),k=!1;const Y=K.autoReset,fe=St.enabled,Me=St.autoUpdate,Se=St.needsUpdate,ve=St.type;Ne(),K.autoReset=Y,St.enabled=fe,St.autoUpdate=Me,St.needsUpdate=Se,St.type=ve}function ft(Y){Ht("WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Ct(Y){const fe=Y.target;fe.removeEventListener("dispose",Ct),Kt(fe)}function Kt(Y){ut(Y),H.remove(Y)}function ut(Y){const fe=H.get(Y).programs;fe!==void 0&&(fe.forEach(function(Me){pt.releaseProgram(Me)}),Y.isShaderMaterial&&pt.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,fe,Me,Se,ve,Ke){fe===null&&(fe=ke);const at=ve.isMesh&&ve.matrixWorld.determinant()<0,Fe=yi(Y,fe,Me,Se,ve);Ye.setMaterial(Se,at);let je=Me.index,dt=1;if(Se.wireframe===!0){if(je=ct.getWireframeAttribute(Me),je===void 0)return;dt=2}const At=Me.drawRange,bt=Me.attributes.position;let en=At.start*dt,yn=(At.start+At.count)*dt;Ke!==null&&(en=Math.max(en,Ke.start*dt),yn=Math.min(yn,(Ke.start+Ke.count)*dt)),je!==null?(en=Math.max(en,0),yn=Math.min(yn,je.count)):bt!=null&&(en=Math.max(en,0),yn=Math.min(yn,bt.count));const hn=yn-en;if(hn<0||hn===1/0)return;it.setup(ve,Se,Fe,Me,je);let Bn,Ln=re;if(je!==null&&(Bn=be.get(je),Ln=ot,Ln.setIndex(Bn)),ve.isMesh)Se.wireframe===!0?(Ye.setLineWidth(Se.wireframeLinewidth*ae()),Ln.setMode(Q.LINES)):Ln.setMode(Q.TRIANGLES);else if(ve.isLine){let Gt=Se.linewidth;Gt===void 0&&(Gt=1),Ye.setLineWidth(Gt*ae()),ve.isLineSegments?Ln.setMode(Q.LINES):ve.isLineLoop?Ln.setMode(Q.LINE_LOOP):Ln.setMode(Q.LINE_STRIP)}else ve.isPoints?Ln.setMode(Q.POINTS):ve.isSprite&&Ln.setMode(Q.TRIANGLES);if(ve.isBatchedMesh)if(ve._multiDrawInstances!==null)Np("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ln.renderMultiDrawInstances(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount,ve._multiDrawInstances);else if(Je.get("WEBGL_multi_draw"))Ln.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else{const Gt=ve._multiDrawStarts,Cn=ve._multiDrawCounts,_n=ve._multiDrawCount,Qn=je?be.get(je).bytesPerElement:1,Go=H.get(Se).currentProgram.getUniforms();for(let Hi=0;Hi<_n;Hi++)Go.setValue(Q,"_gl_DrawID",Hi),Ln.render(Gt[Hi]/Qn,Cn[Hi])}else if(ve.isInstancedMesh)Ln.renderInstances(en,hn,ve.count);else if(Me.isInstancedBufferGeometry){const Gt=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,Cn=Math.min(Me.instanceCount,Gt);Ln.renderInstances(en,hn,Cn)}else Ln.render(en,hn)};function jt(Y,fe,Me){Y.transparent===!0&&Y.side===Ga&&Y.forceSinglePass===!1?(Y.side=Us,Y.needsUpdate=!0,Un(Y,fe,Me),Y.side=bu,Y.needsUpdate=!0,Un(Y,fe,Me),Y.side=Ga):Un(Y,fe,Me)}this.compile=function(Y,fe,Me=null){Me===null&&(Me=Y),D=et.get(Me),D.init(fe),O.push(D),Me.traverseVisible(function(ve){ve.isLight&&ve.layers.test(fe.layers)&&(D.pushLight(ve),ve.castShadow&&D.pushShadow(ve))}),Y!==Me&&Y.traverseVisible(function(ve){ve.isLight&&ve.layers.test(fe.layers)&&(D.pushLight(ve),ve.castShadow&&D.pushShadow(ve))}),D.setupLights();const Se=new Set;return Y.traverse(function(ve){if(!(ve.isMesh||ve.isPoints||ve.isLine||ve.isSprite))return;const Ke=ve.material;if(Ke)if(Array.isArray(Ke))for(let at=0;at<Ke.length;at++){const Fe=Ke[at];jt(Fe,Me,ve),Se.add(Fe)}else jt(Ke,Me,ve),Se.add(Ke)}),D=O.pop(),Se},this.compileAsync=function(Y,fe,Me=null){const Se=this.compile(Y,fe,Me);return new Promise(ve=>{function Ke(){if(Se.forEach(function(at){H.get(at).currentProgram.isReady()&&Se.delete(at)}),Se.size===0){ve(Y);return}setTimeout(Ke,10)}Je.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let Ot=null;function Wt(Y){Ot&&Ot(Y)}function Jn(){In.stop()}function Zt(){In.start()}const In=new vN;In.setAnimationLoop(Wt),typeof self<"u"&&In.setContext(self),this.setAnimationLoop=function(Y){Ot=Y,tt.setAnimationLoop(Y),Y===null?In.stop():In.start()},tt.addEventListener("sessionstart",Jn),tt.addEventListener("sessionend",Zt),this.render=function(Y,fe){if(fe!==void 0&&fe.isCamera!==!0){Ht("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const Me=tt.enabled===!0&&tt.isPresenting===!0,Se=U!==null&&($===null||Me)&&U.begin(I,$);if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(U===null||U.isCompositing()===!1)&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(fe),fe=tt.getCamera()),Y.isScene===!0&&Y.onBeforeRender(I,Y,fe,$),D=et.get(Y,O.length),D.init(fe),O.push(D),Bt.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),Be.setFromProjectionMatrix(Bt,Do,fe.reversedDepth),yt=this.localClippingEnabled,We=xt.init(this.clippingPlanes,yt),P=He.get(Y,F.length),P.init(),F.push(P),tt.enabled===!0&&tt.isPresenting===!0){const at=I.xr.getDepthSensingMesh();at!==null&&vi(at,fe,-1/0,I.sortObjects)}vi(Y,fe,0,I.sortObjects),P.finish(),I.sortObjects===!0&&P.sort(Pe,Ue),Le=tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1,Le&&Qe.addToRenderList(P,Y),this.info.render.frame++,We===!0&&xt.beginShadows();const ve=D.state.shadowsArray;if(St.render(ve,Y,fe),We===!0&&xt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Se&&U.hasRenderPass())===!1){const at=P.opaque,Fe=P.transmissive;if(D.setupLights(),fe.isArrayCamera){const je=fe.cameras;if(Fe.length>0)for(let dt=0,At=je.length;dt<At;dt++){const bt=je[dt];Wn(at,Fe,Y,bt)}Le&&Qe.render(Y);for(let dt=0,At=je.length;dt<At;dt++){const bt=je[dt];Kn(P,Y,bt,bt.viewport)}}else Fe.length>0&&Wn(at,Fe,Y,fe),Le&&Qe.render(Y),Kn(P,Y,fe)}$!==null&&W===0&&(le.updateMultisampleRenderTarget($),le.updateRenderTargetMipmap($)),Se&&U.end(I),Y.isScene===!0&&Y.onAfterRender(I,Y,fe),it.resetDefaultState(),se=-1,Z=null,O.pop(),O.length>0?(D=O[O.length-1],We===!0&&xt.setGlobalState(I.clippingPlanes,D.state.camera)):D=null,F.pop(),F.length>0?P=F[F.length-1]:P=null};function vi(Y,fe,Me,Se){if(Y.visible===!1)return;if(Y.layers.test(fe.layers)){if(Y.isGroup)Me=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(fe);else if(Y.isLight)D.pushLight(Y),Y.castShadow&&D.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||Be.intersectsSprite(Y)){Se&&Ce.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(Bt);const at=$e.update(Y),Fe=Y.material;Fe.visible&&P.push(Y,at,Fe,Me,Ce.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||Be.intersectsObject(Y))){const at=$e.update(Y),Fe=Y.material;if(Se&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Ce.copy(Y.boundingSphere.center)):(at.boundingSphere===null&&at.computeBoundingSphere(),Ce.copy(at.boundingSphere.center)),Ce.applyMatrix4(Y.matrixWorld).applyMatrix4(Bt)),Array.isArray(Fe)){const je=at.groups;for(let dt=0,At=je.length;dt<At;dt++){const bt=je[dt],en=Fe[bt.materialIndex];en&&en.visible&&P.push(Y,at,en,Me,Ce.z,bt)}}else Fe.visible&&P.push(Y,at,Fe,Me,Ce.z,null)}}const Ke=Y.children;for(let at=0,Fe=Ke.length;at<Fe;at++)vi(Ke[at],fe,Me,Se)}function Kn(Y,fe,Me,Se){const{opaque:ve,transmissive:Ke,transparent:at}=Y;D.setupLightsView(Me),We===!0&&xt.setGlobalState(I.clippingPlanes,Me),Se&&Ye.viewport(te.copy(Se)),ve.length>0&&dn(ve,fe,Me),Ke.length>0&&dn(Ke,fe,Me),at.length>0&&dn(at,fe,Me),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function Wn(Y,fe,Me,Se){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;if(D.state.transmissionRenderTarget[Se.id]===void 0){const en=Je.has("EXT_color_buffer_half_float")||Je.has("EXT_color_buffer_float");D.state.transmissionRenderTarget[Se.id]=new Uo(1,1,{generateMipmaps:!0,type:en?Ml:Is,minFilter:pl,samples:st.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:kn.workingColorSpace})}const Ke=D.state.transmissionRenderTarget[Se.id],at=Se.viewport||te;Ke.setSize(at.z*I.transmissionResolutionScale,at.w*I.transmissionResolutionScale);const Fe=I.getRenderTarget(),je=I.getActiveCubeFace(),dt=I.getActiveMipmapLevel();I.setRenderTarget(Ke),I.getClearColor(J),V=I.getClearAlpha(),V<1&&I.setClearColor(16777215,.5),I.clear(),Le&&Qe.render(Me);const At=I.toneMapping;I.toneMapping=la;const bt=Se.viewport;if(Se.viewport!==void 0&&(Se.viewport=void 0),D.setupLightsView(Se),We===!0&&xt.setGlobalState(I.clippingPlanes,Se),dn(Y,Me,Se),le.updateMultisampleRenderTarget(Ke),le.updateRenderTargetMipmap(Ke),Je.has("WEBGL_multisampled_render_to_texture")===!1){let en=!1;for(let yn=0,hn=fe.length;yn<hn;yn++){const Bn=fe[yn],{object:Ln,geometry:Gt,material:Cn,group:_n}=Bn;if(Cn.side===Ga&&Ln.layers.test(Se.layers)){const Qn=Cn.side;Cn.side=Us,Cn.needsUpdate=!0,ur(Ln,Me,Se,Gt,Cn,_n),Cn.side=Qn,Cn.needsUpdate=!0,en=!0}}en===!0&&(le.updateMultisampleRenderTarget(Ke),le.updateRenderTargetMipmap(Ke))}I.setRenderTarget(Fe,je,dt),I.setClearColor(J,V),bt!==void 0&&(Se.viewport=bt),I.toneMapping=At}function dn(Y,fe,Me){const Se=fe.isScene===!0?fe.overrideMaterial:null;for(let ve=0,Ke=Y.length;ve<Ke;ve++){const at=Y[ve],{object:Fe,geometry:je,group:dt}=at;let At=at.material;At.allowOverride===!0&&Se!==null&&(At=Se),Fe.layers.test(Me.layers)&&ur(Fe,fe,Me,je,At,dt)}}function ur(Y,fe,Me,Se,ve,Ke){Y.onBeforeRender(I,fe,Me,Se,ve,Ke),Y.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),ve.onBeforeRender(I,fe,Me,Se,Y,Ke),ve.transparent===!0&&ve.side===Ga&&ve.forceSinglePass===!1?(ve.side=Us,ve.needsUpdate=!0,I.renderBufferDirect(Me,fe,Se,ve,Y,Ke),ve.side=bu,ve.needsUpdate=!0,I.renderBufferDirect(Me,fe,Se,ve,Y,Ke),ve.side=Ga):I.renderBufferDirect(Me,fe,Se,ve,Y,Ke),Y.onAfterRender(I,fe,Me,Se,ve,Ke)}function Un(Y,fe,Me){fe.isScene!==!0&&(fe=ke);const Se=H.get(Y),ve=D.state.lights,Ke=D.state.shadowsArray,at=ve.state.version,Fe=pt.getParameters(Y,ve.state,Ke,fe,Me),je=pt.getProgramCacheKey(Fe);let dt=Se.programs;Se.environment=Y.isMeshStandardMaterial?fe.environment:null,Se.fog=fe.fog,Se.envMap=(Y.isMeshStandardMaterial?Re:Te).get(Y.envMap||Se.environment),Se.envMapRotation=Se.environment!==null&&Y.envMap===null?fe.environmentRotation:Y.envMapRotation,dt===void 0&&(Y.addEventListener("dispose",Ct),dt=new Map,Se.programs=dt);let At=dt.get(je);if(At!==void 0){if(Se.currentProgram===At&&Se.lightsStateVersion===at)return Mr(Y,Fe),At}else Fe.uniforms=pt.getUniforms(Y),Y.onBeforeCompile(Fe,I),At=pt.acquireProgram(Fe,je),dt.set(je,At),Se.uniforms=Fe.uniforms;const bt=Se.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(bt.clippingPlanes=xt.uniform),Mr(Y,Fe),Se.needsLights=Ti(Y),Se.lightsStateVersion=at,Se.needsLights&&(bt.ambientLightColor.value=ve.state.ambient,bt.lightProbe.value=ve.state.probe,bt.directionalLights.value=ve.state.directional,bt.directionalLightShadows.value=ve.state.directionalShadow,bt.spotLights.value=ve.state.spot,bt.spotLightShadows.value=ve.state.spotShadow,bt.rectAreaLights.value=ve.state.rectArea,bt.ltc_1.value=ve.state.rectAreaLTC1,bt.ltc_2.value=ve.state.rectAreaLTC2,bt.pointLights.value=ve.state.point,bt.pointLightShadows.value=ve.state.pointShadow,bt.hemisphereLights.value=ve.state.hemi,bt.directionalShadowMap.value=ve.state.directionalShadowMap,bt.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,bt.spotShadowMap.value=ve.state.spotShadowMap,bt.spotLightMatrix.value=ve.state.spotLightMatrix,bt.spotLightMap.value=ve.state.spotLightMap,bt.pointShadowMap.value=ve.state.pointShadowMap,bt.pointShadowMatrix.value=ve.state.pointShadowMatrix),Se.currentProgram=At,Se.uniformsList=null,At}function Vi(Y){if(Y.uniformsList===null){const fe=Y.currentProgram.getUniforms();Y.uniformsList=ux.seqWithValue(fe.seq,Y.uniforms)}return Y.uniformsList}function Mr(Y,fe){const Me=H.get(Y);Me.outputColorSpace=fe.outputColorSpace,Me.batching=fe.batching,Me.batchingColor=fe.batchingColor,Me.instancing=fe.instancing,Me.instancingColor=fe.instancingColor,Me.instancingMorph=fe.instancingMorph,Me.skinning=fe.skinning,Me.morphTargets=fe.morphTargets,Me.morphNormals=fe.morphNormals,Me.morphColors=fe.morphColors,Me.morphTargetsCount=fe.morphTargetsCount,Me.numClippingPlanes=fe.numClippingPlanes,Me.numIntersection=fe.numClipIntersection,Me.vertexAlphas=fe.vertexAlphas,Me.vertexTangents=fe.vertexTangents,Me.toneMapping=fe.toneMapping}function yi(Y,fe,Me,Se,ve){fe.isScene!==!0&&(fe=ke),le.resetTextureUnits();const Ke=fe.fog,at=Se.isMeshStandardMaterial?fe.environment:null,Fe=$===null?I.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:Md,je=(Se.isMeshStandardMaterial?Re:Te).get(Se.envMap||at),dt=Se.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,At=!!Me.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),bt=!!Me.morphAttributes.position,en=!!Me.morphAttributes.normal,yn=!!Me.morphAttributes.color;let hn=la;Se.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(hn=I.toneMapping);const Bn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,Ln=Bn!==void 0?Bn.length:0,Gt=H.get(Se),Cn=D.state.lights;if(We===!0&&(yt===!0||Y!==Z)){const Ei=Y===Z&&Se.id===se;xt.setState(Se,Y,Ei)}let _n=!1;Se.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==Cn.state.version||Gt.outputColorSpace!==Fe||ve.isBatchedMesh&&Gt.batching===!1||!ve.isBatchedMesh&&Gt.batching===!0||ve.isBatchedMesh&&Gt.batchingColor===!0&&ve.colorTexture===null||ve.isBatchedMesh&&Gt.batchingColor===!1&&ve.colorTexture!==null||ve.isInstancedMesh&&Gt.instancing===!1||!ve.isInstancedMesh&&Gt.instancing===!0||ve.isSkinnedMesh&&Gt.skinning===!1||!ve.isSkinnedMesh&&Gt.skinning===!0||ve.isInstancedMesh&&Gt.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&Gt.instancingColor===!1&&ve.instanceColor!==null||ve.isInstancedMesh&&Gt.instancingMorph===!0&&ve.morphTexture===null||ve.isInstancedMesh&&Gt.instancingMorph===!1&&ve.morphTexture!==null||Gt.envMap!==je||Se.fog===!0&&Gt.fog!==Ke||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==xt.numPlanes||Gt.numIntersection!==xt.numIntersection)||Gt.vertexAlphas!==dt||Gt.vertexTangents!==At||Gt.morphTargets!==bt||Gt.morphNormals!==en||Gt.morphColors!==yn||Gt.toneMapping!==hn||Gt.morphTargetsCount!==Ln)&&(_n=!0):(_n=!0,Gt.__version=Se.version);let Qn=Gt.currentProgram;_n===!0&&(Qn=Un(Se,fe,ve));let Go=!1,Hi=!1,Cl=!1;const Nn=Qn.getUniforms(),Jt=Gt.uniforms;if(Ye.useProgram(Qn.program)&&(Go=!0,Hi=!0,Cl=!0),Se.id!==se&&(se=Se.id,Hi=!0),Go||Z!==Y){Ye.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),Nn.setValue(Q,"projectionMatrix",Y.projectionMatrix),Nn.setValue(Q,"viewMatrix",Y.matrixWorldInverse);const Zi=Nn.map.cameraPosition;Zi!==void 0&&Zi.setValue(Q,qe.setFromMatrixPosition(Y.matrixWorld)),st.logarithmicDepthBuffer&&Nn.setValue(Q,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&Nn.setValue(Q,"isOrthographic",Y.isOrthographicCamera===!0),Z!==Y&&(Z=Y,Hi=!0,Cl=!0)}if(Gt.needsLights&&(Cn.state.directionalShadowMap.length>0&&Nn.setValue(Q,"directionalShadowMap",Cn.state.directionalShadowMap,le),Cn.state.spotShadowMap.length>0&&Nn.setValue(Q,"spotShadowMap",Cn.state.spotShadowMap,le),Cn.state.pointShadowMap.length>0&&Nn.setValue(Q,"pointShadowMap",Cn.state.pointShadowMap,le)),ve.isSkinnedMesh){Nn.setOptional(Q,ve,"bindMatrix"),Nn.setOptional(Q,ve,"bindMatrixInverse");const Ei=ve.skeleton;Ei&&(Ei.boneTexture===null&&Ei.computeBoneTexture(),Nn.setValue(Q,"boneTexture",Ei.boneTexture,le))}ve.isBatchedMesh&&(Nn.setOptional(Q,ve,"batchingTexture"),Nn.setValue(Q,"batchingTexture",ve._matricesTexture,le),Nn.setOptional(Q,ve,"batchingIdTexture"),Nn.setValue(Q,"batchingIdTexture",ve._indirectTexture,le),Nn.setOptional(Q,ve,"batchingColorTexture"),ve._colorsTexture!==null&&Nn.setValue(Q,"batchingColorTexture",ve._colorsTexture,le));const Gi=Me.morphAttributes;if((Gi.position!==void 0||Gi.normal!==void 0||Gi.color!==void 0)&&Yt.update(ve,Me,Qn),(Hi||Gt.receiveShadow!==ve.receiveShadow)&&(Gt.receiveShadow=ve.receiveShadow,Nn.setValue(Q,"receiveShadow",ve.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(Jt.envMap.value=je,Jt.flipEnvMap.value=je.isCubeTexture&&je.isRenderTargetTexture===!1?-1:1),Se.isMeshStandardMaterial&&Se.envMap===null&&fe.environment!==null&&(Jt.envMapIntensity.value=fe.environmentIntensity),Jt.dfgLUT!==void 0&&(Jt.dfgLUT.value=zj()),Hi&&(Nn.setValue(Q,"toneMappingExposure",I.toneMappingExposure),Gt.needsLights&&xi(Jt,Cl),Ke&&Se.fog===!0&&vt.refreshFogUniforms(Jt,Ke),vt.refreshMaterialUniforms(Jt,Se,ye,oe,D.state.transmissionRenderTarget[Y.id]),ux.upload(Q,Vi(Gt),Jt,le)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(ux.upload(Q,Vi(Gt),Jt,le),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&Nn.setValue(Q,"center",ve.center),Nn.setValue(Q,"modelViewMatrix",ve.modelViewMatrix),Nn.setValue(Q,"normalMatrix",ve.normalMatrix),Nn.setValue(Q,"modelMatrix",ve.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const Ei=Se.uniformsGroups;for(let Zi=0,Cu=Ei.length;Zi<Cu;Zi++){const zs=Ei[Zi];Oe.update(zs,Qn),Oe.bind(zs,Qn)}}return Qn}function xi(Y,fe){Y.ambientLightColor.needsUpdate=fe,Y.lightProbe.needsUpdate=fe,Y.directionalLights.needsUpdate=fe,Y.directionalLightShadows.needsUpdate=fe,Y.pointLights.needsUpdate=fe,Y.pointLightShadows.needsUpdate=fe,Y.spotLights.needsUpdate=fe,Y.spotLightShadows.needsUpdate=fe,Y.rectAreaLights.needsUpdate=fe,Y.hemisphereLights.needsUpdate=fe}function Ti(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return $},this.setRenderTargetTextures=function(Y,fe,Me){const Se=H.get(Y);Se.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Se.__autoAllocateDepthBuffer===!1&&(Se.__useRenderToTexture=!1),H.get(Y.texture).__webglTexture=fe,H.get(Y.depthTexture).__webglTexture=Se.__autoAllocateDepthBuffer?void 0:Me,Se.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,fe){const Me=H.get(Y);Me.__webglFramebuffer=fe,Me.__useDefaultFramebuffer=fe===void 0};const po=Q.createFramebuffer();this.setRenderTarget=function(Y,fe=0,Me=0){$=Y,j=fe,W=Me;let Se=null,ve=!1,Ke=!1;if(Y){const Fe=H.get(Y);if(Fe.__useDefaultFramebuffer!==void 0){Ye.bindFramebuffer(Q.FRAMEBUFFER,Fe.__webglFramebuffer),te.copy(Y.viewport),q.copy(Y.scissor),z=Y.scissorTest,Ye.viewport(te),Ye.scissor(q),Ye.setScissorTest(z),se=-1;return}else if(Fe.__webglFramebuffer===void 0)le.setupRenderTarget(Y);else if(Fe.__hasExternalTextures)le.rebindTextures(Y,H.get(Y.texture).__webglTexture,H.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const At=Y.depthTexture;if(Fe.__boundDepthTexture!==At){if(At!==null&&H.has(At)&&(Y.width!==At.image.width||Y.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");le.setupDepthRenderbuffer(Y)}}const je=Y.texture;(je.isData3DTexture||je.isDataArrayTexture||je.isCompressedArrayTexture)&&(Ke=!0);const dt=H.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(dt[fe])?Se=dt[fe][Me]:Se=dt[fe],ve=!0):Y.samples>0&&le.useMultisampledRTT(Y)===!1?Se=H.get(Y).__webglMultisampledFramebuffer:Array.isArray(dt)?Se=dt[Me]:Se=dt,te.copy(Y.viewport),q.copy(Y.scissor),z=Y.scissorTest}else te.copy(de).multiplyScalar(ye).floor(),q.copy(me).multiplyScalar(ye).floor(),z=De;if(Me!==0&&(Se=po),Ye.bindFramebuffer(Q.FRAMEBUFFER,Se)&&Ye.drawBuffers(Y,Se),Ye.viewport(te),Ye.scissor(q),Ye.setScissorTest(z),ve){const Fe=H.get(Y.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Fe.__webglTexture,Me)}else if(Ke){const Fe=fe;for(let je=0;je<Y.textures.length;je++){const dt=H.get(Y.textures[je]);Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+je,dt.__webglTexture,Me,Fe)}}else if(Y!==null&&Me!==0){const Fe=H.get(Y.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Fe.__webglTexture,Me)}se=-1},this.readRenderTargetPixels=function(Y,fe,Me,Se,ve,Ke,at,Fe=0){if(!(Y&&Y.isWebGLRenderTarget)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let je=H.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&at!==void 0&&(je=je[at]),je){Ye.bindFramebuffer(Q.FRAMEBUFFER,je);try{const dt=Y.textures[Fe],At=dt.format,bt=dt.type;if(!st.textureFormatReadable(At)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!st.textureTypeReadable(bt)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=Y.width-Se&&Me>=0&&Me<=Y.height-ve&&(Y.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+Fe),Q.readPixels(fe,Me,Se,ve,Ve.convert(At),Ve.convert(bt),Ke))}finally{const dt=$!==null?H.get($).__webglFramebuffer:null;Ye.bindFramebuffer(Q.FRAMEBUFFER,dt)}}},this.readRenderTargetPixelsAsync=async function(Y,fe,Me,Se,ve,Ke,at,Fe=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let je=H.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&at!==void 0&&(je=je[at]),je)if(fe>=0&&fe<=Y.width-Se&&Me>=0&&Me<=Y.height-ve){Ye.bindFramebuffer(Q.FRAMEBUFFER,je);const dt=Y.textures[Fe],At=dt.format,bt=dt.type;if(!st.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!st.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const en=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,en),Q.bufferData(Q.PIXEL_PACK_BUFFER,Ke.byteLength,Q.STREAM_READ),Y.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+Fe),Q.readPixels(fe,Me,Se,ve,Ve.convert(At),Ve.convert(bt),0);const yn=$!==null?H.get($).__webglFramebuffer:null;Ye.bindFramebuffer(Q.FRAMEBUFFER,yn);const hn=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await qV(Q,hn,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,en),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,Ke),Q.deleteBuffer(en),Q.deleteSync(hn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,fe=null,Me=0){const Se=Math.pow(2,-Me),ve=Math.floor(Y.image.width*Se),Ke=Math.floor(Y.image.height*Se),at=fe!==null?fe.x:0,Fe=fe!==null?fe.y:0;le.setTexture2D(Y,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Me,0,0,at,Fe,ve,Ke),Ye.unbindTexture()};const Ya=Q.createFramebuffer(),an=Q.createFramebuffer();this.copyTextureToTexture=function(Y,fe,Me=null,Se=null,ve=0,Ke=null){Ke===null&&(ve!==0?(Np("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=ve,ve=0):Ke=0);let at,Fe,je,dt,At,bt,en,yn,hn;const Bn=Y.isCompressedTexture?Y.mipmaps[Ke]:Y.image;if(Me!==null)at=Me.max.x-Me.min.x,Fe=Me.max.y-Me.min.y,je=Me.isBox3?Me.max.z-Me.min.z:1,dt=Me.min.x,At=Me.min.y,bt=Me.isBox3?Me.min.z:0;else{const Gi=Math.pow(2,-ve);at=Math.floor(Bn.width*Gi),Fe=Math.floor(Bn.height*Gi),Y.isDataArrayTexture?je=Bn.depth:Y.isData3DTexture?je=Math.floor(Bn.depth*Gi):je=1,dt=0,At=0,bt=0}Se!==null?(en=Se.x,yn=Se.y,hn=Se.z):(en=0,yn=0,hn=0);const Ln=Ve.convert(fe.format),Gt=Ve.convert(fe.type);let Cn;fe.isData3DTexture?(le.setTexture3D(fe,0),Cn=Q.TEXTURE_3D):fe.isDataArrayTexture||fe.isCompressedArrayTexture?(le.setTexture2DArray(fe,0),Cn=Q.TEXTURE_2D_ARRAY):(le.setTexture2D(fe,0),Cn=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,fe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,fe.unpackAlignment);const _n=Q.getParameter(Q.UNPACK_ROW_LENGTH),Qn=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Go=Q.getParameter(Q.UNPACK_SKIP_PIXELS),Hi=Q.getParameter(Q.UNPACK_SKIP_ROWS),Cl=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Bn.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Bn.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,dt),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,At),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,bt);const Nn=Y.isDataArrayTexture||Y.isData3DTexture,Jt=fe.isDataArrayTexture||fe.isData3DTexture;if(Y.isDepthTexture){const Gi=H.get(Y),Ei=H.get(fe),Zi=H.get(Gi.__renderTarget),Cu=H.get(Ei.__renderTarget);Ye.bindFramebuffer(Q.READ_FRAMEBUFFER,Zi.__webglFramebuffer),Ye.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Cu.__webglFramebuffer);for(let zs=0;zs<je;zs++)Nn&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,H.get(Y).__webglTexture,ve,bt+zs),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,H.get(fe).__webglTexture,Ke,hn+zs)),Q.blitFramebuffer(dt,At,at,Fe,en,yn,at,Fe,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Ye.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(ve!==0||Y.isRenderTargetTexture||H.has(Y)){const Gi=H.get(Y),Ei=H.get(fe);Ye.bindFramebuffer(Q.READ_FRAMEBUFFER,Ya),Ye.bindFramebuffer(Q.DRAW_FRAMEBUFFER,an);for(let Zi=0;Zi<je;Zi++)Nn?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Gi.__webglTexture,ve,bt+Zi):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Gi.__webglTexture,ve),Jt?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Ei.__webglTexture,Ke,hn+Zi):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Ei.__webglTexture,Ke),ve!==0?Q.blitFramebuffer(dt,At,at,Fe,en,yn,at,Fe,Q.COLOR_BUFFER_BIT,Q.NEAREST):Jt?Q.copyTexSubImage3D(Cn,Ke,en,yn,hn+Zi,dt,At,at,Fe):Q.copyTexSubImage2D(Cn,Ke,en,yn,dt,At,at,Fe);Ye.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Jt?Y.isDataTexture||Y.isData3DTexture?Q.texSubImage3D(Cn,Ke,en,yn,hn,at,Fe,je,Ln,Gt,Bn.data):fe.isCompressedArrayTexture?Q.compressedTexSubImage3D(Cn,Ke,en,yn,hn,at,Fe,je,Ln,Bn.data):Q.texSubImage3D(Cn,Ke,en,yn,hn,at,Fe,je,Ln,Gt,Bn):Y.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,Ke,en,yn,at,Fe,Ln,Gt,Bn.data):Y.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,Ke,en,yn,Bn.width,Bn.height,Ln,Bn.data):Q.texSubImage2D(Q.TEXTURE_2D,Ke,en,yn,at,Fe,Ln,Gt,Bn);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,_n),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Qn),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Go),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Hi),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Cl),Ke===0&&fe.generateMipmaps&&Q.generateMipmap(Cn),Ye.unbindTexture()},this.initRenderTarget=function(Y){H.get(Y).__webglFramebuffer===void 0&&le.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?le.setTextureCube(Y,0):Y.isData3DTexture?le.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?le.setTexture2DArray(Y,0):le.setTexture2D(Y,0),Ye.unbindTexture()},this.resetState=function(){j=0,W=0,$=null,Ye.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Do}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=kn._getDrawingBufferColorSpace(e),t.unpackColorSpace=kn._getUnpackColorSpace()}}const Vj=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:O_,AddEquation:vc,AddOperation:tL,AdditiveAnimationBlendMode:lT,AdditiveBlending:AM,AgXToneMapping:Qb,AlphaFormat:oT,AlwaysCompare:hL,AlwaysDepth:Ix,AlwaysStencilFunc:IM,AmbientLight:oN,AnimationAction:pN,AnimationClip:M0,AnimationLoader:U8,AnimationMixer:hH,AnimationObjectGroup:fH,AnimationUtils:D8,ArcCurve:NL,ArrayCamera:fN,ArrowHelper:BH,AttachedBindMode:RM,Audio:dN,AudioAnalyser:tH,AudioContext:kT,AudioListener:J8,AudioLoader:$8,AxesHelper:zH,BackSide:Us,BasicDepthPacking:oL,BasicShadowMap:kI,BatchedMesh:AL,Bone:gT,BooleanKeyframeTrack:Rd,Box2:MH,Box3:fs,Box3Helper:OH,BoxGeometry:Pd,BoxHelper:FH,BufferAttribute:ii,BufferGeometry:un,BufferGeometryLoader:cN,ByteType:nT,Cache:ml,Camera:z0,CameraHelper:kH,CanvasTexture:i8,CapsuleGeometry:n1,CatmullRomCurve3:DL,CineonToneMapping:Zb,CircleGeometry:i1,ClampToEdgeWrapping:ro,Clock:FT,Color:Tt,ColorKeyframeTrack:IT,ColorManagement:kn,CompressedArrayTexture:t8,CompressedCubeTexture:n8,CompressedTexture:t1,CompressedTextureLoader:B8,ConeGeometry:G0,ConstantAlphaFactor:JI,ConstantColorFactor:KI,Controls:HH,CubeCamera:SL,CubeDepthTexture:IL,CubeReflectionMapping:wl,CubeRefractionMapping:Lc,CubeTexture:V0,CubeTextureLoader:z8,CubeUVReflectionMapping:Qp,CubicBezierCurve:_T,CubicBezierCurve3:kL,CubicInterpolant:JL,CullFaceBack:EM,CullFaceFront:DI,CullFaceFrontBack:rV,CullFaceNone:NI,Curve:Xa,CurvePath:OL,CustomBlending:FI,CustomToneMapping:Jb,CylinderGeometry:H0,Cylindrical:wH,Data3DTexture:$_,DataArrayTexture:q_,DataTexture:ua,DataTextureLoader:V8,DataUtils:E6,DecrementStencilOp:wV,DecrementWrapStencilOp:bV,DefaultLoadingManager:tN,DepthFormat:bl,DepthStencilFormat:xc,DepthTexture:Op,DetachedBindMode:nL,DirectionalLight:sN,DirectionalLightHelper:DH,DiscreteInterpolant:QL,DodecahedronGeometry:r1,DoubleSide:Ga,DstAlphaFactor:jI,DstColorFactor:YI,DynamicCopyUsage:BV,DynamicDrawUsage:NV,DynamicReadUsage:FV,EdgesGeometry:LL,EllipseCurve:s1,EqualCompare:cL,EqualDepth:Nx,EqualStencilFunc:CV,EquirectangularReflectionMapping:u0,EquirectangularRefractionMapping:c0,Euler:zo,EventDispatcher:El,ExternalTexture:yT,ExtrudeGeometry:o1,FileLoader:Tu,Float16BufferAttribute:N6,Float32BufferAttribute:Rt,FloatType:Os,Fog:Z_,FogExp2:K_,FramebufferTexture:e8,FrontSide:bu,Frustum:tm,FrustumArray:e1,GLBufferAttribute:yH,GLSL1:VV,GLSL3:LM,GreaterCompare:fL,GreaterDepth:kx,GreaterEqualCompare:Y_,GreaterEqualDepth:Dx,GreaterEqualStencilFunc:LV,GreaterStencilFunc:RV,GridHelper:LH,Group:mp,HalfFloatType:Ml,HemisphereLight:nN,HemisphereLightHelper:IH,IcosahedronGeometry:a1,ImageBitmapLoader:q8,ImageLoader:b0,ImageUtils:vL,IncrementStencilOp:SV,IncrementWrapStencilOp:MV,InstancedBufferAttribute:Fp,InstancedBufferGeometry:uN,InstancedInterleavedBuffer:vH,InstancedMesh:EL,Int16BufferAttribute:I6,Int32BufferAttribute:L6,Int8BufferAttribute:C6,IntType:B_,InterleavedBuffer:J_,InterleavedBufferAttribute:bd,Interpolant:X0,InterpolateDiscrete:d0,InterpolateLinear:m_,InterpolateSmooth:ax,InterpolationSamplingMode:WV,InterpolationSamplingType:GV,InvertStencilOp:TV,KeepStencilOp:$f,KeyframeTrack:da,LOD:bL,LatheGeometry:l1,Layers:fd,LessCompare:uL,LessDepth:Lx,LessEqualCompare:X_,LessEqualDepth:_d,LessEqualStencilFunc:PV,LessStencilFunc:AV,Light:Gc,LightProbe:lN,Line:Dc,Line3:EH,LineBasicMaterial:Bs,LineCurve:ST,LineCurve3:FL,LineDashedMaterial:KL,LineLoop:CL,LineSegments:Al,LinearFilter:ui,LinearInterpolant:RT,LinearMipMapLinearFilter:lV,LinearMipMapNearestFilter:aV,LinearMipmapLinearFilter:pl,LinearMipmapNearestFilter:Fg,LinearSRGBColorSpace:Md,LinearToneMapping:$b,LinearTransfer:p0,Loader:ho,LoaderUtils:OM,LoadingManager:LT,LoopOnce:iL,LoopPingPong:sL,LoopRepeat:rL,MOUSE:nV,Material:hs,MaterialLoader:m1,MathUtils:f6,Matrix2:zT,Matrix3:fn,Matrix4:tn,MaxEquation:zI,Mesh:lr,MeshBasicMaterial:Vc,MeshDepthMaterial:AT,MeshDistanceMaterial:CT,MeshLambertMaterial:qL,MeshMatcapMaterial:$L,MeshNormalMaterial:YL,MeshPhongMaterial:jL,MeshPhysicalMaterial:WL,MeshStandardMaterial:ET,MeshToonMaterial:XL,MinEquation:BI,MirroredRepeatWrapping:f0,MixOperation:eL,MultiplyBlending:PM,MultiplyOperation:U0,NearestFilter:$i,NearestMipMapLinearFilter:oV,NearestMipMapNearestFilter:sV,NearestMipmapLinearFilter:hp,NearestMipmapNearestFilter:tT,NeutralToneMapping:eT,NeverCompare:lL,NeverDepth:Rx,NeverStencilFunc:EV,NoBlending:xl,NoColorSpace:vu,NoNormalPacking:gV,NoToneMapping:la,NormalAnimationBlendMode:j_,NormalBlending:ud,NormalGAPacking:yV,NormalRGPacking:vV,NotEqualCompare:dL,NotEqualDepth:Fx,NotEqualStencilFunc:IV,NumberKeyframeTrack:S0,Object3D:Hn,ObjectLoader:X8,ObjectSpaceNormalMap:aL,OctahedronGeometry:W0,OneFactor:HI,OneMinusConstantAlphaFactor:QI,OneMinusConstantColorFactor:ZI,OneMinusDstAlphaFactor:XI,OneMinusDstColorFactor:qI,OneMinusSrcAlphaFactor:Px,OneMinusSrcColorFactor:WI,OrthographicCamera:im,PCFShadowMap:Sp,PCFSoftShadowMap:kg,PMREMGenerator:zM,Path:x_,PerspectiveCamera:Nr,Plane:gc,PlaneGeometry:nm,PlaneHelper:UH,PointLight:rN,PointLightHelper:PH,Points:PL,PointsMaterial:vT,PolarGridHelper:NH,PolyhedronGeometry:Hc,PositionalAudio:eH,PropertyBinding:Vn,PropertyMixer:hN,QuadraticBezierCurve:wT,QuadraticBezierCurve3:MT,Quaternion:so,QuaternionKeyframeTrack:Y0,QuaternionLinearInterpolant:eN,R11_EAC_Format:Wx,RED_GREEN_RGTC2_Format:h_,RED_RGTC1_Format:f_,REVISION:F_,RG11_EAC_Format:Xx,RGBADepthPacking:hV,RGBAFormat:Xr,RGBAIntegerFormat:W_,RGBA_ASTC_10x10_Format:s_,RGBA_ASTC_10x5_Format:n_,RGBA_ASTC_10x6_Format:i_,RGBA_ASTC_10x8_Format:r_,RGBA_ASTC_12x10_Format:o_,RGBA_ASTC_12x12_Format:a_,RGBA_ASTC_4x4_Format:qx,RGBA_ASTC_5x4_Format:$x,RGBA_ASTC_5x5_Format:Kx,RGBA_ASTC_6x5_Format:Zx,RGBA_ASTC_6x6_Format:Jx,RGBA_ASTC_8x5_Format:Qx,RGBA_ASTC_8x6_Format:e_,RGBA_ASTC_8x8_Format:t_,RGBA_BPTC_Format:l_,RGBA_ETC2_EAC_Format:Gx,RGBA_PVRTC_2BPPV1_Format:zx,RGBA_PVRTC_4BPPV1_Format:Bx,RGBA_S3TC_DXT1_Format:Ug,RGBA_S3TC_DXT3_Format:Bg,RGBA_S3TC_DXT5_Format:zg,RGBDepthPacking:pV,RGBFormat:aT,RGBIntegerFormat:uV,RGB_BPTC_SIGNED_Format:u_,RGB_BPTC_UNSIGNED_Format:c_,RGB_ETC1_Format:Vx,RGB_ETC2_Format:Hx,RGB_PVRTC_2BPPV1_Format:Ux,RGB_PVRTC_4BPPV1_Format:Ox,RGB_S3TC_DXT1_Format:Og,RGDepthPacking:mV,RGFormat:wd,RGIntegerFormat:G_,RawShaderMaterial:TT,Ray:em,Raycaster:mN,RectAreaLight:aN,RedFormat:H_,RedIntegerFormat:B0,ReinhardToneMapping:Kb,RenderTarget:cT,RenderTarget3D:pH,RepeatWrapping:Sd,ReplaceStencilOp:_V,ReverseSubtractEquation:UI,RingGeometry:u1,SIGNED_R11_EAC_Format:jx,SIGNED_RED_GREEN_RGTC2_Format:p_,SIGNED_RED_RGTC1_Format:d_,SIGNED_RG11_EAC_Format:Yx,SRGBColorSpace:no,SRGBTransfer:qn,Scene:pT,ShaderChunk:vn,ShaderLib:Ha,ShaderMaterial:co,ShadowMaterial:GL,Shape:dd,ShapeGeometry:c1,ShapePath:VH,ShapeUtils:Wa,ShortType:iT,Skeleton:Q_,SkeletonHelper:CH,SkinnedMesh:TL,Source:_c,Sphere:qr,SphereGeometry:j0,Spherical:SH,SphericalHarmonics3:DT,SplineCurve:bT,SpotLight:iN,SpotLightHelper:AH,Sprite:ML,SpriteMaterial:mT,SrcAlphaFactor:Cx,SrcAlphaSaturateFactor:$I,SrcColorFactor:GI,StaticCopyUsage:UV,StaticDrawUsage:m0,StaticReadUsage:kV,StereoCamera:K8,StreamCopyUsage:zV,StreamDrawUsage:DV,StreamReadUsage:OV,StringKeyframeTrack:Id,SubtractEquation:OI,SubtractiveBlending:CM,TOUCH:iV,TangentSpaceNormalMap:zc,TetrahedronGeometry:f1,Texture:zi,TextureLoader:H8,TextureUtils:YH,Timer:xH,TimestampQuery:HV,TorusGeometry:d1,TorusKnotGeometry:h1,Triangle:io,TriangleFanDrawMode:dV,TriangleStripDrawMode:fV,TrianglesDrawMode:cV,TubeGeometry:p1,UVMapping:U_,Uint16BufferAttribute:fT,Uint32BufferAttribute:dT,Uint8BufferAttribute:P6,Uint8ClampedBufferAttribute:R6,Uniform:BT,UniformsGroup:gH,UniformsLib:gt,UniformsUtils:_L,UnsignedByteType:Is,UnsignedInt101111Type:sT,UnsignedInt248Type:Ip,UnsignedInt5999Type:rT,UnsignedIntType:fa,UnsignedShort4444Type:z_,UnsignedShort5551Type:V_,UnsignedShortType:Rp,VSMShadowMap:nd,Vector2:ze,Vector3:ee,Vector4:li,VectorKeyframeTrack:w0,VideoFrameTexture:Q6,VideoTexture:RL,WebGL3DRenderTarget:g6,WebGLArrayRenderTarget:m6,WebGLCoordinateSystem:Do,WebGLCubeRenderTarget:hT,WebGLRenderTarget:Uo,WebGLRenderer:MN,WebGLUtils:wN,WebGPUCoordinateSystem:Lp,WebXRController:lx,WireframeGeometry:HL,WrapAroundEnding:h0,ZeroCurvatureEnding:id,ZeroFactor:VI,ZeroSlopeEnding:rd,ZeroStencilOp:xV,createCanvasElement:gL,error:Ht,getConsoleFunction:YV,log:v0,setConsoleFunction:XV,warn:ht,warnOnce:Np},Symbol.toStringTag,{value:"Module"}));var ww={exports:{}},hc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function Hj(){return g3||(g3=1,hc.ConcurrentRoot=1,hc.ContinuousEventPriority=4,hc.DefaultEventPriority=16,hc.DiscreteEventPriority=1,hc.IdleEventPriority=536870912,hc.LegacyRoot=0),hc}var v3;function Gj(){return v3||(v3=1,ww.exports=Hj()),ww.exports}var gp=Gj();function Wj(i){let e;const t=new Set,n=(f,p)=>{const m=typeof f=="function"?f(e):f;if(m!==e){const g=e;e=p?m:Object.assign({},e,m),t.forEach(y=>y(e,g))}},r=()=>e,s=(f,p=r,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=p(e);function y(){const x=p(e);if(!m(g,x)){const M=g;f(g=x,M)}}return t.add(y),()=>t.delete(y)},c={setState:n,getState:r,subscribe:(f,p,m)=>p||m?s(f,p,m):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=i(n,r,c),c}const jj=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),y3=jj?ce.useEffect:ce.useLayoutEffect;function Xj(i){const e=typeof i=="function"?Wj(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=ce.useReducer(b=>b+1,0),o=e.getState(),a=ce.useRef(o),c=ce.useRef(n),f=ce.useRef(r),p=ce.useRef(!1),m=ce.useRef();m.current===void 0&&(m.current=n(o));let g,y=!1;(a.current!==o||c.current!==n||f.current!==r||p.current)&&(g=n(o),y=!r(m.current,g)),y3(()=>{y&&(m.current=g),a.current=o,c.current=n,f.current=r,p.current=!1});const x=ce.useRef(o);y3(()=>{const b=()=>{try{const E=e.getState(),C=c.current(E);f.current(m.current,C)||(a.current=E,m.current=C,s())}catch{p.current=!0,s()}},_=e.subscribe(b);return e.getState()!==x.current&&b(),_},[]);const M=y?g:m.current;return ce.useDebugValue(M),M};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}var Mw={exports:{}},bw={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function Yj(){return x3||(x3=1,(function(i){function e(z,J){var V=z.length;z.push(J);e:for(;0<V;){var X=V-1>>>1,oe=z[X];if(0<r(oe,J))z[X]=J,z[V]=oe,V=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],V=z.pop();if(V!==J){z[0]=V;e:for(var X=0,oe=z.length,ye=oe>>>1;X<ye;){var Pe=2*(X+1)-1,Ue=z[Pe],de=Pe+1,me=z[de];if(0>r(Ue,V))de<oe&&0>r(me,Ue)?(z[X]=me,z[de]=V,X=de):(z[X]=Ue,z[Pe]=V,X=Pe);else if(de<oe&&0>r(me,V))z[X]=me,z[de]=V,X=de;else break e}}return J}function r(z,J){var V=z.sortIndex-J.sortIndex;return V!==0?V:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var c=[],f=[],p=1,m=null,g=3,y=!1,x=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var J=t(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=z)n(f),J.sortIndex=J.expirationTime,e(c,J);else break;J=t(f)}}function P(z){if(M=!1,C(z),!x)if(t(c)!==null)x=!0,te(D);else{var J=t(f);J!==null&&q(P,J.startTime-z)}}function D(z,J){x=!1,M&&(M=!1,_(U),U=-1),y=!0;var V=g;try{for(C(J),m=t(c);m!==null&&(!(m.expirationTime>J)||z&&!j());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var oe=X(m.expirationTime<=J);J=i.unstable_now(),typeof oe=="function"?m.callback=oe:m===t(c)&&n(c),C(J)}else n(c);m=t(c)}if(m!==null)var ye=!0;else{var Pe=t(f);Pe!==null&&q(P,Pe.startTime-J),ye=!1}return ye}finally{m=null,g=V,y=!1}}var F=!1,O=null,U=-1,I=5,k=-1;function j(){return!(i.unstable_now()-k<I)}function W(){if(O!==null){var z=i.unstable_now();k=z;var J=!0;try{J=O(!0,z)}finally{J?$():(F=!1,O=null)}}else F=!1}var $;if(typeof E=="function")$=function(){E(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=W,$=function(){Z.postMessage(null)}}else $=function(){b(W,0)};function te(z){O=z,F||(F=!0,$())}function q(z,J){U=b(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){x||y||(x=!0,te(D))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var V=g;g=J;try{return z()}finally{g=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=g;g=z;try{return J()}finally{g=V}},i.unstable_scheduleCallback=function(z,J,V){var X=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,z={id:p++,callback:J,priorityLevel:z,startTime:V,expirationTime:oe,sortIndex:-1},V>X?(z.sortIndex=V,e(f,z),t(c)===null&&z===t(f)&&(M?(_(U),U=-1):M=!0,q(P,V-X))):(z.sortIndex=oe,e(c,z),x||y||(x=!0,te(D))),z},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(z){var J=g;return function(){var V=g;g=J;try{return z.apply(this,arguments)}finally{g=V}}}})(Tw)),Tw}var _3;function qj(){return _3||(_3=1,bw.exports=Yj()),bw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew,S3;function $j(){return S3||(S3=1,Ew=function(e){var t={},n=Yp(),r=qj(),s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),D=Symbol.iterator;function F(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}function O(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case p:return"Fragment";case f:return"Portal";case g:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case x:return(d.displayName||"Context")+".Consumer";case y:return(d._context.displayName||"Context")+".Provider";case M:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case E:return h=d.displayName||null,h!==null?h:O(d.type)||"Memo";case C:h=d._payload,d=d._init;try{return O(d(h))}catch{}}return null}function U(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(h);case 8:return h===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function I(d){var h=d,S=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(S=h.return),d=h.return;while(d)}return h.tag===3?S:null}function k(d){if(I(d)!==d)throw Error(o(188))}function j(d){var h=d.alternate;if(!h){if(h=I(d),h===null)throw Error(o(188));return h!==d?null:d}for(var S=d,T=h;;){var R=S.return;if(R===null)break;var B=R.alternate;if(B===null){if(T=R.return,T!==null){S=T;continue}break}if(R.child===B.child){for(B=R.child;B;){if(B===S)return k(R),d;if(B===T)return k(R),h;B=B.sibling}throw Error(o(188))}if(S.return!==T.return)S=R,T=B;else{for(var ne=!1,pe=R.child;pe;){if(pe===S){ne=!0,S=R,T=B;break}if(pe===T){ne=!0,T=R,S=B;break}pe=pe.sibling}if(!ne){for(pe=B.child;pe;){if(pe===S){ne=!0,S=B,T=R;break}if(pe===T){ne=!0,T=B,S=R;break}pe=pe.sibling}if(!ne)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?d:h}function W(d){return d=j(d),d!==null?$(d):null}function $(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=$(d);if(h!==null)return h;d=d.sibling}return null}function se(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=se(d);if(h!==null)return h}d=d.sibling}return null}var Z=Array.isArray,te=e.getPublicInstance,q=e.getRootHostContext,z=e.getChildHostContext,J=e.prepareForCommit,V=e.resetAfterCommit,X=e.createInstance,oe=e.appendInitialChild,ye=e.finalizeInitialChildren,Pe=e.prepareUpdate,Ue=e.shouldSetTextContent,de=e.createTextInstance,me=e.scheduleTimeout,De=e.cancelTimeout,Be=e.noTimeout,We=e.isPrimaryRenderer,yt=e.supportsMutation,Bt=e.supportsPersistence,qe=e.supportsHydration,Ce=e.getInstanceFromNode,ke=e.preparePortalMount,Le=e.getCurrentEventPriority,ae=e.detachDeletedInstance,Q=e.supportsMicrotasks,wt=e.scheduleMicrotask,Je=e.supportsTestSelectors,st=e.findFiberRoot,Ye=e.getBoundingRect,K=e.getTextContent,H=e.isHiddenSubtree,le=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Re=e.setupIntersectionObserver,be=e.appendChild,ct=e.appendChildToContainer,$e=e.commitTextUpdate,pt=e.commitMount,vt=e.commitUpdate,He=e.insertBefore,et=e.insertInContainerBefore,xt=e.removeChild,St=e.removeChildFromContainer,Qe=e.resetTextContent,Yt=e.hideInstance,re=e.hideTextInstance,ot=e.unhideInstance,Ve=e.unhideTextInstance,it=e.clearContainer,Oe=e.cloneInstance,Ne=e.createContainerChildSet,tt=e.appendChildToContainerChildSet,Vt=e.finalizeContainerChildren,Mn=e.replaceContainerChildren,ft=e.cloneHiddenInstance,Ct=e.cloneHiddenTextInstance,Kt=e.canHydrateInstance,ut=e.canHydrateTextInstance,jt=e.canHydrateSuspenseInstance,Ot=e.isSuspenseInstancePending,Wt=e.isSuspenseInstanceFallback,Jn=e.registerSuspenseInstanceRetry,Zt=e.getNextHydratableSibling,In=e.getFirstHydratableChild,vi=e.getFirstHydratableChildWithinContainer,Kn=e.getFirstHydratableChildWithinSuspenseInstance,Wn=e.hydrateInstance,dn=e.hydrateTextInstance,ur=e.hydrateSuspenseInstance,Un=e.getNextHydratableInstanceAfterSuspenseInstance,Vi=e.commitHydratedContainer,Mr=e.commitHydratedSuspenseInstance,yi=e.clearSuspenseBoundary,xi=e.clearSuspenseBoundaryFromContainer,Ti=e.shouldDeleteUnhydratedTailInstances,po=e.didNotMatchHydratedContainerTextInstance,Ya=e.didNotMatchHydratedTextInstance,an;function Y(d){if(an===void 0)try{throw Error()}catch(S){var h=S.stack.trim().match(/\n( *(at )?)/);an=h&&h[1]||""}return`
`+an+d}var fe=!1;function Me(d,h){if(!d||fe)return"";fe=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(nt){var T=nt}Reflect.construct(d,[],h)}else{try{h.call()}catch(nt){T=nt}d.call(h.prototype)}else{try{throw Error()}catch(nt){T=nt}d()}}catch(nt){if(nt&&T&&typeof nt.stack=="string"){for(var R=nt.stack.split(`
`),B=T.stack.split(`
`),ne=R.length-1,pe=B.length-1;1<=ne&&0<=pe&&R[ne]!==B[pe];)pe--;for(;1<=ne&&0<=pe;ne--,pe--)if(R[ne]!==B[pe]){if(ne!==1||pe!==1)do if(ne--,pe--,0>pe||R[ne]!==B[pe]){var Ie=`
`+R[ne].replace(" at new "," at ");return d.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",d.displayName)),Ie}while(1<=ne&&0<=pe);break}}}finally{fe=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?Y(d):""}var Se=Object.prototype.hasOwnProperty,ve=[],Ke=-1;function at(d){return{current:d}}function Fe(d){0>Ke||(d.current=ve[Ke],ve[Ke]=null,Ke--)}function je(d,h){Ke++,ve[Ke]=d.current,d.current=h}var dt={},At=at(dt),bt=at(!1),en=dt;function yn(d,h){var S=d.type.contextTypes;if(!S)return dt;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var R={},B;for(B in S)R[B]=h[B];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=R),R}function hn(d){return d=d.childContextTypes,d!=null}function Bn(){Fe(bt),Fe(At)}function Ln(d,h,S){if(At.current!==dt)throw Error(o(168));je(At,h),je(bt,S)}function Gt(d,h,S){var T=d.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var R in T)if(!(R in h))throw Error(o(108,U(d)||"Unknown",R));return s({},S,T)}function Cn(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||dt,en=At.current,je(At,d),je(bt,bt.current),!0}function _n(d,h,S){var T=d.stateNode;if(!T)throw Error(o(169));S?(d=Gt(d,h,en),T.__reactInternalMemoizedMergedChildContext=d,Fe(bt),Fe(At),je(At,d)):Fe(bt),je(bt,S)}var Qn=Math.clz32?Math.clz32:Cl,Go=Math.log,Hi=Math.LN2;function Cl(d){return d>>>=0,d===0?32:31-(Go(d)/Hi|0)|0}var Nn=64,Jt=4194304;function Gi(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ei(d,h){var S=d.pendingLanes;if(S===0)return 0;var T=0,R=d.suspendedLanes,B=d.pingedLanes,ne=S&268435455;if(ne!==0){var pe=ne&~R;pe!==0?T=Gi(pe):(B&=ne,B!==0&&(T=Gi(B)))}else ne=S&~R,ne!==0?T=Gi(ne):B!==0&&(T=Gi(B));if(T===0)return 0;if(h!==0&&h!==T&&(h&R)===0&&(R=T&-T,B=h&-h,R>=B||R===16&&(B&4194240)!==0))return h;if((T&4)!==0&&(T|=S&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=T;0<h;)S=31-Qn(h),R=1<<S,T|=d[S],h&=~R;return T}function Zi(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(d,h){for(var S=d.suspendedLanes,T=d.pingedLanes,R=d.expirationTimes,B=d.pendingLanes;0<B;){var ne=31-Qn(B),pe=1<<ne,Ie=R[ne];Ie===-1?((pe&S)===0||(pe&T)!==0)&&(R[ne]=Zi(pe,h)):Ie<=h&&(d.expiredLanes|=pe),B&=~pe}}function zs(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Nd(d){for(var h=[],S=0;31>S;S++)h.push(d);return h}function Pl(d,h,S){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Qn(h),d[h]=S}function Dd(d,h){var S=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<S;){var R=31-Qn(S),B=1<<R;h[R]=0,T[R]=-1,d[R]=-1,S&=~B}}function Wo(d,h){var S=d.entangledLanes|=h;for(d=d.entanglements;S;){var T=31-Qn(S),R=1<<T;R&h|d[T]&h&&(d[T]|=h),S&=~R}}var gn=0;function ha(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Rl=r.unstable_scheduleCallback,Pu=r.unstable_cancelCallback,qa=r.unstable_shouldYield,w1=r.unstable_requestPaint,Wi=r.unstable_now,Il=r.unstable_ImmediatePriority,M1=r.unstable_UserBlockingPriority,kd=r.unstable_NormalPriority,Fd=r.unstable_IdlePriority,jc=null,jo=null;function Xc(d){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(jc,d,void 0,(d.current.flags&128)===128)}catch{}}function Yc(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var kr=typeof Object.is=="function"?Object.is:Yc,Vs=null,Od=!1,sm=!1;function Ud(d){Vs===null?Vs=[d]:Vs.push(d)}function Bd(d){Od=!0,Ud(d)}function Hs(){if(!sm&&Vs!==null){sm=!0;var d=0,h=gn;try{var S=Vs;for(gn=1;d<S.length;d++){var T=S[d];do T=T(!0);while(T!==null)}Vs=null,Od=!1}catch(R){throw Vs!==null&&(Vs=Vs.slice(d+1)),Rl(Il,Hs),R}finally{gn=h,sm=!1}}return null}var K0=a.ReactCurrentBatchConfig;function mo(d,h){if(kr(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var S=Object.keys(d),T=Object.keys(h);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var R=S[T];if(!Se.call(h,R)||!kr(d[R],h[R]))return!1}return!0}function om(d){switch(d.tag){case 5:return Y(d.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return d=Me(d.type,!1),d;case 11:return d=Me(d.type.render,!1),d;case 1:return d=Me(d.type,!0),d;default:return""}}function Kr(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var S in d)h[S]===void 0&&(h[S]=d[S]);return h}return h}var qc=at(null),Ll=null,pa=null,zd=null;function Fr(){zd=pa=Ll=null}function Nl(d,h,S){We?(je(qc,h._currentValue),h._currentValue=S):(je(qc,h._currentValue2),h._currentValue2=S)}function $c(d){var h=qc.current;Fe(qc),We?d._currentValue=h:d._currentValue2=h}function Dl(d,h,S){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===S)break;d=d.return}}function Ru(d,h){Ll=d,zd=pa=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(tr=!0),d.firstContext=null)}function Zr(d){var h=We?d._currentValue:d._currentValue2;if(zd!==d)if(d={context:d,memoizedValue:h,next:null},pa===null){if(Ll===null)throw Error(o(308));pa=d,Ll.dependencies={lanes:0,firstContext:d}}else pa=pa.next=d;return h}var Gs=null,Ws=!1;function Iu(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ma(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function $a(d,h){var S=d.updateQueue;S!==null&&(S=S.shared,Ci!==null&&(d.mode&1)!==0&&(cn&2)===0?(d=S.interleaved,d===null?(h.next=h,Gs===null?Gs=[S]:Gs.push(S)):(h.next=d.next,d.next=h),S.interleaved=h):(d=S.pending,d===null?h.next=h:(h.next=d.next,d.next=h),S.pending=h))}function Vd(d,h,S){if(h=h.updateQueue,h!==null&&(h=h.shared,(S&4194240)!==0)){var T=h.lanes;T&=d.pendingLanes,S|=T,h.lanes=S,Wo(d,S)}}function Hd(d,h){var S=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var R=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};B===null?R=B=ne:B=B.next=ne,S=S.next}while(S!==null);B===null?R=B=h:B=B.next=h}else R=B=h;S={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:B,shared:T.shared,effects:T.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=h:d.next=h,S.lastBaseUpdate=h}function Gd(d,h,S,T){var R=d.updateQueue;Ws=!1;var B=R.firstBaseUpdate,ne=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var Ie=pe,nt=Ie.next;Ie.next=null,ne===null?B=nt:ne.next=nt,ne=Ie;var Et=d.alternate;Et!==null&&(Et=Et.updateQueue,pe=Et.lastBaseUpdate,pe!==ne&&(pe===null?Et.firstBaseUpdate=nt:pe.next=nt,Et.lastBaseUpdate=Ie))}if(B!==null){var rn=R.baseState;ne=0,Et=nt=Ie=null,pe=B;do{var Xt=pe.lane,pn=pe.eventTime;if((T&Xt)===Xt){Et!==null&&(Et=Et.next={eventTime:pn,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var _t=d,mr=pe;switch(Xt=h,pn=S,mr.tag){case 1:if(_t=mr.payload,typeof _t=="function"){rn=_t.call(pn,rn,Xt);break e}rn=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=mr.payload,Xt=typeof _t=="function"?_t.call(pn,rn,Xt):_t,Xt==null)break e;rn=s({},rn,Xt);break e;case 2:Ws=!0}}pe.callback!==null&&pe.lane!==0&&(d.flags|=64,Xt=R.effects,Xt===null?R.effects=[pe]:Xt.push(pe))}else pn={eventTime:pn,lane:Xt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Et===null?(nt=Et=pn,Ie=rn):Et=Et.next=pn,ne|=Xt;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;Xt=pe,pe=Xt.next,Xt.next=null,R.lastBaseUpdate=Xt,R.shared.pending=null}}while(!0);if(Et===null&&(Ie=rn),R.baseState=Ie,R.firstBaseUpdate=nt,R.lastBaseUpdate=Et,h=R.shared.interleaved,h!==null){R=h;do ne|=R.lane,R=R.next;while(R!==h)}else B===null&&(R.shared.lanes=0);$o|=ne,d.lanes=ne,d.memoizedState=rn}}function Z0(d,h,S){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var T=d[h],R=T.callback;if(R!==null){if(T.callback=null,T=S,typeof R!="function")throw Error(o(191,R));R.call(T)}}}var J0=new n.Component().refs;function lm(d,h,S,T){h=d.memoizedState,S=S(T,h),S=S==null?h:s({},h,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var Wd={isMounted:function(d){return(d=d._reactInternals)?I(d)===d:!1},enqueueSetState:function(d,h,S){d=d._reactInternals;var T=On(),R=wo(d),B=ma(T,R);B.payload=h,S!=null&&(B.callback=S),$a(d,B),h=Er(d,R,T),h!==null&&Vd(h,d,R)},enqueueReplaceState:function(d,h,S){d=d._reactInternals;var T=On(),R=wo(d),B=ma(T,R);B.tag=1,B.payload=h,S!=null&&(B.callback=S),$a(d,B),h=Er(d,R,T),h!==null&&Vd(h,d,R)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var S=On(),T=wo(d),R=ma(S,T);R.tag=2,h!=null&&(R.callback=h),$a(d,R),h=Er(d,T,S),h!==null&&Vd(h,d,T)}};function um(d,h,S,T,R,B,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,B,ne):h.prototype&&h.prototype.isPureReactComponent?!mo(S,T)||!mo(R,B):!0}function Q0(d,h,S){var T=!1,R=dt,B=h.contextType;return typeof B=="object"&&B!==null?B=Zr(B):(R=hn(h)?en:At.current,T=h.contextTypes,B=(T=T!=null)?yn(d,R):dt),h=new h(S,B),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wd,d.stateNode=h,h._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=R,d.__reactInternalMemoizedMaskedChildContext=B),h}function ev(d,h,S,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(S,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(S,T),h.state!==d&&Wd.enqueueReplaceState(h,h.state,null)}function cm(d,h,S,T){var R=d.stateNode;R.props=S,R.state=d.memoizedState,R.refs=J0,Iu(d);var B=h.contextType;typeof B=="object"&&B!==null?R.context=Zr(B):(B=hn(h)?en:At.current,R.context=yn(d,B)),R.state=d.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(lm(d,h,B,S),R.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(h=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),h!==R.state&&Wd.enqueueReplaceState(R,R.state,null),Gd(d,S,R,T),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308)}var Lu=[],Ka=0,jd=null,Xd=0,js=[],ps=0,kl=null,ga=1,va="";function Fl(d,h){Lu[Ka++]=Xd,Lu[Ka++]=jd,jd=d,Xd=h}function tv(d,h,S){js[ps++]=ga,js[ps++]=va,js[ps++]=kl,kl=d;var T=ga;d=va;var R=32-Qn(T)-1;T&=~(1<<R),S+=1;var B=32-Qn(h)+R;if(30<B){var ne=R-R%5;B=(T&(1<<ne)-1).toString(32),T>>=ne,R-=ne,ga=1<<32-Qn(h)+R|S<<R|T,va=B+d}else ga=1<<B|S<<R|T,va=d}function fm(d){d.return!==null&&(Fl(d,1),tv(d,1,0))}function dm(d){for(;d===jd;)jd=Lu[--Ka],Lu[Ka]=null,Xd=Lu[--Ka],Lu[Ka]=null;for(;d===kl;)kl=js[--ps],js[ps]=null,va=js[--ps],js[ps]=null,ga=js[--ps],js[ps]=null}var Or=null,cr=null,ci=!1,Nu=!1,Xs=null;function hm(d,h){var S=Ss(5,null,null,0);S.elementType="DELETED",S.stateNode=h,S.return=d,h=d.deletions,h===null?(d.deletions=[S],d.flags|=16):h.push(S)}function pm(d,h){switch(d.tag){case 5:return h=Kt(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Or=d,cr=In(h),!0):!1;case 6:return h=ut(h,d.pendingProps),h!==null?(d.stateNode=h,Or=d,cr=null,!0):!1;case 13:if(h=jt(h),h!==null){var S=kl!==null?{id:ga,overflow:va}:null;return d.memoizedState={dehydrated:h,treeContext:S,retryLane:1073741824},S=Ss(18,null,null,0),S.stateNode=h,S.return=d,d.child=S,Or=d,cr=null,!0}return!1;default:return!1}}function Yd(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Za(d){if(ci){var h=cr;if(h){var S=h;if(!pm(d,h)){if(Yd(d))throw Error(o(418));h=Zt(S);var T=Or;h&&pm(d,h)?hm(T,S):(d.flags=d.flags&-4097|2,ci=!1,Or=d)}}else{if(Yd(d))throw Error(o(418));d.flags=d.flags&-4097|2,ci=!1,Or=d}}}function nv(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Or=d}function Kc(d){if(!qe||d!==Or)return!1;if(!ci)return nv(d),ci=!0,!1;if(d.tag!==3&&(d.tag!==5||Ti(d.type)&&!Ue(d.type,d.memoizedProps))){var h=cr;if(h){if(Yd(d)){for(d=cr;d;)d=Zt(d);throw Error(o(418))}for(;h;)hm(d,h),h=Zt(h)}}if(nv(d),d.tag===13){if(!qe)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));cr=Un(d)}else cr=Or?Zt(d.stateNode):null;return!0}function Du(){qe&&(cr=Or=null,Nu=ci=!1)}function qd(d){Xs===null?Xs=[d]:Xs.push(d)}function ku(d,h,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,d));var R=T,B=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===B?h.ref:(h=function(ne){var pe=R.refs;pe===J0&&(pe=R.refs={}),ne===null?delete pe[B]:pe[B]=ne},h._stringRef=B,h)}if(typeof d!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,d))}return d}function Ja(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function Fu(d){var h=d._init;return h(d._payload)}function iv(d){function h(we,ge){if(d){var Ae=we.deletions;Ae===null?(we.deletions=[ge],we.flags|=16):Ae.push(ge)}}function S(we,ge){if(!d)return null;for(;ge!==null;)h(we,ge),ge=ge.sibling;return null}function T(we,ge){for(we=new Map;ge!==null;)ge.key!==null?we.set(ge.key,ge):we.set(ge.index,ge),ge=ge.sibling;return we}function R(we,ge){return we=Ia(we,ge),we.index=0,we.sibling=null,we}function B(we,ge,Ae){return we.index=Ae,d?(Ae=we.alternate,Ae!==null?(Ae=Ae.index,Ae<ge?(we.flags|=2,ge):Ae):(we.flags|=2,ge)):(we.flags|=1048576,ge)}function ne(we){return d&&we.alternate===null&&(we.flags|=2),we}function pe(we,ge,Ae,mt){return ge===null||ge.tag!==6?(ge=Sh(Ae,we.mode,mt),ge.return=we,ge):(ge=R(ge,Ae),ge.return=we,ge)}function Ie(we,ge,Ae,mt){var Ut=Ae.type;return Ut===p?Et(we,ge,Ae.props.children,mt,Ae.key):ge!==null&&(ge.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===C&&Fu(Ut)===ge.type)?(mt=R(ge,Ae.props),mt.ref=ku(we,ge,Ae),mt.return=we,mt):(mt=_h(Ae.type,Ae.key,Ae.props,null,we.mode,mt),mt.ref=ku(we,ge,Ae),mt.return=we,mt)}function nt(we,ge,Ae,mt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ae.containerInfo||ge.stateNode.implementation!==Ae.implementation?(ge=wh(Ae,we.mode,mt),ge.return=we,ge):(ge=R(ge,Ae.children||[]),ge.return=we,ge)}function Et(we,ge,Ae,mt,Ut){return ge===null||ge.tag!==7?(ge=ru(Ae,we.mode,mt,Ut),ge.return=we,ge):(ge=R(ge,Ae),ge.return=we,ge)}function rn(we,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Sh(""+ge,we.mode,Ae),ge.return=we,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case c:return Ae=_h(ge.type,ge.key,ge.props,null,we.mode,Ae),Ae.ref=ku(we,null,ge),Ae.return=we,Ae;case f:return ge=wh(ge,we.mode,Ae),ge.return=we,ge;case C:var mt=ge._init;return rn(we,mt(ge._payload),Ae)}if(Z(ge)||F(ge))return ge=ru(ge,we.mode,Ae,null),ge.return=we,ge;Ja(we,ge)}return null}function Xt(we,ge,Ae,mt){var Ut=ge!==null?ge.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ut!==null?null:pe(we,ge,""+Ae,mt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:return Ae.key===Ut?Ie(we,ge,Ae,mt):null;case f:return Ae.key===Ut?nt(we,ge,Ae,mt):null;case C:return Ut=Ae._init,Xt(we,ge,Ut(Ae._payload),mt)}if(Z(Ae)||F(Ae))return Ut!==null?null:Et(we,ge,Ae,mt,null);Ja(we,Ae)}return null}function pn(we,ge,Ae,mt,Ut){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return we=we.get(Ae)||null,pe(ge,we,""+mt,Ut);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case c:return we=we.get(mt.key===null?Ae:mt.key)||null,Ie(ge,we,mt,Ut);case f:return we=we.get(mt.key===null?Ae:mt.key)||null,nt(ge,we,mt,Ut);case C:var ln=mt._init;return pn(we,ge,Ae,ln(mt._payload),Ut)}if(Z(mt)||F(mt))return we=we.get(Ae)||null,Et(ge,we,mt,Ut,null);Ja(ge,mt)}return null}function _t(we,ge,Ae,mt){for(var Ut=null,ln=null,sn=ge,Dn=ge=0,ki=null;sn!==null&&Dn<Ae.length;Dn++){sn.index>Dn?(ki=sn,sn=null):ki=sn.sibling;var Pn=Xt(we,sn,Ae[Dn],mt);if(Pn===null){sn===null&&(sn=ki);break}d&&sn&&Pn.alternate===null&&h(we,sn),ge=B(Pn,ge,Dn),ln===null?Ut=Pn:ln.sibling=Pn,ln=Pn,sn=ki}if(Dn===Ae.length)return S(we,sn),ci&&Fl(we,Dn),Ut;if(sn===null){for(;Dn<Ae.length;Dn++)sn=rn(we,Ae[Dn],mt),sn!==null&&(ge=B(sn,ge,Dn),ln===null?Ut=sn:ln.sibling=sn,ln=sn);return ci&&Fl(we,Dn),Ut}for(sn=T(we,sn);Dn<Ae.length;Dn++)ki=pn(sn,we,Dn,Ae[Dn],mt),ki!==null&&(d&&ki.alternate!==null&&sn.delete(ki.key===null?Dn:ki.key),ge=B(ki,ge,Dn),ln===null?Ut=ki:ln.sibling=ki,ln=ki);return d&&sn.forEach(function(La){return h(we,La)}),ci&&Fl(we,Dn),Ut}function mr(we,ge,Ae,mt){var Ut=F(Ae);if(typeof Ut!="function")throw Error(o(150));if(Ae=Ut.call(Ae),Ae==null)throw Error(o(151));for(var ln=Ut=null,sn=ge,Dn=ge=0,ki=null,Pn=Ae.next();sn!==null&&!Pn.done;Dn++,Pn=Ae.next()){sn.index>Dn?(ki=sn,sn=null):ki=sn.sibling;var La=Xt(we,sn,Pn.value,mt);if(La===null){sn===null&&(sn=ki);break}d&&sn&&La.alternate===null&&h(we,sn),ge=B(La,ge,Dn),ln===null?Ut=La:ln.sibling=La,ln=La,sn=ki}if(Pn.done)return S(we,sn),ci&&Fl(we,Dn),Ut;if(sn===null){for(;!Pn.done;Dn++,Pn=Ae.next())Pn=rn(we,Pn.value,mt),Pn!==null&&(ge=B(Pn,ge,Dn),ln===null?Ut=Pn:ln.sibling=Pn,ln=Pn);return ci&&Fl(we,Dn),Ut}for(sn=T(we,sn);!Pn.done;Dn++,Pn=Ae.next())Pn=pn(sn,we,Dn,Pn.value,mt),Pn!==null&&(d&&Pn.alternate!==null&&sn.delete(Pn.key===null?Dn:Pn.key),ge=B(Pn,ge,Dn),ln===null?Ut=Pn:ln.sibling=Pn,ln=Pn);return d&&sn.forEach(function(jm){return h(we,jm)}),ci&&Fl(we,Dn),Ut}function ws(we,ge,Ae,mt){if(typeof Ae=="object"&&Ae!==null&&Ae.type===p&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:e:{for(var Ut=Ae.key,ln=ge;ln!==null;){if(ln.key===Ut){if(Ut=Ae.type,Ut===p){if(ln.tag===7){S(we,ln.sibling),ge=R(ln,Ae.props.children),ge.return=we,we=ge;break e}}else if(ln.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===C&&Fu(Ut)===ln.type){S(we,ln.sibling),ge=R(ln,Ae.props),ge.ref=ku(we,ln,Ae),ge.return=we,we=ge;break e}S(we,ln);break}else h(we,ln);ln=ln.sibling}Ae.type===p?(ge=ru(Ae.props.children,we.mode,mt,Ae.key),ge.return=we,we=ge):(mt=_h(Ae.type,Ae.key,Ae.props,null,we.mode,mt),mt.ref=ku(we,ge,Ae),mt.return=we,we=mt)}return ne(we);case f:e:{for(ln=Ae.key;ge!==null;){if(ge.key===ln)if(ge.tag===4&&ge.stateNode.containerInfo===Ae.containerInfo&&ge.stateNode.implementation===Ae.implementation){S(we,ge.sibling),ge=R(ge,Ae.children||[]),ge.return=we,we=ge;break e}else{S(we,ge);break}else h(we,ge);ge=ge.sibling}ge=wh(Ae,we.mode,mt),ge.return=we,we=ge}return ne(we);case C:return ln=Ae._init,ws(we,ge,ln(Ae._payload),mt)}if(Z(Ae))return _t(we,ge,Ae,mt);if(F(Ae))return mr(we,ge,Ae,mt);Ja(we,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,ge!==null&&ge.tag===6?(S(we,ge.sibling),ge=R(ge,Ae),ge.return=we,we=ge):(S(we,ge),ge=Sh(Ae,we.mode,mt),ge.return=we,we=ge),ne(we)):S(we,ge)}return ws}var ya=iv(!0),rv=iv(!1),Ou={},Jr=at(Ou),Ol=at(Ou),Ul=at(Ou);function go(d){if(d===Ou)throw Error(o(174));return d}function $d(d,h){je(Ul,h),je(Ol,d),je(Jr,Ou),d=q(h),Fe(Jr),je(Jr,d)}function Uu(){Fe(Jr),Fe(Ol),Fe(Ul)}function sv(d){var h=go(Ul.current),S=go(Jr.current);h=z(S,d.type,h),S!==h&&(je(Ol,d),je(Jr,h))}function mm(d){Ol.current===d&&(Fe(Jr),Fe(Ol))}var pi=at(0);function Kd(d){for(var h=d;h!==null;){if(h.tag===13){var S=h.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ot(S)||Wt(S)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ms=[];function Bl(){for(var d=0;d<ms.length;d++){var h=ms[d];We?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}ms.length=0}var Zc=a.ReactCurrentDispatcher,gs=a.ReactCurrentBatchConfig,zl=0,mi=null,Ji=null,Qi=null,Zd=!1,Xo=!1,Vl=0,Jc=0;function er(){throw Error(o(321))}function Jd(d,h){if(h===null)return!1;for(var S=0;S<h.length&&S<d.length;S++)if(!kr(d[S],h[S]))return!1;return!0}function Bu(d,h,S,T,R,B){if(zl=B,mi=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Zc.current=d===null||d.memoizedState===null?Sm:wm,d=S(T,R),Xo){B=0;do{if(Xo=!1,Vl=0,25<=B)throw Error(o(301));B+=1,Qi=Ji=null,h.updateQueue=null,Zc.current=Mm,d=S(T,R)}while(Xo)}if(Zc.current=Gu,h=Ji!==null&&Ji.next!==null,zl=0,Qi=Ji=mi=null,Zd=!1,h)throw Error(o(300));return d}function Qa(){var d=Vl!==0;return Vl=0,d}function vo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?mi.memoizedState=Qi=d:Qi=Qi.next=d,Qi}function yo(){if(Ji===null){var d=mi.alternate;d=d!==null?d.memoizedState:null}else d=Ji.next;var h=Qi===null?mi.memoizedState:Qi.next;if(h!==null)Qi=h,Ji=d;else{if(d===null)throw Error(o(310));Ji=d,d={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},Qi===null?mi.memoizedState=Qi=d:Qi=Qi.next=d}return Qi}function Yo(d,h){return typeof h=="function"?h(d):h}function Qc(d){var h=yo(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=Ji,R=T.baseQueue,B=S.pending;if(B!==null){if(R!==null){var ne=R.next;R.next=B.next,B.next=ne}T.baseQueue=R=B,S.pending=null}if(R!==null){B=R.next,T=T.baseState;var pe=ne=null,Ie=null,nt=B;do{var Et=nt.lane;if((zl&Et)===Et)Ie!==null&&(Ie=Ie.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),T=nt.hasEagerState?nt.eagerState:d(T,nt.action);else{var rn={lane:Et,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};Ie===null?(pe=Ie=rn,ne=T):Ie=Ie.next=rn,mi.lanes|=Et,$o|=Et}nt=nt.next}while(nt!==null&&nt!==B);Ie===null?ne=T:Ie.next=pe,kr(T,h.memoizedState)||(tr=!0),h.memoizedState=T,h.baseState=ne,h.baseQueue=Ie,S.lastRenderedState=T}if(d=S.interleaved,d!==null){R=d;do B=R.lane,mi.lanes|=B,$o|=B,R=R.next;while(R!==d)}else R===null&&(S.lanes=0);return[h.memoizedState,S.dispatch]}function ef(d){var h=yo(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=S.dispatch,R=S.pending,B=h.memoizedState;if(R!==null){S.pending=null;var ne=R=R.next;do B=d(B,ne.action),ne=ne.next;while(ne!==R);kr(B,h.memoizedState)||(tr=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),S.lastRenderedState=B}return[B,T]}function gm(){}function vm(d,h){var S=mi,T=yo(),R=h(),B=!kr(T.memoizedState,R);if(B&&(T.memoizedState=R,tr=!0),T=T.queue,zu(xa.bind(null,S,T,d),[d]),T.getSnapshot!==h||B||Qi!==null&&Qi.memoizedState.tag&1){if(S.flags|=2048,nf(9,xm.bind(null,S,T,R,h),void 0,null),Ci===null)throw Error(o(349));(zl&30)!==0||ym(S,h,R)}return R}function ym(d,h,S){d.flags|=16384,d={getSnapshot:h,value:S},h=mi.updateQueue,h===null?(h={lastEffect:null,stores:null},mi.updateQueue=h,h.stores=[d]):(S=h.stores,S===null?h.stores=[d]:S.push(d))}function xm(d,h,S,T){h.value=S,h.getSnapshot=T,Qd(h)&&Er(d,1,-1)}function xa(d,h,S){return S(function(){Qd(h)&&Er(d,1,-1)})}function Qd(d){var h=d.getSnapshot;d=d.value;try{var S=h();return!kr(d,S)}catch{return!0}}function tf(d){var h=vo();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:d},h.queue=d,d=d.dispatch=b1.bind(null,mi,d),[h.memoizedState,d]}function nf(d,h,S,T){return d={tag:d,create:h,destroy:S,deps:T,next:null},h=mi.updateQueue,h===null?(h={lastEffect:null,stores:null},mi.updateQueue=h,h.lastEffect=d.next=d):(S=h.lastEffect,S===null?h.lastEffect=d.next=d:(T=S.next,S.next=d,d.next=T,h.lastEffect=d)),d}function ov(){return yo().memoizedState}function el(d,h,S,T){var R=vo();mi.flags|=d,R.memoizedState=nf(1|h,S,void 0,T===void 0?null:T)}function eh(d,h,S,T){var R=yo();T=T===void 0?null:T;var B=void 0;if(Ji!==null){var ne=Ji.memoizedState;if(B=ne.destroy,T!==null&&Jd(T,ne.deps)){R.memoizedState=nf(h,S,B,T);return}}mi.flags|=d,R.memoizedState=nf(1|h,S,B,T)}function th(d,h){return el(8390656,8,d,h)}function zu(d,h){return eh(2048,8,d,h)}function ei(d,h){return eh(4,2,d,h)}function nh(d,h){return eh(4,4,d,h)}function rf(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function Vu(d,h,S){return S=S!=null?S.concat([d]):null,eh(4,4,rf.bind(null,h,d),S)}function ih(){}function rh(d,h){var S=yo();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&Jd(h,T[1])?T[0]:(S.memoizedState=[d,h],d)}function Hu(d,h){var S=yo();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&Jd(h,T[1])?T[0]:(d=d(),S.memoizedState=[d,h],d)}function sh(d,h){var S=gn;gn=S!==0&&4>S?S:4,d(!0);var T=gs.transition;gs.transition={};try{d(!1),h()}finally{gn=S,gs.transition=T}}function Hl(){return yo().memoizedState}function av(d,h,S){var T=wo(d);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},lv(d)?_m(h,S):(sf(d,h,S),S=On(),d=Er(d,T,S),d!==null&&of(d,h,T))}function b1(d,h,S){var T=wo(d),R={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(lv(d))_m(h,R);else{sf(d,h,R);var B=d.alternate;if(d.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var ne=h.lastRenderedState,pe=B(ne,S);if(R.hasEagerState=!0,R.eagerState=pe,kr(pe,ne))return}catch{}finally{}S=On(),d=Er(d,T,S),d!==null&&of(d,h,T)}}function lv(d){var h=d.alternate;return d===mi||h!==null&&h===mi}function _m(d,h){Xo=Zd=!0;var S=d.pending;S===null?h.next=h:(h.next=S.next,S.next=h),d.pending=h}function sf(d,h,S){Ci!==null&&(d.mode&1)!==0&&(cn&2)===0?(d=h.interleaved,d===null?(S.next=S,Gs===null?Gs=[h]:Gs.push(h)):(S.next=d.next,d.next=S),h.interleaved=S):(d=h.pending,d===null?S.next=S:(S.next=d.next,d.next=S),h.pending=S)}function of(d,h,S){if((S&4194240)!==0){var T=h.lanes;T&=d.pendingLanes,S|=T,h.lanes=S,Wo(d,S)}}var Gu={readContext:Zr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Sm={readContext:Zr,useCallback:function(d,h){return vo().memoizedState=[d,h===void 0?null:h],d},useContext:Zr,useEffect:th,useImperativeHandle:function(d,h,S){return S=S!=null?S.concat([d]):null,el(4194308,4,rf.bind(null,h,d),S)},useLayoutEffect:function(d,h){return el(4194308,4,d,h)},useInsertionEffect:function(d,h){return el(4,2,d,h)},useMemo:function(d,h){var S=vo();return h=h===void 0?null:h,d=d(),S.memoizedState=[d,h],d},useReducer:function(d,h,S){var T=vo();return h=S!==void 0?S(h):h,T.memoizedState=T.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},T.queue=d,d=d.dispatch=av.bind(null,mi,d),[T.memoizedState,d]},useRef:function(d){var h=vo();return d={current:d},h.memoizedState=d},useState:tf,useDebugValue:ih,useDeferredValue:function(d){var h=tf(d),S=h[0],T=h[1];return th(function(){var R=gs.transition;gs.transition={};try{T(d)}finally{gs.transition=R}},[d]),S},useTransition:function(){var d=tf(!1),h=d[0];return d=sh.bind(null,d[1]),vo().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,S){var T=mi,R=vo();if(ci){if(S===void 0)throw Error(o(407));S=S()}else{if(S=h(),Ci===null)throw Error(o(349));(zl&30)!==0||ym(T,h,S)}R.memoizedState=S;var B={value:S,getSnapshot:h};return R.queue=B,th(xa.bind(null,T,B,d),[d]),T.flags|=2048,nf(9,xm.bind(null,T,B,S,h),void 0,null),S},useId:function(){var d=vo(),h=Ci.identifierPrefix;if(ci){var S=va,T=ga;S=(T&~(1<<32-Qn(T)-1)).toString(32)+S,h=":"+h+"R"+S,S=Vl++,0<S&&(h+="H"+S.toString(32)),h+=":"}else S=Jc++,h=":"+h+"r"+S.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},wm={readContext:Zr,useCallback:rh,useContext:Zr,useEffect:zu,useImperativeHandle:Vu,useInsertionEffect:ei,useLayoutEffect:nh,useMemo:Hu,useReducer:Qc,useRef:ov,useState:function(){return Qc(Yo)},useDebugValue:ih,useDeferredValue:function(d){var h=Qc(Yo),S=h[0],T=h[1];return zu(function(){var R=gs.transition;gs.transition={};try{T(d)}finally{gs.transition=R}},[d]),S},useTransition:function(){var d=Qc(Yo)[0],h=yo().memoizedState;return[d,h]},useMutableSource:gm,useSyncExternalStore:vm,useId:Hl,unstable_isNewReconciler:!1},Mm={readContext:Zr,useCallback:rh,useContext:Zr,useEffect:zu,useImperativeHandle:Vu,useInsertionEffect:ei,useLayoutEffect:nh,useMemo:Hu,useReducer:ef,useRef:ov,useState:function(){return ef(Yo)},useDebugValue:ih,useDeferredValue:function(d){var h=ef(Yo),S=h[0],T=h[1];return zu(function(){var R=gs.transition;gs.transition={};try{T(d)}finally{gs.transition=R}},[d]),S},useTransition:function(){var d=ef(Yo)[0],h=yo().memoizedState;return[d,h]},useMutableSource:gm,useSyncExternalStore:vm,useId:Hl,unstable_isNewReconciler:!1};function bm(d,h){try{var S="",T=h;do S+=om(T),T=T.return;while(T);var R=S}catch(B){R=`
Error generating stack: `+B.message+`
`+B.stack}return{value:d,source:h,stack:R}}function oh(d,h){try{console.error(h.value)}catch(S){setTimeout(function(){throw S})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function uv(d,h,S){S=ma(-1,S),S.tag=3,S.payload={element:null};var T=h.value;return S.callback=function(){$u||($u=!0,si=T),oh(d,h)},S}function ah(d,h,S){S=ma(-1,S),S.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var R=h.value;S.payload=function(){return T(R)},S.callback=function(){oh(d,h)}}var B=d.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(S.callback=function(){oh(d,h),typeof T!="function"&&(So===null?So=new Set([this]):So.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})}),S}function _a(d,h,S){var T=d.pingCache;if(T===null){T=d.pingCache=new T1;var R=new Set;T.set(h,R)}else R=T.get(h),R===void 0&&(R=new Set,T.set(h,R));R.has(S)||(R.add(S),d=Hm.bind(null,d,h,S),h.then(d,d))}function Tm(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function Gl(d,h,S,T,R){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(h=ma(-1,1),h.tag=2,$a(S,h))),S.lanes|=1),d):(d.flags|=65536,d.lanes=R,d)}function ji(d){d.flags|=4}function Wu(d,h){if(d!==null&&d.child===h.child)return!0;if((h.flags&16)!==0)return!1;for(d=h.child;d!==null;){if((d.flags&12854)!==0||(d.subtreeFlags&12854)!==0)return!1;d=d.sibling}return!0}var vs,Wl,lh,uh;if(yt)vs=function(d,h){for(var S=h.child;S!==null;){if(S.tag===5||S.tag===6)oe(d,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Wl=function(){},lh=function(d,h,S,T,R){if(d=d.memoizedProps,d!==T){var B=h.stateNode,ne=go(Jr.current);S=Pe(B,S,d,T,R,ne),(h.updateQueue=S)&&ji(h)}},uh=function(d,h,S,T){S!==T&&ji(h)};else if(Bt){vs=function(d,h,S,T){for(var R=h.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&T&&(B=ft(B,R.type,R.memoizedProps,R)),oe(d,B)}else if(R.tag===6)B=R.stateNode,S&&T&&(B=Ct(B,R.memoizedProps,R)),oe(d,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),vs(d,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var tl=function(d,h,S,T){for(var R=h.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&T&&(B=ft(B,R.type,R.memoizedProps,R)),tt(d,B)}else if(R.tag===6)B=R.stateNode,S&&T&&(B=Ct(B,R.memoizedProps,R)),tt(d,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),tl(d,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};Wl=function(d,h){var S=h.stateNode;if(!Wu(d,h)){d=S.containerInfo;var T=Ne(d);tl(T,h,!1,!1),S.pendingChildren=T,ji(h),Vt(d,T)}},lh=function(d,h,S,T,R){var B=d.stateNode,ne=d.memoizedProps;if((d=Wu(d,h))&&ne===T)h.stateNode=B;else{var pe=h.stateNode,Ie=go(Jr.current),nt=null;ne!==T&&(nt=Pe(pe,S,ne,T,R,Ie)),d&&nt===null?h.stateNode=B:(B=Oe(B,nt,S,ne,T,h,d,pe),ye(B,S,T,R,Ie)&&ji(h),h.stateNode=B,d?ji(h):vs(B,h,!1,!1))}},uh=function(d,h,S,T){S!==T?(d=go(Ul.current),S=go(Jr.current),h.stateNode=de(T,d,S,h),ji(h)):h.stateNode=d.stateNode}}else Wl=function(){},lh=function(){},uh=function(){};function Sa(d,h){if(!ci)switch(d.tailMode){case"hidden":h=d.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Ai(d){var h=d.alternate!==null&&d.alternate.child===d.child,S=0,T=0;if(h)for(var R=d.child;R!==null;)S|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)S|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=T,d.childLanes=S,h}function ch(d,h,S){var T=h.pendingProps;switch(dm(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(h),null;case 1:return hn(h.type)&&Bn(),Ai(h),null;case 3:return T=h.stateNode,Uu(),Fe(bt),Fe(At),Bl(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Kc(h)?ji(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Xs!==null&&(xf(Xs),Xs=null))),Wl(d,h),Ai(h),null;case 5:mm(h),S=go(Ul.current);var R=h.type;if(d!==null&&h.stateNode!=null)lh(d,h,R,T,S),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(o(166));return Ai(h),null}if(d=go(Jr.current),Kc(h)){if(!qe)throw Error(o(175));d=Wn(h.stateNode,h.type,h.memoizedProps,S,d,h,!Nu),h.updateQueue=d,d!==null&&ji(h)}else{var B=X(R,T,S,d,h);vs(B,h,!1,!1),h.stateNode=B,ye(B,R,T,S,d)&&ji(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ai(h),null;case 6:if(d&&h.stateNode!=null)uh(d,h,d.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(o(166));if(d=go(Ul.current),S=go(Jr.current),Kc(h)){if(!qe)throw Error(o(176));if(d=h.stateNode,T=h.memoizedProps,(S=dn(d,T,h,!Nu))&&(R=Or,R!==null))switch(B=(R.mode&1)!==0,R.tag){case 3:po(R.stateNode.containerInfo,d,T,B);break;case 5:Ya(R.type,R.memoizedProps,R.stateNode,d,T,B)}S&&ji(h)}else h.stateNode=de(T,d,S,h)}return Ai(h),null;case 13:if(Fe(pi),T=h.memoizedState,ci&&cr!==null&&(h.mode&1)!==0&&(h.flags&128)===0){for(d=cr;d;)d=Zt(d);return Du(),h.flags|=98560,h}if(T!==null&&T.dehydrated!==null){if(T=Kc(h),d===null){if(!T)throw Error(o(318));if(!qe)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ur(d,h)}else Du(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;return Ai(h),null}return Xs!==null&&(xf(Xs),Xs=null),(h.flags&128)!==0?(h.lanes=S,h):(T=T!==null,S=!1,d===null?Kc(h):S=d.memoizedState!==null,T&&!S&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(pi.current&1)!==0?Si===0&&(Si=3):vh())),h.updateQueue!==null&&(h.flags|=4),Ai(h),null);case 4:return Uu(),Wl(d,h),d===null&&ke(h.stateNode.containerInfo),Ai(h),null;case 10:return $c(h.type._context),Ai(h),null;case 17:return hn(h.type)&&Bn(),Ai(h),null;case 19:if(Fe(pi),R=h.memoizedState,R===null)return Ai(h),null;if(T=(h.flags&128)!==0,B=R.rendering,B===null)if(T)Sa(R,!1);else{if(Si!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(B=Kd(d),B!==null){for(h.flags|=128,Sa(R,!1),d=B.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=S,T=h.child;T!==null;)S=T,R=d,S.flags&=14680066,B=S.alternate,B===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=B.childLanes,S.lanes=B.lanes,S.child=B.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=B.memoizedProps,S.memoizedState=B.memoizedState,S.updateQueue=B.updateQueue,S.type=B.type,R=B.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),T=T.sibling;return je(pi,pi.current&1|2),h.child}d=d.sibling}R.tail!==null&&Wi()>rl&&(h.flags|=128,T=!0,Sa(R,!1),h.lanes=4194304)}else{if(!T)if(d=Kd(B),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Sa(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!ci)return Ai(h),null}else 2*Wi()-R.renderingStartTime>rl&&S!==1073741824&&(h.flags|=128,T=!0,Sa(R,!1),h.lanes=4194304);R.isBackwards?(B.sibling=h.child,h.child=B):(d=R.last,d!==null?d.sibling=B:h.child=B,R.last=B)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=Wi(),h.sibling=null,d=pi.current,je(pi,T?d&1|2:d&1),h):(Ai(h),null);case 22:case 23:return _f(),T=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(h.flags|=8192),T&&(h.mode&1)!==0?(Tr&1073741824)!==0&&(Ai(h),yt&&h.subtreeFlags&6&&(h.flags|=8192)):Ai(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var Em=a.ReactCurrentOwner,tr=!1;function _i(d,h,S,T){h.child=d===null?rv(h,null,S,T):ya(h,d.child,S,T)}function ti(d,h,S,T,R){S=S.render;var B=h.ref;return Ru(h,R),T=Bu(d,h,S,T,B,R),S=Qa(),d!==null&&!tr?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~R,Qr(d,h,R)):(ci&&S&&fm(h),h.flags|=1,_i(d,h,T,R),h.child)}function Zn(d,h,S,T,R){if(d===null){var B=S.type;return typeof B=="function"&&!xh(B)&&B.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(h.tag=15,h.type=B,wa(d,h,B,T,R)):(d=_h(S.type,null,T,h,h.mode,R),d.ref=h.ref,d.return=h,h.child=d)}if(B=d.child,(d.lanes&R)===0){var ne=B.memoizedProps;if(S=S.compare,S=S!==null?S:mo,S(ne,T)&&d.ref===h.ref)return Qr(d,h,R)}return h.flags|=1,d=Ia(B,T),d.ref=h.ref,d.return=h,h.child=d}function wa(d,h,S,T,R){if(d!==null&&mo(d.memoizedProps,T)&&d.ref===h.ref)if(tr=!1,(d.lanes&R)!==0)(d.flags&131072)!==0&&(tr=!0);else return h.lanes=d.lanes,Qr(d,h,R);return Ma(d,h,S,T,R)}function fr(d,h,S){var T=h.pendingProps,R=T.children,B=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null},je(Ql,Tr),Tr|=S;else if((S&1073741824)!==0)h.memoizedState={baseLanes:0,cachePool:null},T=B!==null?B.baseLanes:S,je(Ql,Tr),Tr|=T;else return d=B!==null?B.baseLanes|S:S,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,je(Ql,Tr),Tr|=d,null;else B!==null?(T=B.baseLanes|S,h.memoizedState=null):T=S,je(Ql,Tr),Tr|=T;return _i(d,h,R,S),h.child}function Ur(d,h){var S=h.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(h.flags|=512,h.flags|=2097152)}function Ma(d,h,S,T,R){var B=hn(S)?en:At.current;return B=yn(h,B),Ru(h,R),S=Bu(d,h,S,T,B,R),T=Qa(),d!==null&&!tr?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~R,Qr(d,h,R)):(ci&&T&&fm(h),h.flags|=1,_i(d,h,S,R),h.child)}function jl(d,h,S,T,R){if(hn(S)){var B=!0;Cn(h)}else B=!1;if(Ru(h,R),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),Q0(h,S,T),cm(h,S,T,R),T=!0;else if(d===null){var ne=h.stateNode,pe=h.memoizedProps;ne.props=pe;var Ie=ne.context,nt=S.contextType;typeof nt=="object"&&nt!==null?nt=Zr(nt):(nt=hn(S)?en:At.current,nt=yn(h,nt));var Et=S.getDerivedStateFromProps,rn=typeof Et=="function"||typeof ne.getSnapshotBeforeUpdate=="function";rn||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(pe!==T||Ie!==nt)&&ev(h,ne,T,nt),Ws=!1;var Xt=h.memoizedState;ne.state=Xt,Gd(h,T,ne,R),Ie=h.memoizedState,pe!==T||Xt!==Ie||bt.current||Ws?(typeof Et=="function"&&(lm(h,S,Et,T),Ie=h.memoizedState),(pe=Ws||um(h,S,pe,T,Xt,Ie,nt))?(rn||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=Ie),ne.props=T,ne.state=Ie,ne.context=nt,T=pe):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{ne=h.stateNode,am(d,h),pe=h.memoizedProps,nt=h.type===h.elementType?pe:Kr(h.type,pe),ne.props=nt,rn=h.pendingProps,Xt=ne.context,Ie=S.contextType,typeof Ie=="object"&&Ie!==null?Ie=Zr(Ie):(Ie=hn(S)?en:At.current,Ie=yn(h,Ie));var pn=S.getDerivedStateFromProps;(Et=typeof pn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(pe!==rn||Xt!==Ie)&&ev(h,ne,T,Ie),Ws=!1,Xt=h.memoizedState,ne.state=Xt,Gd(h,T,ne,R);var _t=h.memoizedState;pe!==rn||Xt!==_t||bt.current||Ws?(typeof pn=="function"&&(lm(h,S,pn,T),_t=h.memoizedState),(nt=Ws||um(h,S,nt,T,Xt,_t,Ie)||!1)?(Et||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(T,_t,Ie),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(T,_t,Ie)),typeof ne.componentDidUpdate=="function"&&(h.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ne.componentDidUpdate!="function"||pe===d.memoizedProps&&Xt===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Xt===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=_t),ne.props=T,ne.state=_t,ne.context=Ie,T=nt):(typeof ne.componentDidUpdate!="function"||pe===d.memoizedProps&&Xt===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Xt===d.memoizedState||(h.flags|=1024),T=!1)}return br(d,h,S,T,B,R)}function br(d,h,S,T,R,B){Ur(d,h);var ne=(h.flags&128)!==0;if(!T&&!ne)return R&&_n(h,S,!1),Qr(d,h,B);T=h.stateNode,Em.current=h;var pe=ne&&typeof S.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,d!==null&&ne?(h.child=ya(h,d.child,null,B),h.child=ya(h,null,pe,B)):_i(d,h,pe,B),h.memoizedState=T.state,R&&_n(h,S,!0),h.child}function af(d){var h=d.stateNode;h.pendingContext?Ln(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Ln(d,h.context,!1),$d(d,h.containerInfo)}function Am(d,h,S,T,R){return Du(),qd(R),h.flags|=256,_i(d,h,S,T),h.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function Xl(d){return{baseLanes:d,cachePool:null}}function Cm(d,h,S){var T=h.pendingProps,R=pi.current,B=!1,ne=(h.flags&128)!==0,pe;if((pe=ne)||(pe=d!==null&&d.memoizedState===null?!1:(R&2)!==0),pe?(B=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(R|=1),je(pi,R&1),d===null)return Za(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:Wt(d)?h.lanes=8:h.lanes=1073741824,null):(R=T.children,d=T.fallback,B?(T=h.mode,B=h.child,R={mode:"hidden",children:R},(T&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=R):B=Mf(R,T,0,null),d=ru(d,T,S,null),B.return=h,d.return=h,B.sibling=d,h.child=B,h.child.memoizedState=Xl(S),h.memoizedState=lf,d):xo(h,R));if(R=d.memoizedState,R!==null){if(pe=R.dehydrated,pe!==null){if(ne)return h.flags&256?(h.flags&=-257,cf(d,h,S,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(B=T.fallback,R=h.mode,T=Mf({mode:"visible",children:T.children},R,0,null),B=ru(B,R,S,null),B.flags|=2,T.return=h,B.return=h,T.sibling=B,h.child=T,(h.mode&1)!==0&&ya(h,d.child,null,S),h.child.memoizedState=Xl(S),h.memoizedState=lf,B);if((h.mode&1)===0)h=cf(d,h,S,null);else if(Wt(pe))h=cf(d,h,S,Error(o(419)));else if(T=(S&d.childLanes)!==0,tr||T){if(T=Ci,T!==null){switch(S&-S){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}T=(B&(T.suspendedLanes|S))!==0?0:B,T!==0&&T!==R.retryLane&&(R.retryLane=T,Er(d,T,-1))}vh(),h=cf(d,h,S,Error(o(421)))}else Ot(pe)?(h.flags|=128,h.child=d.child,h=pv.bind(null,d),Jn(pe,h),h=null):(S=R.treeContext,qe&&(cr=Kn(pe),Or=h,ci=!0,Xs=null,Nu=!1,S!==null&&(js[ps++]=ga,js[ps++]=va,js[ps++]=kl,ga=S.id,va=S.overflow,kl=h)),h=xo(h,h.pendingProps.children),h.flags|=4096);return h}return B?(T=fh(d,h,T.children,T.fallback,S),B=h.child,R=d.child.memoizedState,B.memoizedState=R===null?Xl(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=d.childLanes&~S,h.memoizedState=lf,T):(S=uf(d,h,T.children,S),h.memoizedState=null,S)}return B?(T=fh(d,h,T.children,T.fallback,S),B=h.child,R=d.child.memoizedState,B.memoizedState=R===null?Xl(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=d.childLanes&~S,h.memoizedState=lf,T):(S=uf(d,h,T.children,S),h.memoizedState=null,S)}function xo(d,h){return h=Mf({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function uf(d,h,S,T){var R=d.child;return d=R.sibling,S=Ia(R,{mode:"visible",children:S}),(h.mode&1)===0&&(S.lanes=T),S.return=h,S.sibling=null,d!==null&&(T=h.deletions,T===null?(h.deletions=[d],h.flags|=16):T.push(d)),h.child=S}function fh(d,h,S,T,R){var B=h.mode;d=d.child;var ne=d.sibling,pe={mode:"hidden",children:S};return(B&1)===0&&h.child!==d?(S=h.child,S.childLanes=0,S.pendingProps=pe,h.deletions=null):(S=Ia(d,pe),S.subtreeFlags=d.subtreeFlags&14680064),ne!==null?T=Ia(ne,T):(T=ru(T,B,R,null),T.flags|=2),T.return=h,S.return=h,S.sibling=T,h.child=S,T}function cf(d,h,S,T){return T!==null&&qd(T),ya(h,d.child,null,S),d=xo(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function cv(d,h,S){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),Dl(d.return,h,S)}function qo(d,h,S,T,R){var B=d.memoizedState;B===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:R}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=T,B.tail=S,B.tailMode=R)}function Yl(d,h,S){var T=h.pendingProps,R=T.revealOrder,B=T.tail;if(_i(d,h,T.children,S),T=pi.current,(T&2)!==0)T=T&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&cv(d,S,h);else if(d.tag===19)cv(d,S,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(je(pi,T),(h.mode&1)===0)h.memoizedState=null;else switch(R){case"forwards":for(S=h.child,R=null;S!==null;)d=S.alternate,d!==null&&Kd(d)===null&&(R=S),S=S.sibling;S=R,S===null?(R=h.child,h.child=null):(R=S.sibling,S.sibling=null),qo(h,!1,R,S,B);break;case"backwards":for(S=null,R=h.child,h.child=null;R!==null;){if(d=R.alternate,d!==null&&Kd(d)===null){h.child=R;break}d=R.sibling,R.sibling=S,S=R,R=d}qo(h,!0,S,null,B);break;case"together":qo(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Qr(d,h,S){if(d!==null&&(h.dependencies=d.dependencies),$o|=h.lanes,(S&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,S=Ia(d,d.pendingProps),h.child=S,S.return=h;d.sibling!==null;)d=d.sibling,S=S.sibling=Ia(d,d.pendingProps),S.return=h;S.sibling=null}return h.child}function dh(d,h,S){switch(h.tag){case 3:af(h),Du();break;case 5:sv(h);break;case 1:hn(h.type)&&Cn(h);break;case 4:$d(h,h.stateNode.containerInfo);break;case 10:Nl(h,h.type._context,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(je(pi,pi.current&1),h.flags|=128,null):(S&h.child.childLanes)!==0?Cm(d,h,S):(je(pi,pi.current&1),d=Qr(d,h,S),d!==null?d.sibling:null);je(pi,pi.current&1);break;case 19:if(T=(S&h.childLanes)!==0,(d.flags&128)!==0){if(T)return Yl(d,h,S);h.flags|=128}var R=h.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),je(pi,pi.current),T)break;return null;case 22:case 23:return h.lanes=0,fr(d,h,S)}return Qr(d,h,S)}function hh(d,h){switch(dm(h),h.tag){case 1:return hn(h.type)&&Bn(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Uu(),Fe(bt),Fe(At),Bl(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return mm(h),null;case 13:if(Fe(pi),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Du()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Fe(pi),null;case 4:return Uu(),null;case 10:return $c(h.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Br=!1,nr=!1,ql=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Ys(d,h){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){Vr(d,h,T)}else S.current=null}function ba(d,h,S){try{S()}catch(T){Vr(d,h,T)}}var Pm=!1;function Rm(d,h){for(J(d.containerInfo),lt=h;lt!==null;)if(d=lt,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,lt=h;else for(;lt!==null;){d=lt;try{var S=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,R=S.memoizedState,B=d.stateNode,ne=B.getSnapshotBeforeUpdate(d.elementType===d.type?T:Kr(d.type,T),R);B.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:yt&&it(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(pe){Vr(d,d.return,pe)}if(h=d.sibling,h!==null){h.return=d.return,lt=h;break}lt=d.return}return S=Pm,Pm=!1,S}function Ta(d,h,S){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&d)===d){var B=R.destroy;R.destroy=void 0,B!==void 0&&ba(h,S,B)}R=R.next}while(R!==T)}}function dr(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var S=h=h.next;do{if((S.tag&d)===d){var T=S.create;S.destroy=T()}S=S.next}while(S!==h)}}function zr(d){var h=d.ref;if(h!==null){var S=d.stateNode;switch(d.tag){case 5:d=te(S);break;default:d=S}typeof h=="function"?h(d):h.current=d}}function ri(d,h,S){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(jc,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var R=T,B=R.destroy;R=R.tag,B!==void 0&&((R&2)!==0||(R&4)!==0)&&ba(h,S,B),T=T.next}while(T!==d)}break;case 1:if(Ys(h,S),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(ne){Vr(h,S,ne)}break;case 5:Ys(h,S);break;case 4:yt?Nm(d,h,S):Bt&&Bt&&(h=h.stateNode.containerInfo,S=Ne(h),Mn(h,S))}}function qs(d,h,S){for(var T=h;;)if(ri(d,T,S),T.child===null||yt&&T.tag===4){if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function Im(d){var h=d.alternate;h!==null&&(d.alternate=null,Im(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&ae(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Lm(d){return d.tag===5||d.tag===3||d.tag===4}function ph(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Lm(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function mh(d){if(yt){e:{for(var h=d.return;h!==null;){if(Lm(h))break e;h=h.return}throw Error(o(160))}var S=h;switch(S.tag){case 5:h=S.stateNode,S.flags&32&&(Qe(h),S.flags&=-33),S=ph(d),ju(d,S,h);break;case 3:case 4:h=S.stateNode.containerInfo,S=ph(d),gh(d,S,h);break;default:throw Error(o(161))}}}function gh(d,h,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?et(S,d,h):ct(S,d);else if(T!==4&&(d=d.child,d!==null))for(gh(d,h,S),d=d.sibling;d!==null;)gh(d,h,S),d=d.sibling}function ju(d,h,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?He(S,d,h):be(S,d);else if(T!==4&&(d=d.child,d!==null))for(ju(d,h,S),d=d.sibling;d!==null;)ju(d,h,S),d=d.sibling}function Nm(d,h,S){for(var T=h,R=!1,B,ne;;){if(!R){R=T.return;e:for(;;){if(R===null)throw Error(o(160));switch(B=R.stateNode,R.tag){case 5:ne=!1;break e;case 3:B=B.containerInfo,ne=!0;break e;case 4:B=B.containerInfo,ne=!0;break e}R=R.return}R=!0}if(T.tag===5||T.tag===6)qs(d,T,S),ne?St(B,T.stateNode):xt(B,T.stateNode);else if(T.tag===18)ne?xi(B,T.stateNode):yi(B,T.stateNode);else if(T.tag===4){if(T.child!==null){B=T.stateNode.containerInfo,ne=!0,T.child.return=T,T=T.child;continue}}else if(ri(d,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return,T.tag===4&&(R=!1)}T.sibling.return=T.return,T=T.sibling}}function nl(d,h){if(yt){switch(h.tag){case 0:case 11:case 14:case 15:Ta(3,h,h.return),dr(3,h),Ta(5,h,h.return);return;case 1:return;case 5:var S=h.stateNode;if(S!=null){var T=h.memoizedProps;d=d!==null?d.memoizedProps:T;var R=h.type,B=h.updateQueue;h.updateQueue=null,B!==null&&vt(S,B,R,d,T,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));S=h.memoizedProps,$e(h.stateNode,d!==null?d.memoizedProps:S,S);return;case 3:qe&&d!==null&&d.memoizedState.isDehydrated&&Vi(h.stateNode.containerInfo);return;case 12:return;case 13:Xu(h);return;case 19:Xu(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Ta(3,h,h.return),dr(3,h),Ta(5,h,h.return);return;case 12:return;case 13:Xu(h);return;case 19:Xu(h);return;case 3:qe&&d!==null&&d.memoizedState.isDehydrated&&Vi(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Bt){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Mn(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Xu(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new ql),h.forEach(function(T){var R=mv.bind(null,d,T);S.has(T)||(S.add(T),T.then(R,R))})}}function E1(d,h){for(lt=h;lt!==null;){h=lt;var S=h.deletions;if(S!==null)for(var T=0;T<S.length;T++){var R=S[T];try{var B=d;yt?Nm(B,R,h):qs(B,R,h);var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(Ut){Vr(R,h,Ut)}}if(S=h.child,(h.subtreeFlags&12854)!==0&&S!==null)S.return=h,lt=S;else for(;lt!==null;){h=lt;try{var pe=h.flags;if(pe&32&&yt&&Qe(h.stateNode),pe&512){var Ie=h.alternate;if(Ie!==null){var nt=Ie.ref;nt!==null&&(typeof nt=="function"?nt(null):nt.current=null)}}if(pe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Et=h.alternate;(Et===null||Et.memoizedState===null)&&(vf=Wi())}break;case 22:var rn=h.memoizedState!==null,Xt=h.alternate,pn=Xt!==null&&Xt.memoizedState!==null;if(S=h,yt){e:if(T=S,R=rn,B=null,yt)for(var _t=T;;){if(_t.tag===5){if(B===null){B=_t;var mr=_t.stateNode;R?Yt(mr):ot(_t.stateNode,_t.memoizedProps)}}else if(_t.tag===6){if(B===null){var ws=_t.stateNode;R?re(ws):Ve(ws,_t.memoizedProps)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===T)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===T)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===T)break e;B===_t&&(B=null),_t=_t.return}B===_t&&(B=null),_t.sibling.return=_t.return,_t=_t.sibling}}if(rn&&!pn&&(S.mode&1)!==0){lt=S;for(var we=S.child;we!==null;){for(S=lt=we;lt!==null;){T=lt;var ge=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Ta(4,T,T.return);break;case 1:Ys(T,T.return);var Ae=T.stateNode;if(typeof Ae.componentWillUnmount=="function"){var mt=T.return;try{Ae.props=T.memoizedProps,Ae.state=T.memoizedState,Ae.componentWillUnmount()}catch(Ut){Vr(T,mt,Ut)}}break;case 5:Ys(T,T.return);break;case 22:if(T.memoizedState!==null){km(S);continue}}ge!==null?(ge.return=T,lt=ge):km(S)}we=we.sibling}}}switch(pe&4102){case 2:mh(h),h.flags&=-3;break;case 6:mh(h),h.flags&=-3,nl(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,nl(h.alternate,h);break;case 4:nl(h.alternate,h)}}catch(Ut){Vr(h,h.return,Ut)}if(S=h.sibling,S!==null){S.return=h.return,lt=S;break}lt=h.return}}}function ff(d,h,S){lt=d,df(d)}function df(d,h,S){for(var T=(d.mode&1)!==0;lt!==null;){var R=lt,B=R.child;if(R.tag===22&&T){var ne=R.memoizedState!==null||Br;if(!ne){var pe=R.alternate,Ie=pe!==null&&pe.memoizedState!==null||nr;pe=Br;var nt=nr;if(Br=ne,(nr=Ie)&&!nt)for(lt=R;lt!==null;)ne=lt,Ie=ne.child,ne.tag===22&&ne.memoizedState!==null?$l(R):Ie!==null?(Ie.return=ne,lt=Ie):$l(R);for(;B!==null;)lt=B,df(B),B=B.sibling;lt=R,Br=pe,nr=nt}Dm(d)}else(R.subtreeFlags&8772)!==0&&B!==null?(B.return=R,lt=B):Dm(d)}}function Dm(d){for(;lt!==null;){var h=lt;if((h.flags&8772)!==0){var S=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:nr||dr(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!nr)if(S===null)T.componentDidMount();else{var R=h.elementType===h.type?S.memoizedProps:Kr(h.type,S.memoizedProps);T.componentDidUpdate(R,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var B=h.updateQueue;B!==null&&Z0(h,B,T);break;case 3:var ne=h.updateQueue;if(ne!==null){if(S=null,h.child!==null)switch(h.child.tag){case 5:S=te(h.child.stateNode);break;case 1:S=h.child.stateNode}Z0(h,ne,S)}break;case 5:var pe=h.stateNode;S===null&&h.flags&4&&pt(pe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(qe&&h.memoizedState===null){var Ie=h.alternate;if(Ie!==null){var nt=Ie.memoizedState;if(nt!==null){var Et=nt.dehydrated;Et!==null&&Mr(Et)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}nr||h.flags&512&&zr(h)}catch(rn){Vr(h,h.return,rn)}}if(h===d){lt=null;break}if(S=h.sibling,S!==null){S.return=h.return,lt=S;break}lt=h.return}}function km(d){for(;lt!==null;){var h=lt;if(h===d){lt=null;break}var S=h.sibling;if(S!==null){S.return=h.return,lt=S;break}lt=h.return}}function $l(d){for(;lt!==null;){var h=lt;try{switch(h.tag){case 0:case 11:case 15:var S=h.return;try{dr(4,h)}catch(Ie){Vr(h,S,Ie)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var R=h.return;try{T.componentDidMount()}catch(Ie){Vr(h,R,Ie)}}var B=h.return;try{zr(h)}catch(Ie){Vr(h,B,Ie)}break;case 5:var ne=h.return;try{zr(h)}catch(Ie){Vr(h,ne,Ie)}}}catch(Ie){Vr(h,h.return,Ie)}if(h===d){lt=null;break}var pe=h.sibling;if(pe!==null){pe.return=h.return,lt=pe;break}lt=h.return}}var hf=0,Kl=1,Zl=2,Ea=3,Yu=4;if(typeof Symbol=="function"&&Symbol.for){var Jl=Symbol.for;hf=Jl("selector.component"),Kl=Jl("selector.has_pseudo_class"),Zl=Jl("selector.role"),Ea=Jl("selector.test_id"),Yu=Jl("selector.text")}function pf(d){var h=Ce(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=st(d),d===null)throw Error(o(362));return d.stateNode.current}function mf(d,h){switch(h.$$typeof){case hf:if(d.type===h.value)return!0;break;case Kl:e:{h=h.value,d=[d,0];for(var S=0;S<d.length;){var T=d[S++],R=d[S++],B=h[R];if(T.tag!==5||!H(T)){for(;B!=null&&mf(T,B);)R++,B=h[R];if(R===h.length){h=!0;break e}else for(T=T.child;T!==null;)d.push(T,R),T=T.sibling}}h=!1}return h;case Zl:if(d.tag===5&&le(d.stateNode,h.value))return!0;break;case Yu:if((d.tag===5||d.tag===6)&&(d=K(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case Ea:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function il(d){switch(d.$$typeof){case hf:return"<"+(O(d.value)||"Unknown")+">";case Kl:return":has("+(il(d)||"")+")";case Zl:return'[role="'+d.value+'"]';case Yu:return'"'+d.value+'"';case Ea:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function ys(d,h){var S=[];d=[d,0];for(var T=0;T<d.length;){var R=d[T++],B=d[T++],ne=h[B];if(R.tag!==5||!H(R)){for(;ne!=null&&mf(R,ne);)B++,ne=h[B];if(B===h.length)S.push(R);else for(R=R.child;R!==null;)d.push(R,B),R=R.sibling}}return S}function Aa(d,h){if(!Je)throw Error(o(363));d=pf(d),d=ys(d,h),h=[],d=Array.from(d);for(var S=0;S<d.length;){var T=d[S++];if(T.tag===5)H(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return h}var Fm=Math.ceil,gf=a.ReactCurrentDispatcher,_o=a.ReactCurrentOwner,Xn=a.ReactCurrentBatchConfig,cn=0,Ci=null,Yn=null,fi=0,Tr=0,Ql=at(0),Si=0,qu=null,$o=0,xs=0,eu=0,Ca=null,Di=null,vf=0,rl=1/0;function tu(){rl=Wi()+500}var $u=!1,si=null,So=null,Ku=!1,Ko=null,nu=0,iu=0,Pa=null,ni=-1,wi=0;function On(){return(cn&6)!==0?Wi():ni!==-1?ni:ni=Wi()}function wo(d){return(d.mode&1)===0?1:(cn&2)!==0&&fi!==0?fi&-fi:K0.transition!==null?(wi===0&&(d=Nn,Nn<<=1,(Nn&4194240)===0&&(Nn=64),wi=d),wi):(d=gn,d!==0?d:Le())}function Er(d,h,S){if(50<iu)throw iu=0,Pa=null,Error(o(185));var T=sl(d,h);return T===null?null:(Pl(T,h,S),((cn&2)===0||T!==Ci)&&(T===Ci&&((cn&2)===0&&(xs|=h),Si===4&&pr(T,fi)),es(T,S),h===1&&cn===0&&(d.mode&1)===0&&(tu(),Od&&Hs())),T)}function sl(d,h){d.lanes|=h;var S=d.alternate;for(S!==null&&(S.lanes|=h),S=d,d=d.return;d!==null;)d.childLanes|=h,S=d.alternate,S!==null&&(S.childLanes|=h),S=d,d=d.return;return S.tag===3?S.stateNode:null}function es(d,h){var S=d.callbackNode;Cu(d,h);var T=Ei(d,d===Ci?fi:0);if(T===0)S!==null&&Pu(S),d.callbackNode=null,d.callbackPriority=0;else if(h=T&-T,d.callbackPriority!==h){if(S!=null&&Pu(S),h===1)d.tag===0?Bd(_s.bind(null,d)):Ud(_s.bind(null,d)),Q?wt(function(){cn===0&&Hs()}):Rl(Il,Hs),S=null;else{switch(ha(T)){case 1:S=Il;break;case 4:S=M1;break;case 16:S=kd;break;case 536870912:S=Fd;break;default:S=kd}S=yh(S,hr.bind(null,d))}d.callbackPriority=h,d.callbackNode=S}}function hr(d,h){if(ni=-1,wi=0,(cn&6)!==0)throw Error(o(327));var S=d.callbackNode;if(Zo()&&d.callbackNode!==S)return null;var T=Ei(d,d===Ci?fi:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||h)h=Sf(d,T);else{h=T;var R=cn;cn|=2;var B=Bm();(Ci!==d||fi!==h)&&(tu(),Ra(d,h));do try{dv();break}catch(pe){Um(d,pe)}while(!0);Fr(),gf.current=B,cn=R,Yn!==null?h=0:(Ci=null,fi=0,h=Si)}if(h!==0){if(h===2&&(R=zs(d),R!==0&&(T=R,h=yf(d,R))),h===1)throw S=qu,Ra(d,0),pr(d,T),es(d,Wi()),S;if(h===6)pr(d,T);else{if(R=d.current.alternate,(T&30)===0&&!Om(R)&&(h=Sf(d,T),h===2&&(B=zs(d),B!==0&&(T=B,h=yf(d,B))),h===1))throw S=qu,Ra(d,0),pr(d,T),es(d,Wi()),S;switch(d.finishedWork=R,d.finishedLanes=T,h){case 0:case 1:throw Error(o(345));case 2:Mo(d,Di);break;case 3:if(pr(d,T),(T&130023424)===T&&(h=vf+500-Wi(),10<h)){if(Ei(d,0)!==0)break;if(R=d.suspendedLanes,(R&T)!==T){On(),d.pingedLanes|=d.suspendedLanes&R;break}d.timeoutHandle=me(Mo.bind(null,d,Di),h);break}Mo(d,Di);break;case 4:if(pr(d,T),(T&4194240)===T)break;for(h=d.eventTimes,R=-1;0<T;){var ne=31-Qn(T);B=1<<ne,ne=h[ne],ne>R&&(R=ne),T&=~B}if(T=R,T=Wi()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Fm(T/1960))-T,10<T){d.timeoutHandle=me(Mo.bind(null,d,Di),T);break}Mo(d,Di);break;case 5:Mo(d,Di);break;default:throw Error(o(329))}}}return es(d,Wi()),d.callbackNode===S?hr.bind(null,d):null}function yf(d,h){var S=Ca;return d.current.memoizedState.isDehydrated&&(Ra(d,h).flags|=256),d=Sf(d,h),d!==2&&(h=Di,Di=S,h!==null&&xf(h)),d}function xf(d){Di===null?Di=d:Di.push.apply(Di,d)}function Om(d){for(var h=d;;){if(h.flags&16384){var S=h.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var R=S[T],B=R.getSnapshot;R=R.value;try{if(!kr(B(),R))return!1}catch{return!1}}}if(S=h.child,h.subtreeFlags&16384&&S!==null)S.return=h,h=S;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pr(d,h){for(h&=~eu,h&=~xs,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var S=31-Qn(h),T=1<<S;d[S]=-1,h&=~T}}function _s(d){if((cn&6)!==0)throw Error(o(327));Zo();var h=Ei(d,0);if((h&1)===0)return es(d,Wi()),null;var S=Sf(d,h);if(d.tag!==0&&S===2){var T=zs(d);T!==0&&(h=T,S=yf(d,T))}if(S===1)throw S=qu,Ra(d,0),pr(d,h),es(d,Wi()),S;if(S===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Mo(d,Di),es(d,Wi()),null}function Zu(d){Ko!==null&&Ko.tag===0&&(cn&6)===0&&Zo();var h=cn;cn|=1;var S=Xn.transition,T=gn;try{if(Xn.transition=null,gn=1,d)return d()}finally{gn=T,Xn.transition=S,cn=h,(cn&6)===0&&Hs()}}function _f(){Tr=Ql.current,Fe(Ql)}function Ra(d,h){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==Be&&(d.timeoutHandle=Be,De(S)),Yn!==null)for(S=Yn.return;S!==null;){var T=S;switch(dm(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Bn();break;case 3:Uu(),Fe(bt),Fe(At),Bl();break;case 5:mm(T);break;case 4:Uu();break;case 13:Fe(pi);break;case 19:Fe(pi);break;case 10:$c(T.type._context);break;case 22:case 23:_f()}S=S.return}if(Ci=d,Yn=d=Ia(d.current,null),fi=Tr=h,Si=0,qu=null,eu=xs=$o=0,Di=Ca=null,Gs!==null){for(h=0;h<Gs.length;h++)if(S=Gs[h],T=S.interleaved,T!==null){S.interleaved=null;var R=T.next,B=S.pending;if(B!==null){var ne=B.next;B.next=R,T.next=ne}S.pending=T}Gs=null}return d}function Um(d,h){do{var S=Yn;try{if(Fr(),Zc.current=Gu,Zd){for(var T=mi.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}Zd=!1}if(zl=0,Qi=Ji=mi=null,Xo=!1,Vl=0,_o.current=null,S===null||S.return===null){Si=1,qu=h,Yn=null;break}e:{var B=d,ne=S.return,pe=S,Ie=h;if(h=fi,pe.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var nt=Ie,Et=pe,rn=Et.tag;if((Et.mode&1)===0&&(rn===0||rn===11||rn===15)){var Xt=Et.alternate;Xt?(Et.updateQueue=Xt.updateQueue,Et.memoizedState=Xt.memoizedState,Et.lanes=Xt.lanes):(Et.updateQueue=null,Et.memoizedState=null)}var pn=Tm(ne);if(pn!==null){pn.flags&=-257,Gl(pn,ne,pe,B,h),pn.mode&1&&_a(B,nt,h),h=pn,Ie=nt;var _t=h.updateQueue;if(_t===null){var mr=new Set;mr.add(Ie),h.updateQueue=mr}else _t.add(Ie);break e}else{if((h&1)===0){_a(B,nt,h),vh();break e}Ie=Error(o(426))}}else if(ci&&pe.mode&1){var ws=Tm(ne);if(ws!==null){(ws.flags&65536)===0&&(ws.flags|=256),Gl(ws,ne,pe,B,h),qd(Ie);break e}}B=Ie,Si!==4&&(Si=2),Ca===null?Ca=[B]:Ca.push(B),Ie=bm(Ie,pe),pe=ne;do{switch(pe.tag){case 3:pe.flags|=65536,h&=-h,pe.lanes|=h;var we=uv(pe,Ie,h);Hd(pe,we);break e;case 1:B=Ie;var ge=pe.type,Ae=pe.stateNode;if((pe.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(So===null||!So.has(Ae)))){pe.flags|=65536,h&=-h,pe.lanes|=h;var mt=ah(pe,B,h);Hd(pe,mt);break e}}pe=pe.return}while(pe!==null)}Vm(S)}catch(Ut){h=Ut,Yn===S&&S!==null&&(Yn=S=S.return);continue}break}while(!0)}function Bm(){var d=gf.current;return gf.current=Gu,d===null?Gu:d}function vh(){(Si===0||Si===3||Si===2)&&(Si=4),Ci===null||($o&268435455)===0&&(xs&268435455)===0||pr(Ci,fi)}function Sf(d,h){var S=cn;cn|=2;var T=Bm();Ci===d&&fi===h||Ra(d,h);do try{fv();break}catch(R){Um(d,R)}while(!0);if(Fr(),cn=S,gf.current=T,Yn!==null)throw Error(o(261));return Ci=null,fi=0,Si}function fv(){for(;Yn!==null;)zm(Yn)}function dv(){for(;Yn!==null&&!qa();)zm(Yn)}function zm(d){var h=Wm(d.alternate,d,Tr);d.memoizedProps=d.pendingProps,h===null?Vm(d):Yn=h,_o.current=null}function Vm(d){var h=d;do{var S=h.alternate;if(d=h.return,(h.flags&32768)===0){if(S=ch(S,h,Tr),S!==null){Yn=S;return}}else{if(S=hh(S,h),S!==null){S.flags&=32767,Yn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Si=6,Yn=null;return}}if(h=h.sibling,h!==null){Yn=h;return}Yn=h=d}while(h!==null);Si===0&&(Si=5)}function Mo(d,h){var S=gn,T=Xn.transition;try{Xn.transition=null,gn=1,hv(d,h,S)}finally{Xn.transition=T,gn=S}return null}function hv(d,h,S){do Zo();while(Ko!==null);if((cn&6)!==0)throw Error(o(327));var T=d.finishedWork,R=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var B=T.lanes|T.childLanes;if(Dd(d,B),d===Ci&&(Yn=Ci=null,fi=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Ku||(Ku=!0,yh(kd,function(){return Zo(),null})),B=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||B){B=Xn.transition,Xn.transition=null;var ne=gn;gn=1;var pe=cn;cn|=4,_o.current=null,Rm(d,T),E1(d,T),V(d.containerInfo),d.current=T,ff(T),w1(),cn=pe,gn=ne,Xn.transition=B}else d.current=T;if(Ku&&(Ku=!1,Ko=d,nu=R),B=d.pendingLanes,B===0&&(So=null),Xc(T.stateNode),es(d,Wi()),h!==null)for(S=d.onRecoverableError,T=0;T<h.length;T++)S(h[T]);if($u)throw $u=!1,d=si,si=null,d;return(nu&1)!==0&&d.tag!==0&&Zo(),B=d.pendingLanes,(B&1)!==0?d===Pa?iu++:(iu=0,Pa=d):iu=0,Hs(),null}function Zo(){if(Ko!==null){var d=ha(nu),h=Xn.transition,S=gn;try{if(Xn.transition=null,gn=16>d?16:d,Ko===null)var T=!1;else{if(d=Ko,Ko=null,nu=0,(cn&6)!==0)throw Error(o(331));var R=cn;for(cn|=4,lt=d.current;lt!==null;){var B=lt,ne=B.child;if((lt.flags&16)!==0){var pe=B.deletions;if(pe!==null){for(var Ie=0;Ie<pe.length;Ie++){var nt=pe[Ie];for(lt=nt;lt!==null;){var Et=lt;switch(Et.tag){case 0:case 11:case 15:Ta(8,Et,B)}var rn=Et.child;if(rn!==null)rn.return=Et,lt=rn;else for(;lt!==null;){Et=lt;var Xt=Et.sibling,pn=Et.return;if(Im(Et),Et===nt){lt=null;break}if(Xt!==null){Xt.return=pn,lt=Xt;break}lt=pn}}}var _t=B.alternate;if(_t!==null){var mr=_t.child;if(mr!==null){_t.child=null;do{var ws=mr.sibling;mr.sibling=null,mr=ws}while(mr!==null)}}lt=B}}if((B.subtreeFlags&2064)!==0&&ne!==null)ne.return=B,lt=ne;else e:for(;lt!==null;){if(B=lt,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:Ta(9,B,B.return)}var we=B.sibling;if(we!==null){we.return=B.return,lt=we;break e}lt=B.return}}var ge=d.current;for(lt=ge;lt!==null;){ne=lt;var Ae=ne.child;if((ne.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=ne,lt=Ae;else e:for(ne=ge;lt!==null;){if(pe=lt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:dr(9,pe)}}catch(Ut){Vr(pe,pe.return,Ut)}if(pe===ne){lt=null;break e}var mt=pe.sibling;if(mt!==null){mt.return=pe.return,lt=mt;break e}lt=pe.return}}if(cn=R,Hs(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(jc,d)}catch{}T=!0}return T}finally{gn=S,Xn.transition=h}}return!1}function wf(d,h,S){h=bm(S,h),h=uv(d,h,1),$a(d,h),h=On(),d=sl(d,1),d!==null&&(Pl(d,1,h),es(d,h))}function Vr(d,h,S){if(d.tag===3)wf(d,d,S);else for(;h!==null;){if(h.tag===3){wf(h,d,S);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(So===null||!So.has(T))){d=bm(S,d),d=ah(h,d,1),$a(h,d),d=On(),h=sl(h,1),h!==null&&(Pl(h,1,d),es(h,d));break}}h=h.return}}function Hm(d,h,S){var T=d.pingCache;T!==null&&T.delete(h),h=On(),d.pingedLanes|=d.suspendedLanes&S,Ci===d&&(fi&S)===S&&(Si===4||Si===3&&(fi&130023424)===fi&&500>Wi()-vf?Ra(d,0):eu|=S),es(d,h)}function Gm(d,h){h===0&&((d.mode&1)===0?h=1:(h=Jt,Jt<<=1,(Jt&130023424)===0&&(Jt=4194304)));var S=On();d=sl(d,h),d!==null&&(Pl(d,h,S),es(d,S))}function pv(d){var h=d.memoizedState,S=0;h!==null&&(S=h.retryLane),Gm(d,S)}function mv(d,h){var S=0;switch(d.tag){case 13:var T=d.stateNode,R=d.memoizedState;R!==null&&(S=R.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(h),Gm(d,S)}var Wm;Wm=function(d,h,S){if(d!==null)if(d.memoizedProps!==h.pendingProps||bt.current)tr=!0;else{if((d.lanes&S)===0&&(h.flags&128)===0)return tr=!1,dh(d,h,S);tr=(d.flags&131072)!==0}else tr=!1,ci&&(h.flags&1048576)!==0&&tv(h,Xd,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var R=yn(h,At.current);Ru(h,S),R=Bu(null,h,T,d,R,S);var B=Qa();return h.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,hn(T)?(B=!0,Cn(h)):B=!1,h.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Iu(h),R.updater=Wd,h.stateNode=R,R._reactInternals=h,cm(h,T,d,S),h=br(null,h,T,!0,B,S)):(h.tag=0,ci&&B&&fm(h),_i(null,h,R,S),h=h.child),h;case 16:T=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,R=T._init,T=R(T._payload),h.type=T,R=h.tag=A1(T),d=Kr(T,d),R){case 0:h=Ma(null,h,T,d,S);break e;case 1:h=jl(null,h,T,d,S);break e;case 11:h=ti(null,h,T,d,S);break e;case 14:h=Zn(null,h,T,Kr(T.type,d),S);break e}throw Error(o(306,T,""))}return h;case 0:return T=h.type,R=h.pendingProps,R=h.elementType===T?R:Kr(T,R),Ma(d,h,T,R,S);case 1:return T=h.type,R=h.pendingProps,R=h.elementType===T?R:Kr(T,R),jl(d,h,T,R,S);case 3:e:{if(af(h),d===null)throw Error(o(387));T=h.pendingProps,B=h.memoizedState,R=B.element,am(d,h),Gd(h,T,null,S);var ne=h.memoizedState;if(T=ne.element,qe&&B.isDehydrated)if(B={element:T,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){R=Error(o(423)),h=Am(d,h,T,S,R);break e}else if(T!==R){R=Error(o(424)),h=Am(d,h,T,S,R);break e}else for(qe&&(cr=vi(h.stateNode.containerInfo),Or=h,ci=!0,Xs=null,Nu=!1),S=rv(h,null,T,S),h.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Du(),T===R){h=Qr(d,h,S);break e}_i(d,h,T,S)}h=h.child}return h;case 5:return sv(h),d===null&&Za(h),T=h.type,R=h.pendingProps,B=d!==null?d.memoizedProps:null,ne=R.children,Ue(T,R)?ne=null:B!==null&&Ue(T,B)&&(h.flags|=32),Ur(d,h),_i(d,h,ne,S),h.child;case 6:return d===null&&Za(h),null;case 13:return Cm(d,h,S);case 4:return $d(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=ya(h,null,T,S):_i(d,h,T,S),h.child;case 11:return T=h.type,R=h.pendingProps,R=h.elementType===T?R:Kr(T,R),ti(d,h,T,R,S);case 7:return _i(d,h,h.pendingProps,S),h.child;case 8:return _i(d,h,h.pendingProps.children,S),h.child;case 12:return _i(d,h,h.pendingProps.children,S),h.child;case 10:e:{if(T=h.type._context,R=h.pendingProps,B=h.memoizedProps,ne=R.value,Nl(h,T,ne),B!==null)if(kr(B.value,ne)){if(B.children===R.children&&!bt.current){h=Qr(d,h,S);break e}}else for(B=h.child,B!==null&&(B.return=h);B!==null;){var pe=B.dependencies;if(pe!==null){ne=B.child;for(var Ie=pe.firstContext;Ie!==null;){if(Ie.context===T){if(B.tag===1){Ie=ma(-1,S&-S),Ie.tag=2;var nt=B.updateQueue;if(nt!==null){nt=nt.shared;var Et=nt.pending;Et===null?Ie.next=Ie:(Ie.next=Et.next,Et.next=Ie),nt.pending=Ie}}B.lanes|=S,Ie=B.alternate,Ie!==null&&(Ie.lanes|=S),Dl(B.return,S,h),pe.lanes|=S;break}Ie=Ie.next}}else if(B.tag===10)ne=B.type===h.type?null:B.child;else if(B.tag===18){if(ne=B.return,ne===null)throw Error(o(341));ne.lanes|=S,pe=ne.alternate,pe!==null&&(pe.lanes|=S),Dl(ne,S,h),ne=B.sibling}else ne=B.child;if(ne!==null)ne.return=B;else for(ne=B;ne!==null;){if(ne===h){ne=null;break}if(B=ne.sibling,B!==null){B.return=ne.return,ne=B;break}ne=ne.return}B=ne}_i(d,h,R.children,S),h=h.child}return h;case 9:return R=h.type,T=h.pendingProps.children,Ru(h,S),R=Zr(R),T=T(R),h.flags|=1,_i(d,h,T,S),h.child;case 14:return T=h.type,R=Kr(T,h.pendingProps),R=Kr(T.type,R),Zn(d,h,T,R,S);case 15:return wa(d,h,h.type,h.pendingProps,S);case 17:return T=h.type,R=h.pendingProps,R=h.elementType===T?R:Kr(T,R),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,hn(T)?(d=!0,Cn(h)):d=!1,Ru(h,S),Q0(h,T,R),cm(h,T,R,S),br(null,h,T,!0,d,S);case 19:return Yl(d,h,S);case 22:return fr(d,h,S)}throw Error(o(156,h.tag))};function yh(d,h){return Rl(d,h)}function gv(d,h,S,T){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(d,h,S,T){return new gv(d,h,S,T)}function xh(d){return d=d.prototype,!(!d||!d.isReactComponent)}function A1(d){if(typeof d=="function")return xh(d)?1:0;if(d!=null){if(d=d.$$typeof,d===M)return 11;if(d===E)return 14}return 2}function Ia(d,h){var S=d.alternate;return S===null?(S=Ss(d.tag,h,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=h,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,h=d.dependencies,S.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function _h(d,h,S,T,R,B){var ne=2;if(T=d,typeof d=="function")xh(d)&&(ne=1);else if(typeof d=="string")ne=5;else e:switch(d){case p:return ru(S.children,R,B,h);case m:ne=8,R|=8;break;case g:return d=Ss(12,S,h,R|2),d.elementType=g,d.lanes=B,d;case b:return d=Ss(13,S,h,R),d.elementType=b,d.lanes=B,d;case _:return d=Ss(19,S,h,R),d.elementType=_,d.lanes=B,d;case P:return Mf(S,R,B,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case y:ne=10;break e;case x:ne=9;break e;case M:ne=11;break e;case E:ne=14;break e;case C:ne=16,T=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Ss(ne,S,h,R),h.elementType=d,h.type=T,h.lanes=B,h}function ru(d,h,S,T){return d=Ss(7,d,T,h),d.lanes=S,d}function Mf(d,h,S,T){return d=Ss(22,d,T,h),d.elementType=P,d.lanes=S,d.stateNode={},d}function Sh(d,h,S){return d=Ss(6,d,null,h),d.lanes=S,d}function wh(d,h,S){return h=Ss(4,d.children!==null?d.children:[],d.key,h),h.lanes=S,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function Mh(d,h,S,T,R){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=T,this.onRecoverableError=R,qe&&(this.mutableSourceEagerHydrationData=null)}function vv(d,h,S,T,R,B,ne,pe,Ie){return d=new Mh(d,h,S,pe,Ie),h===1?(h=1,B===!0&&(h|=8)):h=0,B=Ss(3,null,null,h),d.current=B,B.stateNode=d,B.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},Iu(B),d}function yv(d){if(!d)return dt;d=d._reactInternals;e:{if(I(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(hn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var S=d.type;if(hn(S))return Gt(d,S,h)}return h}function xv(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=W(h),d===null?null:d.stateNode}function $s(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<h?S:h}}function bf(d,h){$s(d,h),(d=d.alternate)&&$s(d,h)}function bh(d){return d=W(d),d===null?null:d.stateNode}function _v(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=On();Er(d,134217728,h),bf(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=On(),S=wo(d);Er(d,S,h),bf(d,S)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var S=Gi(h.pendingLanes);S!==0&&(Wo(h,S|1),es(h,Wi()),(cn&6)===0&&(tu(),Hs()))}break;case 13:var T=On();Zu(function(){return Er(d,1,T)}),bf(d,1)}},t.batchedUpdates=function(d,h){var S=cn;cn|=1;try{return d(h)}finally{cn=S,cn===0&&(tu(),Od&&Hs())}},t.createComponentSelector=function(d){return{$$typeof:hf,value:d}},t.createContainer=function(d,h,S,T,R,B,ne){return vv(d,h,!1,null,S,T,R,B,ne)},t.createHasPseudoClassSelector=function(d){return{$$typeof:Kl,value:d}},t.createHydrationContainer=function(d,h,S,T,R,B,ne,pe,Ie){return d=vv(S,T,!0,d,R,B,ne,pe,Ie),d.context=yv(null),S=d.current,T=On(),R=wo(S),B=ma(T,R),B.callback=h??null,$a(S,B),d.current.lanes=R,Pl(d,R,T),es(d,T),d},t.createPortal=function(d,h,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:T==null?null:""+T,children:d,containerInfo:h,implementation:S}},t.createRoleSelector=function(d){return{$$typeof:Zl,value:d}},t.createTestNameSelector=function(d){return{$$typeof:Ea,value:d}},t.createTextSelector=function(d){return{$$typeof:Yu,value:d}},t.deferredUpdates=function(d){var h=gn,S=Xn.transition;try{return Xn.transition=null,gn=16,d()}finally{gn=h,Xn.transition=S}},t.discreteUpdates=function(d,h,S,T,R){var B=gn,ne=Xn.transition;try{return Xn.transition=null,gn=1,d(h,S,T,R)}finally{gn=B,Xn.transition=ne,cn===0&&tu()}},t.findAllNodes=Aa,t.findBoundingRects=function(d,h){if(!Je)throw Error(o(363));h=Aa(d,h),d=[];for(var S=0;S<h.length;S++)d.push(Ye(h[S]));for(h=d.length-1;0<h;h--){S=d[h];for(var T=S.x,R=T+S.width,B=S.y,ne=B+S.height,pe=h-1;0<=pe;pe--)if(h!==pe){var Ie=d[pe],nt=Ie.x,Et=nt+Ie.width,rn=Ie.y,Xt=rn+Ie.height;if(T>=nt&&B>=rn&&R<=Et&&ne<=Xt){d.splice(h,1);break}else if(T!==nt||S.width!==Ie.width||Xt<B||rn>ne){if(!(B!==rn||S.height!==Ie.height||Et<T||nt>R)){nt>T&&(Ie.width+=nt-T,Ie.x=T),Et<R&&(Ie.width=R-nt),d.splice(h,1);break}}else{rn>B&&(Ie.height+=rn-B,Ie.y=B),Xt<ne&&(Ie.height=ne-rn),d.splice(h,1);break}}}return d},t.findHostInstance=xv,t.findHostInstanceWithNoPortals=function(d){return d=j(d),d=d!==null?se(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return xv(d)},t.flushControlled=function(d){var h=cn;cn|=1;var S=Xn.transition,T=gn;try{Xn.transition=null,gn=1,d()}finally{gn=T,Xn.transition=S,cn=h,cn===0&&(tu(),Hs())}},t.flushPassiveEffects=Zo,t.flushSync=Zu,t.focusWithin=function(d,h){if(!Je)throw Error(o(363));for(d=pf(d),h=ys(d,h),h=Array.from(h),d=0;d<h.length;){var S=h[d++];if(!H(S)){if(S.tag===5&&Te(S.stateNode))return!0;for(S=S.child;S!==null;)h.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return gn},t.getFindAllNodesFailureDescription=function(d,h){if(!Je)throw Error(o(363));var S=0,T=[];d=[pf(d),0];for(var R=0;R<d.length;){var B=d[R++],ne=d[R++],pe=h[ne];if((B.tag!==5||!H(B))&&(mf(B,pe)&&(T.push(il(pe)),ne++,ne>S&&(S=ne)),ne<h.length))for(B=B.child;B!==null;)d.push(B,ne),B=B.sibling}if(S<h.length){for(d=[];S<h.length;S++)d.push(il(h[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return te(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:bh,findFiberByHostInstance:d.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{jc=h.inject(d),jo=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,S,T){if(!Je)throw Error(o(363));d=Aa(d,h);var R=Re(d,S,T).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(d,h){var S=h._getVersion;S=S(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,S]:d.mutableSourceEagerHydrationData.push(h,S)},t.runWithPriority=function(d,h){var S=gn;try{return gn=d,h()}finally{gn=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,S,T){var R=h.current,B=On(),ne=wo(R);return S=yv(S),h.context===null?h.context=S:h.pendingContext=S,h=ma(B,ne),h.payload={element:d},T=T===void 0?null:T,T!==null&&(h.callback=T),$a(R,h),d=Er(R,ne,B),d!==null&&Vd(d,R,ne),ne},t}),Ew}var w3;function Kj(){return w3||(w3=1,Mw.exports=$j()),Mw.exports}var Zj=Kj();const Jj=wP(Zj);var Aw={exports:{}},Cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function Qj(){return M3||(M3=1,(function(i){function e(z,J){var V=z.length;z.push(J);e:for(;0<V;){var X=V-1>>>1,oe=z[X];if(0<r(oe,J))z[X]=J,z[V]=oe,V=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],V=z.pop();if(V!==J){z[0]=V;e:for(var X=0,oe=z.length,ye=oe>>>1;X<ye;){var Pe=2*(X+1)-1,Ue=z[Pe],de=Pe+1,me=z[de];if(0>r(Ue,V))de<oe&&0>r(me,Ue)?(z[X]=me,z[de]=V,X=de):(z[X]=Ue,z[Pe]=V,X=Pe);else if(de<oe&&0>r(me,V))z[X]=me,z[de]=V,X=de;else break e}}return J}function r(z,J){var V=z.sortIndex-J.sortIndex;return V!==0?V:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var c=[],f=[],p=1,m=null,g=3,y=!1,x=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var J=t(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=z)n(f),J.sortIndex=J.expirationTime,e(c,J);else break;J=t(f)}}function P(z){if(M=!1,C(z),!x)if(t(c)!==null)x=!0,te(D);else{var J=t(f);J!==null&&q(P,J.startTime-z)}}function D(z,J){x=!1,M&&(M=!1,_(U),U=-1),y=!0;var V=g;try{for(C(J),m=t(c);m!==null&&(!(m.expirationTime>J)||z&&!j());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var oe=X(m.expirationTime<=J);J=i.unstable_now(),typeof oe=="function"?m.callback=oe:m===t(c)&&n(c),C(J)}else n(c);m=t(c)}if(m!==null)var ye=!0;else{var Pe=t(f);Pe!==null&&q(P,Pe.startTime-J),ye=!1}return ye}finally{m=null,g=V,y=!1}}var F=!1,O=null,U=-1,I=5,k=-1;function j(){return!(i.unstable_now()-k<I)}function W(){if(O!==null){var z=i.unstable_now();k=z;var J=!0;try{J=O(!0,z)}finally{J?$():(F=!1,O=null)}}else F=!1}var $;if(typeof E=="function")$=function(){E(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=W,$=function(){Z.postMessage(null)}}else $=function(){b(W,0)};function te(z){O=z,F||(F=!0,$())}function q(z,J){U=b(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){x||y||(x=!0,te(D))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var V=g;g=J;try{return z()}finally{g=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=g;g=z;try{return J()}finally{g=V}},i.unstable_scheduleCallback=function(z,J,V){var X=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,z={id:p++,callback:J,priorityLevel:z,startTime:V,expirationTime:oe,sortIndex:-1},V>X?(z.sortIndex=V,e(f,z),t(c)===null&&z===t(f)&&(M?(_(U),U=-1):M=!0,q(P,V-X))):(z.sortIndex=oe,e(c,z),x||y||(x=!0,te(D))),z},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(z){var J=g;return function(){var V=g;g=J;try{return z.apply(this,arguments)}finally{g=V}}}})(Cw)),Cw}var b3;function eX(){return b3||(b3=1,Aw.exports=Qj()),Aw.exports}var T3=eX();const VT={},tX=i=>void Object.assign(VT,i);function nX(i,e){function t(p,{args:m=[],attach:g,...y},x){let M=`${p[0].toUpperCase()}${p.slice(1)}`,b;if(p==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=y.object;b=rp(_,{type:p,root:x,attach:g,primitive:!0})}else{const _=VT[M];if(!_)throw new Error(`R3F: ${M} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");b=rp(new _(...m),{type:p,root:x,attach:g,memoizedProps:{args:m}})}return b.__r3f.attach===void 0&&(b.isBufferGeometry?b.__r3f.attach="geometry":b.isMaterial&&(b.__r3f.attach="material")),M!=="inject"&&Iw(b,y),b}function n(p,m){let g=!1;if(m){var y,x;(y=m.__r3f)!=null&&y.attach?Rw(p,m,m.__r3f.attach):m.isObject3D&&p.isObject3D&&(p.add(m),g=!0),g||(x=p.__r3f)==null||x.objects.push(m),m.__r3f||rp(m,{}),m.__r3f.parent=p,WM(m),sp(m)}}function r(p,m,g){let y=!1;if(m){var x,M;if((x=m.__r3f)!=null&&x.attach)Rw(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){m.parent=p,m.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:m});const b=p.children.filter(E=>E!==m),_=b.indexOf(g);p.children=[...b.slice(0,_),m,...b.slice(_)],y=!0}y||(M=p.__r3f)==null||M.objects.push(m),m.__r3f||rp(m,{}),m.__r3f.parent=p,WM(m),sp(m)}}function s(p,m,g=!1){p&&[...p].forEach(y=>o(m,y,g))}function o(p,m,g){if(m){var y,x,M;if(m.__r3f&&(m.__r3f.parent=null),(y=p.__r3f)!=null&&y.objects&&(p.__r3f.objects=p.__r3f.objects.filter(P=>P!==m)),(x=m.__r3f)!=null&&x.attach)R3(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){var b;p.remove(m),(b=m.__r3f)!=null&&b.root&&uX(cx(m),m)}const E=(M=m.__r3f)==null?void 0:M.primitive,C=!E&&(g===void 0?m.dispose!==null:g);if(!E){var _;s((_=m.__r3f)==null?void 0:_.objects,m,C),s(m.children,m,C)}if(delete m.__r3f,C&&m.dispose&&m.type!=="Scene"){const P=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?T3.unstable_scheduleCallback(T3.unstable_IdlePriority,P):P()}sp(p)}}function a(p,m,g,y){var x;const M=(x=p.__r3f)==null?void 0:x.parent;if(!M)return;const b=t(m,g,p.__r3f.root);if(p.children){for(const _ of p.children)_.__r3f&&n(b,_);p.children=p.children.filter(_=>!_.__r3f)}p.__r3f.objects.forEach(_=>n(b,_)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||o(M,p),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),n(M,b),b.raycast&&b.__r3f.eventCount&&cx(b).getState().internal.interaction.push(b),[y,y.alternate].forEach(_=>{_!==null&&(_.stateNode=b,_.ref&&(typeof _.ref=="function"?_.ref(b):_.ref.current=b))})}const c=()=>{};return{reconciler:Jj({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,m)=>{if(!m)return;const g=p.getState().scene;g.__r3f&&(g.__r3f.root=p,n(g,m))},removeChildFromContainer:(p,m)=>{m&&o(p.getState().scene,m)},insertInContainerBefore:(p,m,g)=>{if(!m||!g)return;const y=p.getState().scene;y.__r3f&&r(y,m,g)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var m;return!!((m=p?.__r3f)!=null?m:{}).handlers},prepareUpdate(p,m,g,y){var x;if(((x=p?.__r3f)!=null?x:{}).primitive&&y.object&&y.object!==p)return[!0];{const{args:b=[],children:_,...E}=y,{args:C=[],children:P,...D}=g;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((O,U)=>O!==C[U]))return[!0];const F=RN(p,E,D,!0);return F.changes.length?[!1,F]:null}},commitUpdate(p,[m,g],y,x,M,b){m?a(p,y,M,b):Iw(p,g)},commitMount(p,m,g,y){var x;const M=(x=p.__r3f)!=null?x:{};p.raycast&&M.handlers&&M.eventCount&&cx(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>rp(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var m;const{attach:g,parent:y}=(m=p.__r3f)!=null?m:{};g&&y&&R3(y,p,g),p.isObject3D&&(p.visible=!1),sp(p)},unhideInstance(p,m){var g;const{attach:y,parent:x}=(g=p.__r3f)!=null?g:{};y&&x&&Rw(x,p,y),(p.isObject3D&&m.visible==null||m.visible)&&(p.visible=!0),sp(p)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():gp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gi.fun(performance.now)?performance.now:gi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Iw}}var E3,A3;const Pw=i=>"colorSpace"in i||"outputColorSpace"in i,bN=()=>{var i;return(i=VT.ColorManagement)!=null?i:null},TN=i=>i&&i.isOrthographicCamera,iX=i=>i&&i.hasOwnProperty("current"),q0=typeof window<"u"&&((E3=window.document)!=null&&E3.createElement||((A3=window.navigator)==null?void 0:A3.product)==="ReactNative")?ce.useLayoutEffect:ce.useEffect;function EN(i){const e=ce.useRef(i);return q0(()=>void(e.current=i),[i]),e}function rX({set:i}){return q0(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class AN extends ce.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AN.getDerivedStateFromError=()=>({error:!0});const CN="__default",C3=new Map,sX=i=>i&&!!i.memoized&&!!i.changes;function PN(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const pg=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function cx(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gi={obj:i=>i===Object(i)&&!gi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(gi.str(i)||gi.num(i)||gi.boo(i))return i===e;const s=gi.obj(i);if(s&&n==="reference")return i===e;const o=gi.arr(i);if(o&&t==="reference")return i===e;if((o||s)&&i===e)return!0;let a;for(a in i)if(!(a in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(a in r?e:i)if(!gi.equ(i[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:i)if(i[a]!==e[a])return!1;if(gi.und(a)){if(o&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function oX(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function rp(i,e){const t=i;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function GM(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,o)=>s[o],i),{target:t,key:r}}else return{target:t,key:e}}const P3=/-\d+$/;function Rw(i,e,t){if(gi.str(t)){if(P3.test(t)){const s=t.replace(P3,""),{target:o,key:a}=GM(i,s);Array.isArray(o[a])||(o[a]=[])}const{target:n,key:r}=GM(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function R3(i,e,t){var n,r;if(gi.str(t)){const{target:s,key:o}=GM(i,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function RN(i,{children:e,key:t,ref:n,...r},{children:s,key:o,ref:a,...c}={},f=!1){const p=i.__r3f,m=Object.entries(r),g=[];if(f){const x=Object.keys(c);for(let M=0;M<x.length;M++)r.hasOwnProperty(x[M])||m.unshift([x[M],CN+"remove"])}m.forEach(([x,M])=>{var b;if((b=i.__r3f)!=null&&b.primitive&&x==="object"||gi.equ(M,c[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,M,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),g.push([x,M,!1,_]);for(const E in r){const C=r[E];E.startsWith(`${x}-`)&&g.push([E,C,!1,E.split("-")])}});const y={...r};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(y.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(y.attach=p.memoizedProps.attach),{memoized:y,changes:g}}function Iw(i,e){var t;const n=i.__r3f,r=n?.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=sX(e)?e:RN(i,e),c=n?.eventCount;i.__r3f&&(i.__r3f.memoizedProps=o);for(let g=0;g<a.length;g++){let[y,x,M,b]=a[g];if(Pw(i)){const P="srgb",D="srgb-linear";y==="encoding"?(y="colorSpace",x=x===3001?P:D):y==="outputEncoding"&&(y="outputColorSpace",x=x===3001?P:D)}let _=i,E=_[y];if(b.length&&(E=b.reduce((C,P)=>C[P],i),!(E&&E.set))){const[C,...P]=b.reverse();_=P.reverse().reduce((D,F)=>D[F],i),y=C}if(x===CN+"remove")if(_.constructor){let C=C3.get(_.constructor);C||(C=new _.constructor,C3.set(_.constructor,C)),x=C[y]}else x=0;if(M&&n)x?n.handlers[y]=x:delete n.handlers[y],n.eventCount=Object.keys(n.handlers).length;else if(E&&E.set&&(E.copy||E instanceof fd)){if(Array.isArray(x))E.fromArray?E.fromArray(x):E.set(...x);else if(E.copy&&x&&x.constructor&&E.constructor===x.constructor)E.copy(x);else if(x!==void 0){var f;const C=(f=E)==null?void 0:f.isColor;!C&&E.setScalar?E.setScalar(x):E instanceof fd&&x instanceof fd?E.mask=x.mask:E.set(x),!bN()&&s&&!s.linear&&C&&E.convertSRGBToLinear()}}else{var p;if(_[y]=x,(p=_[y])!=null&&p.isTexture&&_[y].format===Xr&&_[y].type===Is&&s){const C=_[y];Pw(C)&&Pw(s.gl)?C.colorSpace=s.gl.outputColorSpace:C.encoding=s.gl.outputEncoding}}sp(i)}if(n&&n.parent&&i.raycast&&c!==n.eventCount){const g=cx(i).getState().internal,y=g.interaction.indexOf(i);y>-1&&g.interaction.splice(y,1),n.eventCount&&g.interaction.push(i)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=i.__r3f)!=null&&t.parent&&WM(i),i}function sp(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function WM(i){i.onUpdate==null||i.onUpdate(i)}function aX(i,e){i.manual||(TN(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function By(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function lX(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return gp.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gp.ContinuousEventPriority;default:return gp.DefaultEventPriority}}function IN(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function uX(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{IN(t.capturedMap,e,n,r)})}function cX(i){function e(c){const{internal:f}=i.getState(),p=c.offsetX-f.initialClick[0],m=c.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+m*m))}function t(c){return c.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var m;return(m=f.__r3f)==null?void 0:m.handlers["onPointer"+p]}))}function n(c,f){const p=i.getState(),m=new Set,g=[],y=f?f(p.internal.interaction):p.internal.interaction;for(let _=0;_<y.length;_++){const E=pg(y[_]);E&&(E.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function x(_){const E=pg(_);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var C;E.events.compute==null||E.events.compute(c,E,(C=E.previousRoot)==null?void 0:C.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(_,!0):[]}let M=y.flatMap(x).sort((_,E)=>{const C=pg(_.object),P=pg(E.object);return!C||!P?_.distance-E.distance:P.events.priority-C.events.priority||_.distance-E.distance}).filter(_=>{const E=By(_);return m.has(E)?!1:(m.add(E),!0)});p.events.filter&&(M=p.events.filter(M,p));for(const _ of M){let E=_.object;for(;E;){var b;(b=E.__r3f)!=null&&b.eventCount&&g.push({..._,eventObject:E}),E=E.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let _ of p.internal.capturedMap.get(c.pointerId).values())m.has(By(_.intersection))||g.push(_.intersection);return g}function r(c,f,p,m){const g=i.getState();if(c.length){const y={stopped:!1};for(const x of c){const M=pg(x.object)||g,{raycaster:b,pointer:_,camera:E,internal:C}=M,P=new ee(_.x,_.y,0).unproject(E),D=k=>{var j,W;return(j=(W=C.capturedMap.get(k))==null?void 0:W.has(x.eventObject))!=null?j:!1},F=k=>{const j={intersection:x,target:f.target};C.capturedMap.has(k)?C.capturedMap.get(k).set(x.eventObject,j):C.capturedMap.set(k,new Map([[x.eventObject,j]])),f.target.setPointerCapture(k)},O=k=>{const j=C.capturedMap.get(k);j&&IN(C.capturedMap,x.eventObject,j,k)};let U={};for(let k in f){let j=f[k];typeof j!="function"&&(U[k]=j)}let I={...x,...U,pointer:_,intersections:c,stopped:y.stopped,delta:p,unprojectedPoint:P,ray:b.ray,camera:E,stopPropagation(){const k="pointerId"in f&&C.capturedMap.get(f.pointerId);if((!k||k.has(x.eventObject))&&(I.stopped=y.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(j=>j.eventObject===x.eventObject))){const j=c.slice(0,c.indexOf(x));s([...j,x])}},target:{hasPointerCapture:D,setPointerCapture:F,releasePointerCapture:O},currentTarget:{hasPointerCapture:D,setPointerCapture:F,releasePointerCapture:O},nativeEvent:f};if(m(I),y.stopped===!0)break}}return c}function s(c){const{internal:f}=i.getState();for(const p of f.hovered.values())if(!c.length||!c.find(m=>m.object===p.object&&m.index===p.index&&m.instanceId===p.instanceId)){const g=p.eventObject.__r3f,y=g?.handlers;if(f.hovered.delete(By(p)),g!=null&&g.eventCount){const x={...p,intersections:c};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function o(c,f){for(let p=0;p<f.length;p++){const m=f[p].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function a(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:p}=i.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),s([]))})}}return function(p){const{onPointerMissed:m,internal:g}=i.getState();g.lastEvent.current=p;const y=c==="onPointerMove",x=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",b=n(p,y?t:void 0),_=x?e(p):0;c==="onPointerDown"&&(g.initialClick=[p.offsetX,p.offsetY],g.initialHits=b.map(C=>C.eventObject)),x&&!b.length&&_<=2&&(o(p,g.interaction),m&&m(p)),y&&s(b);function E(C){const P=C.eventObject,D=P.__r3f,F=D?.handlers;if(D!=null&&D.eventCount)if(y){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const O=By(C),U=g.hovered.get(O);U?U.stopped&&C.stopPropagation():(g.hovered.set(O,C),F.onPointerOver==null||F.onPointerOver(C),F.onPointerEnter==null||F.onPointerEnter(C))}F.onPointerMove==null||F.onPointerMove(C)}else{const O=F[c];O?(!x||g.initialHits.includes(P))&&(o(p,g.interaction.filter(U=>!g.initialHits.includes(U))),O(C)):x&&g.initialHits.includes(P)&&o(p,g.interaction.filter(U=>!g.initialHits.includes(U)))}}r(b,p,_,E)}}return{handlePointer:a}}const LN=i=>!!(i!=null&&i.render),NN=ce.createContext(null),fX=(i,e)=>{const t=Xj((a,c)=>{const f=new ee,p=new ee,m=new ee;function g(_=c().camera,E=p,C=c().size){const{width:P,height:D,top:F,left:O}=C,U=P/D;E.isVector3?m.copy(E):m.set(...E);const I=_.getWorldPosition(f).distanceTo(m);if(TN(_))return{width:P/_.zoom,height:D/_.zoom,top:F,left:O,factor:1,distance:I,aspect:U};{const k=_.fov*Math.PI/180,j=2*Math.tan(k/2)*I,W=j*(P/D);return{width:W,height:j,top:F,left:O,factor:P/W,distance:I,aspect:U}}}let y;const x=_=>a(E=>({performance:{...E.performance,current:_}})),M=new ze;return{set:a,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>i(c(),_),advance:(_,E)=>e(_,E,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new FT,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=c();y&&clearTimeout(y),_.performance.current!==_.performance.min&&x(_.performance.min),y=setTimeout(()=>x(c().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:_=>a(E=>({...E,events:{...E.events,..._}})),setSize:(_,E,C,P,D)=>{const F=c().camera,O={width:_,height:E,top:P||0,left:D||0,updateStyle:C};a(U=>({size:O,viewport:{...U.viewport,...g(F,p,O)}}))},setDpr:_=>a(E=>{const C=PN(_);return{viewport:{...E.viewport,dpr:C,initialDpr:E.viewport.initialDpr||C}}}),setFrameloop:(_="always")=>{const E=c().clock;E.stop(),E.elapsedTime=0,_!=="never"&&(E.start(),E.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ce.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,E,C)=>{const P=c().internal;return P.priority=P.priority+(E>0?1:0),P.subscribers.push({ref:_,priority:E,store:C}),P.subscribers=P.subscribers.sort((D,F)=>D.priority-F.priority),()=>{const D=c().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(E>0?1:0),D.subscribers=D.subscribers.filter(F=>F.ref!==_))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:a,size:c,viewport:f,gl:p,set:m}=t.getState();if(c.width!==r.width||c.height!==r.height||f.dpr!==s){var g;r=c,s=f.dpr,aX(a,c),p.setPixelRatio(f.dpr);const y=(g=c.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,y)}a!==o&&(o=a,m(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>i(a)),t};let zy,dX=new Set,hX=new Set,pX=new Set;function Lw(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function mg(i,e){switch(i){case"before":return Lw(dX,e);case"after":return Lw(hX,e);case"tail":return Lw(pX,e)}}let Nw,Dw;function kw(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),Nw=e.internal.subscribers,zy=0;zy<Nw.length;zy++)Dw=Nw[zy],Dw.ref.current(Dw.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function mX(i){let e=!1,t=!1,n,r,s;function o(f){r=requestAnimationFrame(o),e=!0,n=0,mg("before",f),t=!0;for(const m of i.values()){var p;s=m.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((p=s.gl.xr)!=null&&p.isPresenting)&&(n+=kw(f,s))}if(t=!1,mg("after",f),n===0)return mg("tail",f),e=!1,cancelAnimationFrame(r)}function a(f,p=1){var m;if(!f)return i.forEach(g=>a(g.store.getState(),p));(m=f.gl.xr)!=null&&m.isPresenting||!f.internal.active||f.frameloop==="never"||(p>1?f.internal.frames=Math.min(60,f.internal.frames+p):t?f.internal.frames=2:f.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(f,p=!0,m,g){if(p&&mg("before",f),m)kw(f,m,g);else for(const y of i.values())kw(f,y.store.getState());p&&mg("after",f)}return{loop:o,invalidate:a,advance:c}}function gX(){const i=ce.useContext(NN);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function vX(i,e=0){const t=gX(),n=t.getState().internal.subscribe,r=EN(i);return q0(()=>n(r,e,t),[e,n,t]),null}const Bp=new Map,{invalidate:I3,advance:L3}=mX(Bp),{reconciler:__,applyProps:Jh}=nX(Bp,lX),Qh={objects:"shallow",strict:!1},yX=(i,e)=>{const t=typeof i=="function"?i(e):i;return LN(t)?t:new MN({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function xX(i,e){const t=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:n,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:n,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:o}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function _X(i){const e=Bp.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||fX(I3,L3),o=t||__.createContainer(s,gp.ConcurrentRoot,null,!1,null,"",r,null);e||Bp.set(i,{fiber:o,store:s});let a,c=!1,f;return{configure(p={}){let{gl:m,size:g,scene:y,events:x,onCreated:M,shadows:b=!1,linear:_=!1,flat:E=!1,legacy:C=!1,orthographic:P=!1,frameloop:D="always",dpr:F=[1,2],performance:O,raycaster:U,camera:I,onPointerMissed:k}=p,j=s.getState(),W=j.gl;j.gl||j.set({gl:W=yX(m,i)});let $=j.raycaster;$||j.set({raycaster:$=new mN});const{params:se,...Z}=U||{};if(gi.equ(Z,$,Qh)||Jh($,{...Z}),gi.equ(se,$.params,Qh)||Jh($,{params:{...$.params,...se}}),!j.camera||j.camera===f&&!gi.equ(f,I,Qh)){f=I;const V=I instanceof z0,X=V?I:P?new im(0,0,0,0,.1,1e3):new Nr(75,0,.1,1e3);V||(X.position.z=5,I&&(Jh(X,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(X.manual=!0,X.updateProjectionMatrix())),!j.camera&&!(I!=null&&I.rotation)&&X.lookAt(0,0,0)),j.set({camera:X}),$.camera=X}if(!j.scene){let V;y!=null&&y.isScene?V=y:(V=new pT,y&&Jh(V,y)),j.set({scene:rp(V)})}if(!j.xr){var te;const V=(ye,Pe)=>{const Ue=s.getState();Ue.frameloop!=="never"&&L3(ye,!0,Ue,Pe)},X=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?V:null),ye.gl.xr.isPresenting||I3(ye)},oe={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",X),ye.xr.addEventListener("sessionend",X)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",X),ye.xr.removeEventListener("sessionend",X)}};typeof((te=W.xr)==null?void 0:te.addEventListener)=="function"&&oe.connect(),j.set({xr:oe})}if(W.shadowMap){const V=W.shadowMap.enabled,X=W.shadowMap.type;if(W.shadowMap.enabled=!!b,gi.boo(b))W.shadowMap.type=kg;else if(gi.str(b)){var q;const oe={basic:kI,percentage:Sp,soft:kg,variance:nd};W.shadowMap.type=(q=oe[b])!=null?q:kg}else gi.obj(b)&&Object.assign(W.shadowMap,b);(V!==W.shadowMap.enabled||X!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const z=bN();z&&("enabled"in z?z.enabled=!C:"legacyMode"in z&&(z.legacyMode=C)),c||Jh(W,{outputEncoding:_?3e3:3001,toneMapping:E?la:O_}),j.legacy!==C&&j.set(()=>({legacy:C})),j.linear!==_&&j.set(()=>({linear:_})),j.flat!==E&&j.set(()=>({flat:E})),m&&!gi.fun(m)&&!LN(m)&&!gi.equ(m,W,Qh)&&Jh(W,m),x&&!j.events.handlers&&j.set({events:x(s)});const J=xX(i,g);return gi.equ(J,j.size,Qh)||j.setSize(J.width,J.height,J.updateStyle,J.top,J.left),F&&j.viewport.dpr!==PN(F)&&j.setDpr(F),j.frameloop!==D&&j.setFrameloop(D),j.onPointerMissed||j.set({onPointerMissed:k}),O&&!gi.equ(O,j.performance,Qh)&&j.set(V=>({performance:{...V.performance,...O}})),a=M,c=!0,this},render(p){return c||this.configure(),__.updateContainer(N.jsx(SX,{store:s,children:p,onCreated:a,rootElement:i}),o,null,()=>{}),s},unmount(){DN(i)}}}function SX({store:i,children:e,onCreated:t,rootElement:n}){return q0(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),N.jsx(NN.Provider,{value:i,children:e})}function DN(i,e){const t=Bp.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),__.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,o,a,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),oX(r),Bp.delete(i)}catch{}},500)})}}__.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ce.version});const Fw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wX(i){const{handlePointer:e}=cX(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Fw).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,a])=>{const[c,f]=Fw[o];t.addEventListener(c,a,{passive:f})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[a]=Fw[s];n.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function N3(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function MX({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=ce.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=ce.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=i?typeof i=="number"?i:i.scroll:null,f=i?typeof i=="number"?i:i.resize:null,p=ce.useRef(!1);ce.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[m,g,y]=ce.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:E,top:C,width:P,height:D,bottom:F,right:O,x:U,y:I}=a.current.element.getBoundingClientRect(),k={left:E,top:C,width:P,height:D,bottom:F,right:O,x:U,y:I};a.current.element instanceof HTMLElement&&n&&(k.height=a.current.element.offsetHeight,k.width=a.current.element.offsetWidth),Object.freeze(k),p.current&&!AX(a.current.lastBounds,k)&&o(a.current.lastBounds=k)};return[_,f?N3(_,f):_,c?N3(_,c):_]},[o,n,c,f]);function x(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function M(){a.current.element&&(a.current.resizeObserver=new r(y),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const b=_=>{!_||_===a.current.element||(x(),a.current.element=_,a.current.scrollContainers=kN(_),M())};return TX(y,!!e),bX(g),ce.useEffect(()=>{x(),M()},[e,y,g]),ce.useEffect(()=>x,[]),[b,s,m]}function bX(i){ce.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function TX(i,e){ce.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function kN(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...kN(i.parentElement)]}const EX=["x","y","top","bottom","left","right","width","height"],AX=(i,e)=>EX.every(t=>i[t]===e[t]);var CX=Object.defineProperty,PX=Object.defineProperties,RX=Object.getOwnPropertyDescriptors,D3=Object.getOwnPropertySymbols,IX=Object.prototype.hasOwnProperty,LX=Object.prototype.propertyIsEnumerable,k3=(i,e,t)=>e in i?CX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,F3=(i,e)=>{for(var t in e||(e={}))IX.call(e,t)&&k3(i,t,e[t]);if(D3)for(var t of D3(e))LX.call(e,t)&&k3(i,t,e[t]);return i},NX=(i,e)=>PX(i,RX(e)),O3,U3;typeof window<"u"&&((O3=window.document)!=null&&O3.createElement||((U3=window.navigator)==null?void 0:U3.product)==="ReactNative")?ce.useLayoutEffect:ce.useEffect;function FN(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=FN(n,e,t);if(r)return r;n=n.sibling}}function ON(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const B3=console.error;console.error=function(){const i=[...arguments].join("");if(i?.startsWith("Warning:")&&i.includes("useContext")){console.error=B3;return}return B3.apply(this,arguments)};const HT=ON(ce.createContext(null));class UN extends ce.Component{render(){return ce.createElement(HT.Provider,{value:this._reactInternals},this.props.children)}}function DX(){const i=ce.useContext(HT);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ce.useId();return ce.useMemo(()=>{for(const n of[i,i?.alternate]){if(!n)continue;const r=FN(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[i,e])}function kX(){const i=DX(),[e]=ce.useState(()=>new Map);e.clear();let t=i;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==HT&&!e.has(r)&&e.set(r,ce.useContext(ON(r)))}t=t.return}return e}function FX(){const i=kX();return ce.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>ce.createElement(e,null,ce.createElement(t.Provider,NX(F3({},n),{value:i.get(t)}))),e=>ce.createElement(UN,F3({},e))),[i])}const OX=ce.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:o=wX,eventSource:a,eventPrefix:c,shadows:f,linear:p,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:M,performance:b,raycaster:_,camera:E,scene:C,onPointerMissed:P,onCreated:D,...F},O){ce.useMemo(()=>tX(Vj),[]);const U=FX(),[I,k]=MX({scroll:!0,debounce:{scroll:50,resize:0},...n}),j=ce.useRef(null),W=ce.useRef(null);ce.useImperativeHandle(O,()=>j.current);const $=EN(P),[se,Z]=ce.useState(!1),[te,q]=ce.useState(!1);if(se)throw se;if(te)throw te;const z=ce.useRef(null);q0(()=>{const V=j.current;k.width>0&&k.height>0&&V&&(z.current||(z.current=_X(V)),z.current.configure({gl:s,events:o,shadows:f,linear:p,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:M,performance:b,raycaster:_,camera:E,scene:C,size:k,onPointerMissed:(...X)=>$.current==null?void 0:$.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?iX(a)?a.current:a:W.current),c&&X.setEvents({compute:(oe,ye)=>{const Pe=oe[c+"X"],Ue=oe[c+"Y"];ye.pointer.set(Pe/ye.size.width*2-1,-(Ue/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),D?.(X)}}),z.current.render(N.jsx(U,{children:N.jsx(AN,{set:q,children:N.jsx(ce.Suspense,{fallback:N.jsx(rX,{set:Z}),children:e??null})})})))}),ce.useEffect(()=>{const V=j.current;if(V)return()=>DN(V)},[]);const J=a?"none":"auto";return N.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...r},...F,children:N.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:N.jsx("canvas",{ref:j,style:{display:"block"},children:t})})})}),UX=ce.forwardRef(function(e,t){return N.jsx(UN,{children:N.jsx(OX,{...e,ref:t})})});function BN(...i){return kP(mb(i))}const BX=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,zX=`
  uniform float iTime;
  uniform vec2 iResolution;
  uniform sampler2D iChannel0;
  varying vec2 vUv;

  void main() {
    vec2 uv = vUv;
    float result = 0.0;

    // Sample noise texture at different scales and speeds
    result += texture2D(iChannel0, uv * 1.1 + vec2(iTime * -0.005)).r;
    result *= texture2D(iChannel0, uv * 0.9 + vec2(iTime * 0.005)).g;

    // Power function creates sharp, defined sparkles
    result = pow(result, 12.0);

    // Amplify the result for visibility
    gl_FragColor = vec4(vec3(5.0) * result, 1.0);
  }
`;function VX(i=512){const e=new Uint8Array(i*i*4);for(let n=0;n<i*i;n++){const r=n*4,s=Math.random()*255,o=Math.random()*255,a=Math.random()*255;e[r]=s,e[r+1]=o,e[r+2]=a,e[r+3]=255}const t=new ua(e,i,i,Xr);return t.wrapS=Sd,t.wrapT=Sd,t.minFilter=ui,t.magFilter=ui,t.needsUpdate=!0,t}function HX({speed:i=1,intensity:e=5}){const t=ce.useRef(null),n=ce.useMemo(()=>VX(512),[]),r=ce.useMemo(()=>new co({uniforms:{iTime:{value:0},iResolution:{value:new ze(typeof window<"u"?window.innerWidth:1920,typeof window<"u"?window.innerHeight:1080)},iChannel0:{value:n}},vertexShader:BX,fragmentShader:zX,transparent:!1,side:Ga}),[n]);return vX(s=>{t.current&&t.current.material instanceof co&&(t.current.material.uniforms.iTime.value=s.clock.elapsedTime*i,t.current.material.uniforms.iResolution.value.set(s.size.width,s.size.height))}),N.jsx("mesh",{ref:t,material:r,children:N.jsx("planeGeometry",{args:[10,10]})})}function GX({speed:i=1,intensity:e=5,className:t=""}){return N.jsx("div",{className:BN("absolute inset-0 w-full h-full opacity-50 mix-blend-lighten pointer-events-none z-0",t),children:N.jsxs(UX,{camera:{position:[0,0,8],fov:35},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1},gl:{powerPreference:"high-performance"},children:[N.jsx("color",{attach:"background",args:["#000"]})," ",N.jsx(HX,{speed:i,intensity:e})]})})}const zN=({speed:i=.75,intensity:e=5,className:t=""})=>N.jsxs("div",{className:BN("relative w-full h-full overflow-hidden",t),children:[N.jsx("div",{className:"absolute inset-0 bg-black z-0"}),N.jsx(GX,{speed:i,intensity:e}),N.jsx("div",{className:"relative z-10 w-full h-full"})]});function WX(){return N.jsxs("section",{id:"what-is-launchpad",className:"py-16 md:py-24 relative overflow-hidden",style:{backgroundColor:"var(--lp-bg-solid)"},children:[N.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:N.jsx(zN,{speed:.5,intensity:6})}),N.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:N.jsxs(on.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,ease:"easeOut"},className:"text-center",children:[N.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-8 text-white",style:{fontFamily:"'Poppins', sans-serif",fontWeight:900},children:["What is ",N.jsx("span",{className:"lp-text-gradient inline-block",children:"Launchpad"}),"?"]}),N.jsxs(on.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"rounded-2xl p-8 md:p-10",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",boxShadow:"0 0 60px rgba(0, 169, 255, 0.1)"},children:[N.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl leading-relaxed text-slate-300 mb-6",children:["Launchpad is a structured ",N.jsx("span",{className:"text-white font-semibold",children:"90-day execution ecosystem"})," designed to convert students and young professionals into entrepreneurs, operators, or high-impact professionals."]}),N.jsx("div",{className:"w-24 h-px mx-auto my-6",style:{background:"linear-gradient(to right, transparent, var(--lp-red) 30%, var(--lp-blue) 70%, transparent)"}}),N.jsxs("p",{className:"text-base md:text-lg text-slate-300",children:["This is ",N.jsx("span",{className:"text-white font-medium",children:"not theory-based learning"}),". This is ",N.jsx("span",{className:"text-white font-medium",children:"real work, real pressure, and real outcomes"}),"."]})]})]})})]})}const jX="_scrollSection_1nnkr_3",XX="_scrollTrack_1nnkr_19",YX="_scrollPanel_1nnkr_33",qX="_hero_1nnkr_57",$X="_old_1nnkr_125",KX="_system_1nnkr_151",ZX="_outcome_1nnkr_173",JX="_heroContent_1nnkr_195",QX="_oldContent_1nnkr_197",eY="_systemContent_1nnkr_199",tY="_outcomeContent_1nnkr_201",nY="_heroLine_1nnkr_247",iY="_heroWhy_1nnkr_263",rY="_heroLaunchpad_1nnkr_271",sY="_heroDiff_1nnkr_279",oY="_lpWord_1nnkr_287",aY="_choose_1nnkr_311",lY="_features_1nnkr_355",uY="_feature_1nnkr_355",cY="_icon_1nnkr_387",fY="_stats_1nnkr_401",dY="_newSystemTitle_1nnkr_415",hY="_newSystemDesc_1nnkr_429",pY="_cardGrid_1nnkr_455",mY="_card_1nnkr_455",gY="_cta_1nnkr_507",vY="_ctaButton_1nnkr_555",yY="_oldWarning_1nnkr_595",xY="_oldList_1nnkr_611",_Y="_oldTitle_1nnkr_625",SY="_oldText_1nnkr_639",xn={scrollSection:jX,scrollTrack:XX,scrollPanel:YX,hero:qX,old:$X,system:KX,outcome:ZX,heroContent:JX,oldContent:QX,systemContent:eY,outcomeContent:tY,heroLine:nY,heroWhy:iY,heroLaunchpad:rY,heroDiff:sY,lpWord:oY,choose:aY,features:lY,feature:uY,icon:cY,stats:fY,newSystemTitle:dY,newSystemDesc:hY,cardGrid:pY,card:mY,cta:gY,ctaButton:vY,oldWarning:yY,oldList:xY,oldTitle:_Y,oldText:SY};function mu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function VN(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Bo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zp={duration:.5,overwrite:!1,delay:0},GT,$r,Mi,sa=1e8,ai=1/sa,jM=Math.PI*2,wY=jM/4,MY=0,HN=Math.sqrt,bY=Math.cos,TY=Math.sin,Dr=function(e){return typeof e=="string"},Bi=function(e){return typeof e=="function"},Eu=function(e){return typeof e=="number"},WT=function(e){return typeof e>"u"},Tl=function(e){return typeof e=="object"},oo=function(e){return e!==!1},jT=function(){return typeof window<"u"},Vy=function(e){return Bi(e)||Dr(e)},GN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ds=Array.isArray,EY=/random\([^)]+\)/g,AY=/,\s*/g,z3=/(?:-?\.?\d|\.)+/gi,WN=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ow=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jN=/[+-]=-?[.\d]+/,CY=/[^,'"\[\]\s]+/gi,PY=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ri,fl,XM,XT,Vo={},S_={},XN,YN=function(e){return(S_=Vp(e,Vo))&&fo},YT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},T0=function(e,t){return!t&&console.warn(e)},qN=function(e,t){return e&&(Vo[e]=t)&&S_&&(S_[e]=t)||Vo},E0=function(){return 0},RY={suppressEvents:!0,isStart:!0,kill:!1},fx={suppressEvents:!0,kill:!1},IY={suppressEvents:!0},qT={},Ac=[],YM={},$N,Ro={},Uw={},V3=30,dx=[],$T="",KT=function(e){var t=e[0],n,r;if(Tl(t)||Bi(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=dx.length;r--&&!dx[r].targetTest(t););n=dx[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new xD(e[r],n)))||e.splice(r,1);return e},hd=function(e){return e._gsap||KT(oa(e))[0]._gsap},KN=function(e,t,n){return(n=e[t])&&Bi(n)?e[t]():WT(n)&&e.getAttribute&&e.getAttribute(t)||n},ao=function(e,t){return(e=e.split(",")).forEach(t)||e},qi=function(e){return Math.round(e*1e5)/1e5||0},Pi=function(e){return Math.round(e*1e7)/1e7||0},Mp=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},LY=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},w_=function(){var e=Ac.length,t=Ac.slice(0),n,r;for(YM={},Ac.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},ZT=function(e){return!!(e._initted||e._startAt||e.add)},ZN=function(e,t,n,r){Ac.length&&!$r&&w_(),e.render(t,n,!!($r&&t<0&&ZT(e))),Ac.length&&!$r&&w_()},JN=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(CY).length<2?t:Dr(e)?e.trim():e},QN=function(e){return e},Ho=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},NY=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},Vp=function(e,t){for(var n in t)e[n]=t[n];return e},H3=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Tl(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},M_=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Wg=function(e){var t=e.parent||Ri,n=e.keyframes?NY(ds(e.keyframes)):Ho;if(oo(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},DY=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},eD=function(e,t,n,r,s){var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},y1=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},kc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},pd=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},kY=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},qM=function(e,t,n,r){return e._startAt&&($r?e._startAt.revert(fx):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},FY=function i(e){return!e||e._ts&&i(e.parent)},G3=function(e){return e._repeat?Hp(e._tTime,e=e.duration()+e._rDelay)*e:0},Hp=function(e,t){var n=Math.floor(e=Pi(e/t));return e&&n===e?n-1:n},b_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},x1=function(e){return e._end=Pi(e._start+(e._tDur/Math.abs(e._ts||e._rts||ai)||0))},_1=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Pi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),x1(e),n._dirty||pd(n,e)),e},tD=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=b_(e.rawTime(),t),(!t._dur||$0(0,t.totalDuration(),n)-t._tTime>ai)&&t.render(n,!0)),pd(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-ai}},hl=function(e,t,n,r){return t.parent&&kc(t),t._start=Pi((Eu(n)?n:n||e!==Ri?ta(e,n,t):e._time)+t._delay),t._end=Pi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),eD(e,t,"_first","_last",e._sort?"_start":0),$M(t)||(e._recent=t),r||tD(e,t),e._ts<0&&_1(e,e._tTime),e},nD=function(e,t){return(Vo.ScrollTrigger||YT("scrollTrigger",t))&&Vo.ScrollTrigger.create(t,e)},iD=function(e,t,n,r,s){if(QT(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!$r&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&$N!==Lo.frame)return Ac.push(e),e._lazy=[s,r],1},OY=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},$M=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},UY=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&OY(e)&&!(!e._initted&&$M(e))||(e._ts<0||e._dp._ts<0)&&!$M(e))?0:1,a=e._rDelay,c=0,f,p,m;if(a&&e._repeat&&(c=$0(0,e._tDur,t),p=Hp(c,a),e._yoyo&&p&1&&(o=1-o),p!==Hp(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||$r||r||e._zTime===ai||!t&&e._zTime){if(!e._initted&&iD(e,t,r,n,c))return;for(m=e._zTime,e._zTime=t||(n?ai:0),n||(n=t&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,f=e._pt;f;)f.r(o,f.d),f=f._next;t<0&&qM(e,t,n,!0),e._onUpdate&&!n&&ko(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ko(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&kc(e,1),!n&&!$r&&(ko(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},BY=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Gp=function(e,t,n,r){var s=e._repeat,o=Pi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Pi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&_1(e,e._tTime=e._tDur*a),e.parent&&x1(e),n||pd(e.parent,e),e},W3=function(e){return e instanceof Ns?pd(e):Gp(e,e._dur)},zY={_start:0,endTime:E0,totalDuration:E0},ta=function i(e,t,n){var r=e.labels,s=e._recent||zY,o=e.duration()>=sa?s.endTime(!1):e._dur,a,c,f;return Dr(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),f=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(a<0?s:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),f&&n&&(c=c/100*(ds(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+c:o+c)):t==null?o:+t},jg=function(e,t,n){var r=Eu(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,c;if(r&&(o.duration=t[1]),o.parent=n,e){for(a=o,c=n;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=oo(c.vars.inherit)&&c.parent;o.immediateRender=oo(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new ar(t[0],o,t[s+1])},Wc=function(e,t){return e||e===0?t(e):t},$0=function(e,t,n){return n<e?e:n>t?t:n},ls=function(e,t){return!Dr(e)||!(t=PY.exec(e))?"":t[1]},VY=function(e,t,n){return Wc(n,function(r){return $0(e,t,r)})},KM=[].slice,rD=function(e,t){return e&&Tl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Tl(e[0]))&&!e.nodeType&&e!==fl},HY=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return Dr(r)&&!t||rD(r,1)?(s=n).push.apply(s,oa(r)):n.push(r)})||n},oa=function(e,t,n){return Mi&&!t&&Mi.selector?Mi.selector(e):Dr(e)&&!n&&(XM||!Wp())?KM.call((t||XT).querySelectorAll(e),0):ds(e)?HY(e,n):rD(e)?KM.call(e,0):e?[e]:[]},ZM=function(e){return e=oa(e)[0]||T0("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return oa(t,n.querySelectorAll?n:n===e?T0("Invalid scope")||XT.createElement("div"):e)}},sD=function(e){return e.sort(function(){return .5-Math.random()})},oD=function(e){if(Bi(e))return e;var t=Tl(e)?e:{each:e},n=md(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,c=isNaN(r)||a,f=t.axis,p=r,m=r;return Dr(r)?p=m={center:.5,edges:.5,end:1}[r]||0:!a&&c&&(p=r[0],m=r[1]),function(g,y,x){var M=(x||t).length,b=o[M],_,E,C,P,D,F,O,U,I;if(!b){if(I=t.grid==="auto"?0:(t.grid||[1,sa])[1],!I){for(O=-sa;O<(O=x[I++].getBoundingClientRect().left)&&I<M;);I<M&&I--}for(b=o[M]=[],_=c?Math.min(I,M)*p-.5:r%I,E=I===sa?0:c?M*m/I-.5:r/I|0,O=0,U=sa,F=0;F<M;F++)C=F%I-_,P=E-(F/I|0),b[F]=D=f?Math.abs(f==="y"?P:C):HN(C*C+P*P),D>O&&(O=D),D<U&&(U=D);r==="random"&&sD(b),b.max=O-U,b.min=U,b.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(I>M?M-1:f?f==="y"?M/I:I:Math.max(I,M/I))||0)*(r==="edges"?-1:1),b.b=M<0?s-M:s,b.u=ls(t.amount||t.each)||0,n=n&&M<0?gD(n):n}return M=(b[g]-b.min)/b.max||0,Pi(b.b+(n?n(M):M)*b.v)+b.u}},JM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Pi(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Eu(n)?0:ls(n))}},aD=function(e,t){var n=ds(e),r,s;return!n&&Tl(e)&&(r=n=e.radius||sa,e.values?(e=oa(e.values),(s=!Eu(e[0]))&&(r*=r)):e=JM(e.increment)),Wc(t,n?Bi(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),f=sa,p=0,m=e.length,g,y;m--;)s?(g=e[m].x-a,y=e[m].y-c,g=g*g+y*y):g=Math.abs(e[m]-a),g<f&&(f=g,p=m);return p=!r||f<=r?e[p]:o,s||p===o||Eu(o)?p:p+ls(o)}:JM(e))},lD=function(e,t,n,r){return Wc(ds(e)?!t:n===!0?!!(n=0):!r,function(){return ds(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},GY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},WY=function(e,t){return function(n){return e(parseFloat(n))+(t||ls(n))}},jY=function(e,t,n){return cD(e,t,0,1,n)},uD=function(e,t,n){return Wc(n,function(r){return e[~~t(r)]})},XY=function i(e,t,n){var r=t-e;return ds(e)?uD(e,i(0,e.length),t):Wc(n,function(s){return(r+(s-e)%r)%r+e})},YY=function i(e,t,n){var r=t-e,s=r*2;return ds(e)?uD(e,i(0,e.length-1),t):Wc(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},A0=function(e){return e.replace(EY,function(t){var n=t.indexOf("[")+1,r=t.substring(n||7,n?t.indexOf("]"):t.length-1).split(AY);return lD(n?r:+r[0],n?0:+r[1],+r[2]||1e-5)})},cD=function(e,t,n,r,s){var o=t-e,a=r-n;return Wc(s,function(c){return n+((c-e)/o*a||0)})},qY=function i(e,t,n,r){var s=isNaN(e+t)?0:function(y){return(1-y)*e+y*t};if(!s){var o=Dr(e),a={},c,f,p,m,g;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(ds(e)&&!ds(t)){for(p=[],m=e.length,g=m-2,f=1;f<m;f++)p.push(i(e[f-1],e[f]));m--,s=function(x){x*=m;var M=Math.min(g,~~x);return p[M](x-M)},n=t}else r||(e=Vp(ds(e)?[]:{},e));if(!p){for(c in t)JT.call(a,e,c,"get",t[c]);s=function(x){return nE(x,a)||(o?e.p:e)}}}return Wc(n,s)},j3=function(e,t,n){var r=e.labels,s=sa,o,a,c;for(o in r)a=r[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},ko=function(e,t,n){var r=e.vars,s=r[t],o=Mi,a=e._ctx,c,f,p;if(s)return c=r[t+"Params"],f=r.callbackScope||e,n&&Ac.length&&w_(),a&&(Mi=a),p=c?s.apply(f,c):s.call(f),Mi=o,p},bg=function(e){return kc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!$r),e.progress()<1&&ko(e,"onInterrupt"),e},yp,fD=[],dD=function(e){if(e)if(e=!e.name&&e.default||e,jT()||e.headless){var t=e.name,n=Bi(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:E0,render:nE,add:JT,kill:cq,modifier:uq,rawVars:0},o={targetTest:0,get:0,getSetter:tE,aliases:{},register:0};if(Wp(),e!==r){if(Ro[t])return;Ho(r,Ho(M_(e,s),o)),Vp(r.prototype,Vp(s,M_(e,o))),Ro[r.prop=t]=r,e.targetTest&&(dx.push(r),qT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}qN(t,r),e.register&&e.register(fo,r,lo)}else fD.push(e)},oi=255,Tg={aqua:[0,oi,oi],lime:[0,oi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,oi],navy:[0,0,128],white:[oi,oi,oi],olive:[128,128,0],yellow:[oi,oi,0],orange:[oi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[oi,0,0],pink:[oi,192,203],cyan:[0,oi,oi],transparent:[oi,oi,oi,0]},Bw=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*oi+.5|0},hD=function(e,t,n){var r=e?Eu(e)?[e>>16,e>>8&oi,e&oi]:0:Tg.black,s,o,a,c,f,p,m,g,y,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Tg[e])r=Tg[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&oi,r&oi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&oi,e&oi]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(z3),!t)c=+r[0]%360/360,f=+r[1]/100,p=+r[2]/100,o=p<=.5?p*(f+1):p+f-p*f,s=p*2-o,r.length>3&&(r[3]*=1),r[0]=Bw(c+1/3,s,o),r[1]=Bw(c,s,o),r[2]=Bw(c-1/3,s,o);else if(~e.indexOf("="))return r=e.match(WN),n&&r.length<4&&(r[3]=1),r}else r=e.match(z3)||Tg.transparent;r=r.map(Number)}return t&&!x&&(s=r[0]/oi,o=r[1]/oi,a=r[2]/oi,m=Math.max(s,o,a),g=Math.min(s,o,a),p=(m+g)/2,m===g?c=f=0:(y=m-g,f=p>.5?y/(2-m-g):y/(m+g),c=m===s?(o-a)/y+(o<a?6:0):m===o?(a-s)/y+2:(s-o)/y+4,c*=60),r[0]=~~(c+.5),r[1]=~~(f*100+.5),r[2]=~~(p*100+.5)),n&&r.length<4&&(r[3]=1),r},pD=function(e){var t=[],n=[],r=-1;return e.split(Cc).forEach(function(s){var o=s.match(vp)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},X3=function(e,t,n){var r="",s=(e+r).match(Cc),o=t?"hsla(":"rgba(",a=0,c,f,p,m;if(!s)return e;if(s=s.map(function(g){return(g=hD(g,t,1))&&o+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(p=pD(e),c=n.c,c.join(r)!==p.c.join(r)))for(f=e.replace(Cc,"1").split(vp),m=f.length-1;a<m;a++)r+=f[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(p.length?p:s.length?s:n).shift());if(!f)for(f=e.split(Cc),m=f.length-1;a<m;a++)r+=f[a]+s[a];return r+f[m]},Cc=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Tg)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),$Y=/hsl[a]?\(/,mD=function(e){var t=e.join(" "),n;if(Cc.lastIndex=0,Cc.test(t))return n=$Y.test(t),e[1]=X3(e[1],n),e[0]=X3(e[0],n,pD(e[1])),!0},C0,Lo=(function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,a=[],c,f,p,m,g,y,x=function M(b){var _=i()-r,E=b===!0,C,P,D,F;if((_>e||_<0)&&(n+=_-t),r+=_,D=r-n,C=D-o,(C>0||E)&&(F=++m.frame,g=D-m.time*1e3,m.time=D=D/1e3,o+=C+(C>=s?4:s-C),P=1),E||(c=f(M)),P)for(y=0;y<a.length;y++)a[y](D,g,F,b)};return m={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(b){return g/(1e3/(b||60))},wake:function(){XN&&(!XM&&jT()&&(fl=XM=window,XT=fl.document||{},Vo.gsap=fo,(fl.gsapVersions||(fl.gsapVersions=[])).push(fo.version),YN(S_||fl.GreenSockGlobals||!fl.gsap&&fl||{}),fD.forEach(dD)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),f=p||function(b){return setTimeout(b,o-m.time*1e3+1|0)},C0=1,x(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),C0=0,f=E0},lagSmoothing:function(b,_){e=b||1/0,t=Math.min(_||33,e)},fps:function(b){s=1e3/(b||240),o=m.time*1e3+s},add:function(b,_,E){var C=_?function(P,D,F,O){b(P,D,F,O),m.remove(C)}:b;return m.remove(b),a[E?"unshift":"push"](C),Wp(),C},remove:function(b,_){~(_=a.indexOf(b))&&a.splice(_,1)&&y>=_&&y--},_listeners:a},m})(),Wp=function(){return!C0&&Lo.wake()},Fn={},KY=/^[\d.\-M][\d.\-,\s]/,ZY=/["']/g,JY=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,a,c,f;s<o;s++)c=n[s],a=s!==o-1?c.lastIndexOf(","):c.length,f=c.substr(0,a),t[r]=isNaN(f)?f.replace(ZY,"").trim():+f,r=c.substr(a+1).trim();return t},QY=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},eq=function(e){var t=(e+"").split("("),n=Fn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[JY(t[1])]:QY(e).split(",").map(JN)):Fn._CE&&KY.test(e)?Fn._CE("",e):n},gD=function(e){return function(t){return 1-e(1-t)}},vD=function i(e,t){for(var n=e._first,r;n;)n instanceof Ns?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},md=function(e,t){return e&&(Bi(e)?e:Fn[e]||eq(e))||t},Ld=function(e,t,n,r){n===void 0&&(n=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return ao(e,function(a){Fn[a]=Vo[a]=s,Fn[o=a.toLowerCase()]=n;for(var c in s)Fn[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Fn[a+"."+c]=s[c]}),s},yD=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},zw=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/jM*(Math.asin(1/r)||0),a=function(p){return p===1?1:r*Math.pow(2,-10*p)*TY((p-o)*s)+1},c=e==="out"?a:e==="in"?function(f){return 1-a(1-f)}:yD(a);return s=jM/s,c.config=function(f,p){return i(e,f,p)},c},Vw=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:yD(n);return r.config=function(s){return i(e,s)},r};ao("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Ld(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Fn.Linear.easeNone=Fn.none=Fn.Linear.easeIn;Ld("Elastic",zw("in"),zw("out"),zw());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<r?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};Ld("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ld("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Ld("Circ",function(i){return-(HN(1-i*i)-1)});Ld("Sine",function(i){return i===1?1:-bY(i*wY)+1});Ld("Back",Vw("in"),Vw("out"),Vw());Fn.SteppedEase=Fn.steps=Vo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-ai;return function(a){return((r*$0(0,o,a)|0)+s)*n}}};zp.ease=Fn["quad.out"];ao("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return $T+=i+","+i+"Params,"});var xD=function(e,t){this.id=MY++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:KN,this.set=t?t.getSetter:tE},P0=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Gp(this,+t.duration,1,1),this.data=t.data,Mi&&(this._ctx=Mi,Mi.data.push(this)),C0||Lo.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Gp(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(Wp(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(_1(this,n),!s._dp||s.parent||tD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&hl(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ai||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ZN(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+G3(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+G3(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?Hp(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-ai?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?b_(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ai?0:this._rts,this.totalTime($0(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),x1(this),kY(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Wp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ai&&(this._tTime-=ai)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=Pi(n);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&hl(r,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(oo(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?b_(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=IY);var r=$r;return $r=n,ZT(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),$r=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,W3(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,W3(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(ta(this,n),oo(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,oo(r)),this._dur||(this._zTime=-ai),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ai:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ai,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-ai)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this,s=r._prom;return new Promise(function(o){var a=Bi(n)?n:QN,c=function(){var p=r.then;r.then=null,s&&s(),Bi(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=p),o(a),r.then=p};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?c():r._prom=c})},e.kill=function(){bg(this)},i})();Ho(P0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ai,_prom:0,_ps:!1,_rts:1});var Ns=(function(i){VN(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=oo(n.sortChildren),Ri&&hl(n.parent||Ri,mu(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&nD(mu(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return jg(0,arguments,this),this},t.from=function(r,s,o){return jg(1,arguments,this),this},t.fromTo=function(r,s,o,a){return jg(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Wg(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ar(r,s,ta(this,o),1),this},t.call=function(r,s,o){return hl(this,ar.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,c,f,p){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=f,o.onCompleteParams=p,o.parent=this,new ar(r,o,ta(this,c)),this},t.staggerFrom=function(r,s,o,a,c,f,p){return o.runBackwards=1,Wg(o).immediateRender=oo(o.immediateRender),this.staggerTo(r,s,o,a,c,f,p)},t.staggerFromTo=function(r,s,o,a,c,f,p,m){return a.startAt=o,Wg(a).immediateRender=oo(a.immediateRender),this.staggerTo(r,s,a,c,f,p,m)},t.render=function(r,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,p=r<=0?0:Pi(r),m=this._zTime<0!=r<0&&(this._initted||!f),g,y,x,M,b,_,E,C,P,D,F,O;if(this!==Ri&&p>c&&r>=0&&(p=c),p!==this._tTime||o||m){if(a!==this._time&&f&&(p+=this._time-a,r+=this._time-a),g=p,P=this._start,C=this._ts,_=!C,m&&(f||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(F=this._yoyo,b=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(b*100+r,s,o);if(g=Pi(p%b),p===c?(M=this._repeat,g=f):(D=Pi(p/b),M=~~D,M&&M===D&&(g=f,M--),g>f&&(g=f)),D=Hp(this._tTime,b),!a&&this._tTime&&D!==M&&this._tTime-D*b-this._dur<=0&&(D=M),F&&M&1&&(g=f-g,O=1),M!==D&&!this._lock){var U=F&&D&1,I=U===(F&&M&1);if(M<D&&(U=!U),a=U?0:p%f?f:p,this._lock=1,this.render(a||(O?0:Pi(M*b)),s,!f)._lock=0,this._tTime=p,!s&&this.parent&&ko(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1,D=M),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,I&&(this._lock=2,a=U?f:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;vD(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=BY(this,Pi(a),Pi(g)),E&&(p-=g-(g=E._start))),this._tTime=p,this._time=g,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&p&&f&&!s&&!D&&(ko(this,"onStart"),this._tTime!==p))return this;if(g>=a&&r>=0)for(y=this._first;y;){if(x=y._next,(y._act||g>=y._start)&&y._ts&&E!==y){if(y.parent!==this)return this.render(r,s,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,s,o),g!==this._time||!this._ts&&!_){E=0,x&&(p+=this._zTime=-ai);break}}y=x}else{y=this._last;for(var k=r<0?r:g;y;){if(x=y._prev,(y._act||k<=y._end)&&y._ts&&E!==y){if(y.parent!==this)return this.render(r,s,o);if(y.render(y._ts>0?(k-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(k-y._start)*y._ts,s,o||$r&&ZT(y)),g!==this._time||!this._ts&&!_){E=0,x&&(p+=this._zTime=k?-ai:ai);break}}y=x}}if(E&&!s&&(this.pause(),E.render(g>=a?0:-ai)._zTime=g>=a?1:-1,this._ts))return this._start=P,x1(this),this.render(r,s,o);this._onUpdate&&!s&&ko(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&a)&&(P===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(p===c&&this._ts>0||!p&&this._ts<0)&&kc(this,1),!s&&!(r<0&&!a)&&(p||a||!c)&&(ko(this,p===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Eu(s)||(s=ta(this,s,r)),!(r instanceof P0)){if(ds(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Dr(r))return this.addLabel(r,s);if(Bi(r))r=ar.delayedCall(0,r);else return this}return this!==r?hl(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-sa);for(var c=[],f=this._first;f;)f._start>=a&&(f instanceof ar?s&&c.push(f):(o&&c.push(f),r&&c.push.apply(c,f.getChildren(!0,s,o)))),f=f._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Dr(r)?this.removeLabel(r):Bi(r)?this.killTweensOf(r):(r.parent===this&&y1(this,r),r===this._recent&&(this._recent=this._last),pd(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pi(Lo.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=ta(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=ar.delayedCall(0,s||E0,o);return a.data="isPause",this._hasPause=1,hl(this,a,ta(this,r))},t.removePause=function(r){var s=this._first;for(r=ta(this,r);s;)s._start===r&&s.data==="isPause"&&kc(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),c=a.length;c--;)wc!==a[c]&&a[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=oa(r),c=this._first,f=Eu(s),p;c;)c instanceof ar?LY(c._targets,a)&&(f?(!wc||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(p=c.getTweensOf(a,s)).length&&o.push.apply(o,p),c=c._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=ta(o,r),c=s,f=c.startAt,p=c.onStart,m=c.onStartParams,g=c.immediateRender,y,x=ar.to(o,Ho({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(f&&"time"in f?f.time:o._time))/o.timeScale())||ai,onStart:function(){if(o.pause(),!y){var b=s.duration||Math.abs((a-(f&&"time"in f?f.time:o._time))/o.timeScale());x._dur!==b&&Gp(x,b,0,1).render(x._time,!0,!0),y=1}p&&p.apply(x,m||[])}},s));return g?x.render(0):x},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Ho({startAt:{time:ta(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),j3(this,ta(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),j3(this,ta(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ai)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);var a=this._first,c=this.labels,f;for(r=Pi(r);a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(f in c)c[f]>=o&&(c[f]+=r);return pd(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),pd(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,c=sa,f,p,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(m=o.parent;a;)f=a._prev,a._dirty&&a.totalDuration(),p=a._start,p>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,hl(o,a,p-a._delay,1)._lock=0):c=p,p<0&&a._ts&&(s-=p,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=Pi(p/o._ts),o._time-=p,o._tTime-=p),o.shiftChildren(-p,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=f;Gp(o,o===Ri&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(Ri._ts&&(ZN(Ri,b_(r,Ri)),$N=Lo.frame),Lo.frame>=V3){V3+=Bo.autoSleep||120;var s=Ri._first;if((!s||!s._ts)&&Bo.autoSleep&&Lo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Lo.sleep()}}},e})(P0);Ho(Ns.prototype,{_lock:0,_hasPause:0,_forcing:0});var tq=function(e,t,n,r,s,o,a){var c=new lo(this._pt,e,t,0,1,TD,null,s),f=0,p=0,m,g,y,x,M,b,_,E;for(c.b=n,c.e=r,n+="",r+="",(_=~r.indexOf("random("))&&(r=A0(r)),o&&(E=[n,r],o(E,e,t),n=E[0],r=E[1]),g=n.match(Ow)||[];m=Ow.exec(r);)x=m[0],M=r.substring(f,m.index),y?y=(y+1)%5:M.substr(-5)==="rgba("&&(y=1),x!==g[p++]&&(b=parseFloat(g[p-1])||0,c._pt={_next:c._pt,p:M||p===1?M:",",s:b,c:x.charAt(1)==="="?Mp(b,x)-b:parseFloat(x)-b,m:y&&y<4?Math.round:0},f=Ow.lastIndex);return c.c=f<r.length?r.substring(f,r.length):"",c.fp=a,(jN.test(r)||_)&&(c.e=0),this._pt=c,c},JT=function(e,t,n,r,s,o,a,c,f,p){Bi(r)&&(r=r(s||0,e,o));var m=e[t],g=n!=="get"?n:Bi(m)?f?e[t.indexOf("set")||!Bi(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():m,y=Bi(m)?f?oq:MD:eE,x;if(Dr(r)&&(~r.indexOf("random(")&&(r=A0(r)),r.charAt(1)==="="&&(x=Mp(g,r)+(ls(g)||0),(x||x===0)&&(r=x))),!p||g!==r||QM)return!isNaN(g*r)&&r!==""?(x=new lo(this._pt,e,t,+g||0,r-(g||0),typeof m=="boolean"?lq:bD,0,y),f&&(x.fp=f),a&&x.modifier(a,this,e),this._pt=x):(!m&&!(t in e)&&YT(t,r),tq.call(this,e,t,g,r,y,c||Bo.stringFilter,f))},nq=function(e,t,n,r,s){if(Bi(e)&&(e=Xg(e,s,t,n,r)),!Tl(e)||e.style&&e.nodeType||ds(e)||GN(e))return Dr(e)?Xg(e,s,t,n,r):e;var o={},a;for(a in e)o[a]=Xg(e[a],s,t,n,r);return o},_D=function(e,t,n,r,s,o){var a,c,f,p;if(Ro[e]&&(a=new Ro[e]).init(s,a.rawVars?t[e]:nq(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=c=new lo(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==yp))for(f=n._ptLookup[n._targets.indexOf(s)],p=a._props.length;p--;)f[a._props[p]]=c;return a},wc,QM,QT=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,c=r.lazy,f=r.onUpdate,p=r.runBackwards,m=r.yoyoEase,g=r.keyframes,y=r.autoRevert,x=e._dur,M=e._startAt,b=e._targets,_=e.parent,E=_&&_.data==="nested"?_.vars.targets:b,C=e._overwrite==="auto"&&!GT,P=e.timeline,D,F,O,U,I,k,j,W,$,se,Z,te,q;if(P&&(!g||!s)&&(s="none"),e._ease=md(s,zp.ease),e._yEase=m?gD(md(m===!0?s:m,zp.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!P&&!!r.runBackwards,!P||g&&!r.stagger){if(W=b[0]?hd(b[0]).harness:0,te=W&&r[W.prop],D=M_(r,qT),M&&(M._zTime<0&&M.progress(1),t<0&&p&&a&&!y?M.render(-1,!0):M.revert(p&&x?fx:RY),M._lazy=0),o){if(kc(e._startAt=ar.set(b,Ho({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!M&&oo(c),startAt:null,delay:0,onUpdate:f&&function(){return ko(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&($r||!a&&!y)&&e._startAt.revert(fx),a&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(p&&x&&!M){if(t&&(a=!1),O=Ho({overwrite:!1,data:"isFromStart",lazy:a&&!M&&oo(c),immediateRender:a,stagger:0,parent:_},D),te&&(O[W.prop]=te),kc(e._startAt=ar.set(b,O)),e._startAt._dp=0,e._startAt._sat=e,t<0&&($r?e._startAt.revert(fx):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,ai,ai);else if(!t)return}for(e._pt=e._ptCache=0,c=x&&oo(c)||c&&!x,F=0;F<b.length;F++){if(I=b[F],j=I._gsap||KT(b)[F]._gsap,e._ptLookup[F]=se={},YM[j.id]&&Ac.length&&w_(),Z=E===b?F:E.indexOf(I),W&&($=new W).init(I,te||D,e,Z,E)!==!1&&(e._pt=U=new lo(e._pt,I,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(z){se[z]=U}),$.priority&&(k=1)),!W||te)for(O in D)Ro[O]&&($=_D(O,D,e,Z,I,E))?$.priority&&(k=1):se[O]=U=JT.call(e,I,O,"get",D[O],Z,E,0,r.stringFilter);e._op&&e._op[F]&&e.kill(I,e._op[F]),C&&e._pt&&(wc=e,Ri.killTweensOf(I,se,e.globalTime(t)),q=!e.parent,wc=0),e._pt&&c&&(YM[j.id]=1)}k&&ED(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!q,g&&t<=0&&P.render(sa,!0,!0)},iq=function(e,t,n,r,s,o,a,c){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,m,g,y;if(!f)for(f=e._ptCache[t]=[],g=e._ptLookup,y=e._targets.length;y--;){if(p=g[y][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return QM=1,e.vars[t]="+=0",QT(e,a),QM=0,c?T0(t+" not eligible for reset"):1;f.push(p)}for(y=f.length;y--;)m=f[y],p=m._pt||m,p.s=(r||r===0)&&!s?r:p.s+(r||0)+o*p.c,p.c=n-p.s,m.e&&(m.e=qi(n)+ls(m.e)),m.b&&(m.b=p.s+ls(m.b))},rq=function(e,t){var n=e[0]?hd(e[0]).harness:0,r=n&&n.aliases,s,o,a,c;if(!r)return t;s=Vp({},t);for(o in r)if(o in s)for(c=r[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},sq=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,a;if(ds(t))a=n[e]||(n[e]=[]),t.forEach(function(c,f){return a.push({t:f/(t.length-1)*100,v:c,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Xg=function(e,t,n,r,s){return Bi(e)?e.call(t,n,r,s):Dr(e)&&~e.indexOf("random(")?A0(e):e},SD=$T+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",wD={};ao(SD+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return wD[i]=1});var ar=(function(i){VN(e,i);function e(n,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=i.call(this,o?r:Wg(r))||this;var c=a.vars,f=c.duration,p=c.delay,m=c.immediateRender,g=c.stagger,y=c.overwrite,x=c.keyframes,M=c.defaults,b=c.scrollTrigger,_=c.yoyoEase,E=r.parent||Ri,C=(ds(n)||GN(n)?Eu(n[0]):"length"in r)?[n]:oa(n),P,D,F,O,U,I,k,j;if(a._targets=C.length?KT(C):T0("GSAP target "+n+" not found. https://gsap.com",!Bo.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=y,x||g||Vy(f)||Vy(p)){if(r=a.vars,P=a.timeline=new Ns({data:"nested",defaults:M||{},targets:E&&E.data==="nested"?E.vars.targets:C}),P.kill(),P.parent=P._dp=mu(a),P._start=0,g||Vy(f)||Vy(p)){if(O=C.length,k=g&&oD(g),Tl(g))for(U in g)~SD.indexOf(U)&&(j||(j={}),j[U]=g[U]);for(D=0;D<O;D++)F=M_(r,wD),F.stagger=0,_&&(F.yoyoEase=_),j&&Vp(F,j),I=C[D],F.duration=+Xg(f,mu(a),D,I,C),F.delay=(+Xg(p,mu(a),D,I,C)||0)-a._delay,!g&&O===1&&F.delay&&(a._delay=p=F.delay,a._start+=p,F.delay=0),P.to(I,F,k?k(D,I,C):0),P._ease=Fn.none;P.duration()?f=p=0:a.timeline=0}else if(x){Wg(Ho(P.vars.defaults,{ease:"none"})),P._ease=md(x.ease||r.ease||"none");var W=0,$,se,Z;if(ds(x))x.forEach(function(te){return P.to(C,te,">")}),P.duration();else{F={};for(U in x)U==="ease"||U==="easeEach"||sq(U,x[U],F,x.easeEach);for(U in F)for($=F[U].sort(function(te,q){return te.t-q.t}),W=0,D=0;D<$.length;D++)se=$[D],Z={ease:se.e,duration:(se.t-(D?$[D-1].t:0))/100*f},Z[U]=se.v,P.to(C,Z,W),W+=Z.duration;P.duration()<f&&P.to({},{duration:f-P.duration()})}}f||a.duration(f=P.duration())}else a.timeline=0;return y===!0&&!GT&&(wc=mu(a),Ri.killTweensOf(C),wc=0),hl(E,mu(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(m||!f&&!x&&a._start===Pi(E._time)&&oo(m)&&FY(mu(a))&&E.data!=="nested")&&(a._tTime=-ai,a.render(Math.max(0,-p)||0)),b&&nD(mu(a),b),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,c=this._tDur,f=this._dur,p=r<0,m=r>c-ai&&!p?c:r<ai?0:r,g,y,x,M,b,_,E,C,P;if(!f)UY(this,r,s,o);else if(m!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(g=m,C=this.timeline,this._repeat){if(M=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(M*100+r,s,o);if(g=Pi(m%M),m===c?(x=this._repeat,g=f):(b=Pi(m/M),x=~~b,x&&x===b?(g=f,x--):g>f&&(g=f)),_=this._yoyo&&x&1,_&&(P=this._yEase,g=f-g),b=Hp(this._tTime,M),g===a&&!o&&this._initted&&x===b)return this._tTime=m,this;x!==b&&(C&&this._yEase&&vD(C,_),this.vars.repeatRefresh&&!_&&!this._lock&&g!==M&&this._initted&&(this._lock=o=1,this.render(Pi(M*x),!0).invalidate()._lock=0))}if(!this._initted){if(iD(this,p?r:g,o,s,m))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&x!==b))return this;if(f!==this._dur)return this.render(r,s,o)}if(this._tTime=m,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(P||this._ease)(g/f),this._from&&(this.ratio=E=1-E),!a&&m&&!s&&!b&&(ko(this,"onStart"),this._tTime!==m))return this;for(y=this._pt;y;)y.r(E,y.d),y=y._next;C&&C.render(r<0?r:C._dur*C._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(p&&qM(this,r,s,o),ko(this,"onUpdate")),this._repeat&&x!==b&&this.vars.onRepeat&&!s&&this.parent&&ko(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(p&&!this._onUpdate&&qM(this,r,!0,!0),(r||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&kc(this,1),!s&&!(p&&!a)&&(m||a||_)&&(ko(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,c){C0||Lo.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||QT(this,f),p=this._ease(f/this._dur),iq(this,r,s,o,a,p,f,c)?this.resetTo(r,s,o,a,1):(_1(this,0),this.parent||eD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?bg(this):this.scrollTrigger&&this.scrollTrigger.kill(!!$r),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,wc&&wc.vars.overwrite!==!0)._first||bg(this),this.parent&&o!==this.timeline.totalDuration()&&Gp(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=r?oa(r):a,f=this._ptLookup,p=this._pt,m,g,y,x,M,b,_;if((!s||s==="all")&&DY(a,c))return s==="all"&&(this._pt=0),bg(this);for(m=this._op=this._op||[],s!=="all"&&(Dr(s)&&(M={},ao(s,function(E){return M[E]=1}),s=M),s=rq(a,s)),_=a.length;_--;)if(~c.indexOf(a[_])){g=f[_],s==="all"?(m[_]=s,x=g,y={}):(y=m[_]=m[_]||{},x=s);for(M in x)b=g&&g[M],b&&((!("kill"in b.d)||b.d.kill(M)===!0)&&y1(this,b,"_pt"),delete g[M]),y!=="all"&&(y[M]=1)}return this._initted&&!this._pt&&p&&bg(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return jg(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return jg(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return Ri.killTweensOf(r,s,o)},e})(P0);Ho(ar.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ao("staggerTo,staggerFrom,staggerFromTo",function(i){ar[i]=function(){var e=new Ns,t=KM.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var eE=function(e,t,n){return e[t]=n},MD=function(e,t,n){return e[t](n)},oq=function(e,t,n,r){return e[t](r.fp,n)},aq=function(e,t,n){return e.setAttribute(t,n)},tE=function(e,t){return Bi(e[t])?MD:WT(e[t])&&e.setAttribute?aq:eE},bD=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},lq=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},TD=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},nE=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},uq=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},cq=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?y1(this,t,"_pt"):t.dep||(n=1),t=r;return!n},fq=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},ED=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},lo=(function(){function i(t,n,r,s,o,a,c,f,p){this.t=n,this.s=s,this.c=o,this.p=r,this.r=a||bD,this.d=c||this,this.set=f||eE,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=fq,this.m=n,this.mt=s,this.tween=r},i})();ao($T+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return qT[i]=1});Vo.TweenMax=Vo.TweenLite=ar;Vo.TimelineLite=Vo.TimelineMax=Ns;Ri=new Ns({sortChildren:!1,defaults:zp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Bo.stringFilter=mD;var gd=[],hx={},dq=[],Y3=0,hq=0,Hw=function(e){return(hx[e]||dq).map(function(t){return t()})},eb=function(){var e=Date.now(),t=[];e-Y3>2&&(Hw("matchMediaInit"),gd.forEach(function(n){var r=n.queries,s=n.conditions,o,a,c,f;for(a in r)o=fl.matchMedia(r[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,f=1);f&&(n.revert(),c&&t.push(n))}),Hw("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Y3=e,Hw("matchMedia"))},AD=(function(){function i(t,n){this.selector=n&&ZM(n),this.data=[],this._r=[],this.isReverted=!1,this.id=hq++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){Bi(n)&&(s=r,r=n,n=Bi);var o=this,a=function(){var f=Mi,p=o.selector,m;return f&&f!==o&&f.data.push(o),s&&(o.selector=ZM(s)),Mi=o,m=r.apply(o,arguments),Bi(m)&&o._r.push(m),Mi=f,o.selector=p,o.isReverted=!1,m};return o.last=a,n===Bi?a(o,function(c){return o.add(null,c)}):n?o[n]=a:a},e.ignore=function(n){var r=Mi;Mi=null,n(this),Mi=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof ar&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?(function(){for(var a=s.getTweens(),c=s.data.length,f;c--;)f=s.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(p){return a.splice(a.indexOf(p),1)}));for(a.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,m){return m.g-p.g||-1/0}).forEach(function(p){return p.t.revert(n)}),c=s.data.length;c--;)f=s.data[c],f instanceof Ns?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof ar)&&f.revert&&f.revert(n);s._r.forEach(function(p){return p(n,s)}),s.isReverted=!0})():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=gd.length;o--;)gd[o].id===this.id&&gd.splice(o,1)},e.revert=function(n){this.kill(n||{})},i})(),pq=(function(){function i(t){this.contexts=[],this.scope=t,Mi&&Mi.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){Tl(n)||(n={matches:n});var o=new AD(0,s||this.scope),a=o.conditions={},c,f,p;Mi&&!o.selector&&(o.selector=Mi.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(f in n)f==="all"?p=1:(c=fl.matchMedia(n[f]),c&&(gd.indexOf(o)<0&&gd.push(o),(a[f]=c.matches)&&(p=1),c.addListener?c.addListener(eb):c.addEventListener("change",eb)));return p&&r(o,function(m){return o.add(null,m)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i})(),T_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return dD(r)})},timeline:function(e){return new Ns(e)},getTweensOf:function(e,t){return Ri.getTweensOf(e,t)},getProperty:function(e,t,n,r){Dr(e)&&(e=oa(e)[0]);var s=hd(e||{}).get,o=n?QN:JN;return n==="native"&&(n=""),e&&(t?o((Ro[t]&&Ro[t].get||s)(e,t,n,r)):function(a,c,f){return o((Ro[a]&&Ro[a].get||s)(e,a,c,f))})},quickSetter:function(e,t,n){if(e=oa(e),e.length>1){var r=e.map(function(p){return fo.quickSetter(p,t,n)}),s=r.length;return function(p){for(var m=s;m--;)r[m](p)}}e=e[0]||{};var o=Ro[t],a=hd(e),c=a.harness&&(a.harness.aliases||{})[t]||t,f=o?function(p){var m=new o;yp._pt=0,m.init(e,n?p+n:p,yp,0,[e]),m.render(1,m),yp._pt&&nE(1,yp)}:a.set(e,c);return o?f:function(p){return f(e,c,n?p+n:p,a,1)}},quickTo:function(e,t,n){var r,s=fo.to(e,Ho((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(c,f,p){return s.resetTo(t,c,f,p)};return o.tween=s,o},isTweening:function(e){return Ri.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=md(e.ease,zp.ease)),H3(zp,e||{})},config:function(e){return H3(Bo,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Ro[a]&&!Vo[a]&&T0(t+" effect requires "+a+" plugin.")}),Uw[t]=function(a,c,f){return n(oa(a),Ho(c||{},s),f)},o&&(Ns.prototype[t]=function(a,c,f){return this.add(Uw[t](a,Tl(c)?c:(f=c)&&{},this),f)})},registerEase:function(e,t){Fn[e]=md(t)},parseEase:function(e,t){return arguments.length?md(e,t):Fn},getById:function(e){return Ri.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Ns(e),r,s;for(n.smoothChildTiming=oo(e.smoothChildTiming),Ri.remove(n),n._dp=0,n._time=n._tTime=Ri._time,r=Ri._first;r;)s=r._next,(t||!(!r._dur&&r instanceof ar&&r.vars.onComplete===r._targets[0]))&&hl(n,r,r._start-r._delay),r=s;return hl(Ri,n,0),n},context:function(e,t){return e?new AD(e,t):Mi},matchMedia:function(e){return new pq(e)},matchMediaRefresh:function(){return gd.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||eb()},addEventListener:function(e,t){var n=hx[e]||(hx[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=hx[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:XY,wrapYoyo:YY,distribute:oD,random:lD,snap:aD,normalize:jY,getUnit:ls,clamp:VY,splitColor:hD,toArray:oa,selector:ZM,mapRange:cD,pipe:GY,unitize:WY,interpolate:qY,shuffle:sD},install:YN,effects:Uw,ticker:Lo,updateRoot:Ns.updateRoot,plugins:Ro,globalTimeline:Ri,core:{PropTween:lo,globals:qN,Tween:ar,Timeline:Ns,Animation:P0,getCache:hd,_removeLinkedListItem:y1,reverting:function(){return $r},context:function(e){return e&&Mi&&(Mi.data.push(e),e._ctx=Mi),Mi},suppressOverwrites:function(e){return GT=e}}};ao("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return T_[i]=ar[i]});Lo.add(Ns.updateRoot);yp=T_.to({},{duration:0});var mq=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},gq=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=mq(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},Gw=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,o){o._onInit=function(a){var c,f;if(Dr(s)&&(c={},ao(s,function(p){return c[p]=1}),s=c),t){c={};for(f in s)c[f]=t(s[f]);s=c}gq(a,s)}}}},fo=T_.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,a,c;this.tween=n;for(o in t)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)$r?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Gw("roundProps",JM),Gw("modifiers"),Gw("snap",aD))||T_;ar.version=Ns.version=fo.version="3.14.2";XN=1;jT()&&Wp();Fn.Power0;Fn.Power1;Fn.Power2;Fn.Power3;Fn.Power4;Fn.Linear;Fn.Quad;Fn.Cubic;Fn.Quart;Fn.Quint;Fn.Strong;Fn.Elastic;Fn.Back;Fn.SteppedEase;Fn.Bounce;Fn.Sine;Fn.Expo;Fn.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var q3,Mc,bp,iE,od,$3,rE,vq=function(){return typeof window<"u"},Au={},Kf=180/Math.PI,Tp=Math.PI/180,ep=Math.atan2,K3=1e8,sE=/([A-Z])/g,yq=/(left|right|width|margin|padding|x)/i,xq=/[\s,\(]\S/,gl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tb=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_q=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Sq=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},wq=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Mq=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},CD=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},PD=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},bq=function(e,t,n){return e.style[t]=n},Tq=function(e,t,n){return e.style.setProperty(t,n)},Eq=function(e,t,n){return e._gsap[t]=n},Aq=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Cq=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},Pq=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Ni="transform",uo=Ni+"Origin",Rq=function i(e,t){var n=this,r=this.target,s=r.style,o=r._gsap;if(e in Au&&s){if(this.tfm=this.tfm||{},e!=="transform")e=gl[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=gu(r,a)}):this.tfm[e]=o.x?o[e]:gu(r,e),e===uo&&(this.tfm.zOrigin=o.zOrigin);else return gl.transform.split(",").forEach(function(a){return i.call(n,a,t)});if(this.props.indexOf(Ni)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(uo,t,"")),e=Ni}(s||t)&&this.props.push(e,t,s[e])},RD=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Iq=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(sE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=rE(),(!s||!s.isStart)&&!n[Ni]&&(RD(n),r.zOrigin&&n[uo]&&(n[uo]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},ID=function(e,t){var n={target:e,props:[],revert:Iq,save:Rq};return e._gsap||fo.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},LD,nb=function(e,t){var n=Mc.createElementNS?Mc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Mc.createElement(e);return n&&n.style?n:Mc.createElement(e)},Fo=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(sE,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,jp(t)||t,1)||""},Z3="O,Moz,ms,Ms,Webkit".split(","),jp=function(e,t,n){var r=t||od,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Z3[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Z3[o]:"")+e},ib=function(){vq()&&window.document&&(q3=window,Mc=q3.document,bp=Mc.documentElement,od=nb("div")||{style:{}},nb("div"),Ni=jp(Ni),uo=Ni+"Origin",od.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",LD=!!jp("perspective"),rE=fo.core.reverting,iE=1)},J3=function(e){var t=e.ownerSVGElement,n=nb("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),bp.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),bp.removeChild(n),s},Q3=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ND=function(e){var t,n;try{t=e.getBBox()}catch{t=J3(e),n=1}return t&&(t.width||t.height)||n||(t=J3(e)),t&&!t.width&&!t.x&&!t.y?{x:+Q3(e,["x","cx","x1"])||0,y:+Q3(e,["y","cy","y1"])||0,width:0,height:0}:t},DD=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ND(e))},Fc=function(e,t){if(t){var n=e.style,r;t in Au&&t!==uo&&(t=Ni),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(sE,"-$1").toLowerCase())):n.removeAttribute(t)}},bc=function(e,t,n,r,s,o){var a=new lo(e._pt,t,n,0,1,o?PD:CD);return e._pt=a,a.b=r,a.e=s,e._props.push(n),a},eP={deg:1,rad:1,turn:1},Lq={grid:1,flex:1},Oc=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=od.style,c=yq.test(t),f=e.tagName.toLowerCase()==="svg",p=(f?"client":"offset")+(c?"Width":"Height"),m=100,g=r==="px",y=r==="%",x,M,b,_;if(r===o||!s||eP[r]||eP[o])return s;if(o!=="px"&&!g&&(s=i(e,t,n,"px")),_=e.getCTM&&DD(e),(y||o==="%")&&(Au[t]||~t.indexOf("adius")))return x=_?e.getBBox()[c?"width":"height"]:e[p],qi(y?s/x*m:s/100*x);if(a[c?"width":"height"]=m+(g?o:r),M=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!f?e:e.parentNode,_&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===Mc||!M.appendChild)&&(M=Mc.body),b=M._gsap,b&&y&&b.width&&c&&b.time===Lo.time&&!b.uncache)return qi(s/b.width*m);if(y&&(t==="height"||t==="width")){var E=e.style[t];e.style[t]=m+r,x=e[p],E?e.style[t]=E:Fc(e,t)}else(y||o==="%")&&!Lq[Fo(M,"display")]&&(a.position=Fo(e,"position")),M===e&&(a.position="static"),M.appendChild(od),x=od[p],M.removeChild(od),a.position="absolute";return c&&y&&(b=hd(M),b.time=Lo.time,b.width=M[p]),qi(g?x*s/m:x&&s?m/x*s:0)},gu=function(e,t,n,r){var s;return iE||ib(),t in gl&&t!=="transform"&&(t=gl[t],~t.indexOf(",")&&(t=t.split(",")[0])),Au[t]&&t!=="transform"?(s=I0(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:A_(Fo(e,uo))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=E_[t]&&E_[t](e,t,n)||Fo(e,t)||KN(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Oc(e,t,s,n)+n:s},Nq=function(e,t,n,r){if(!n||n==="none"){var s=jp(t,e,1),o=s&&Fo(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=Fo(e,"borderTopColor"))}var a=new lo(this._pt,e.style,t,0,1,TD),c=0,f=0,p,m,g,y,x,M,b,_,E,C,P,D;if(a.b=n,a.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=Fo(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(M=e.style[t],e.style[t]=r,r=Fo(e,t)||r,M?e.style[t]=M:Fc(e,t)),p=[n,r],mD(p),n=p[0],r=p[1],g=n.match(vp)||[],D=r.match(vp)||[],D.length){for(;m=vp.exec(r);)b=m[0],E=r.substring(c,m.index),x?x=(x+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(x=1),b!==(M=g[f++]||"")&&(y=parseFloat(M)||0,P=M.substr((y+"").length),b.charAt(1)==="="&&(b=Mp(y,b)+P),_=parseFloat(b),C=b.substr((_+"").length),c=vp.lastIndex-C.length,C||(C=C||Bo.units[t]||P,c===r.length&&(r+=C,a.e+=C)),P!==C&&(y=Oc(e,t,M,C)||0),a._pt={_next:a._pt,p:E||f===1?E:",",s:y,c:_-y,m:x&&x<4||t==="zIndex"?Math.round:0});a.c=c<r.length?r.substring(c,r.length):""}else a.r=t==="display"&&r==="none"?PD:CD;return jN.test(r)&&(a.e=0),this._pt=a,a},tP={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Dq=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=tP[n]||n,t[1]=tP[r]||r,t.join(" ")},kq=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,a,c,f;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),f=s.length;--f>-1;)a=s[f],Au[a]&&(c=1,a=a==="transformOrigin"?uo:Ni),Fc(n,a);c&&(Fc(n,Ni),o&&(o.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",I0(n,1),o.uncache=1,RD(r)))}},E_={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new lo(e._pt,t,n,0,0,kq);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},R0=[1,0,0,1,0,0],kD={},FD=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},nP=function(e){var t=Fo(e,Ni);return FD(t)?R0:t.substr(7).match(WN).map(qi)},oE=function(e,t){var n=e._gsap||hd(e),r=e.style,s=nP(e),o,a,c,f;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?R0:s):(s===R0&&!e.offsetParent&&e!==bp&&!n.svg&&(c=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,a=e.nextElementSibling,bp.appendChild(e)),s=nP(e),c?r.display=c:Fc(e,"display"),f&&(a?o.insertBefore(e,a):o?o.appendChild(e):bp.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},rb=function(e,t,n,r,s,o){var a=e._gsap,c=s||oE(e,!0),f=a.xOrigin||0,p=a.yOrigin||0,m=a.xOffset||0,g=a.yOffset||0,y=c[0],x=c[1],M=c[2],b=c[3],_=c[4],E=c[5],C=t.split(" "),P=parseFloat(C[0])||0,D=parseFloat(C[1])||0,F,O,U,I;n?c!==R0&&(O=y*b-x*M)&&(U=P*(b/O)+D*(-M/O)+(M*E-b*_)/O,I=P*(-x/O)+D*(y/O)-(y*E-x*_)/O,P=U,D=I):(F=ND(e),P=F.x+(~C[0].indexOf("%")?P/100*F.width:P),D=F.y+(~(C[1]||C[0]).indexOf("%")?D/100*F.height:D)),r||r!==!1&&a.smooth?(_=P-f,E=D-p,a.xOffset=m+(_*y+E*M)-_,a.yOffset=g+(_*x+E*b)-E):a.xOffset=a.yOffset=0,a.xOrigin=P,a.yOrigin=D,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[uo]="0px 0px",o&&(bc(o,a,"xOrigin",f,P),bc(o,a,"yOrigin",p,D),bc(o,a,"xOffset",m,a.xOffset),bc(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",P+" "+D)},I0=function(e,t){var n=e._gsap||new xD(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",a="deg",c=getComputedStyle(e),f=Fo(e,uo)||"0",p,m,g,y,x,M,b,_,E,C,P,D,F,O,U,I,k,j,W,$,se,Z,te,q,z,J,V,X,oe,ye,Pe,Ue;return p=m=g=M=b=_=E=C=P=0,y=x=1,n.svg=!!(e.getCTM&&DD(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[Ni]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ni]!=="none"?c[Ni]:"")),r.scale=r.rotate=r.translate="none"),O=oE(e,n.svg),n.svg&&(n.uncache?(z=e.getBBox(),f=n.xOrigin-z.x+"px "+(n.yOrigin-z.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),rb(e,q||f,!!q||n.originIsAbsolute,n.smooth!==!1,O)),D=n.xOrigin||0,F=n.yOrigin||0,O!==R0&&(j=O[0],W=O[1],$=O[2],se=O[3],p=Z=O[4],m=te=O[5],O.length===6?(y=Math.sqrt(j*j+W*W),x=Math.sqrt(se*se+$*$),M=j||W?ep(W,j)*Kf:0,E=$||se?ep($,se)*Kf+M:0,E&&(x*=Math.abs(Math.cos(E*Tp))),n.svg&&(p-=D-(D*j+F*$),m-=F-(D*W+F*se))):(Ue=O[6],ye=O[7],V=O[8],X=O[9],oe=O[10],Pe=O[11],p=O[12],m=O[13],g=O[14],U=ep(Ue,oe),b=U*Kf,U&&(I=Math.cos(-U),k=Math.sin(-U),q=Z*I+V*k,z=te*I+X*k,J=Ue*I+oe*k,V=Z*-k+V*I,X=te*-k+X*I,oe=Ue*-k+oe*I,Pe=ye*-k+Pe*I,Z=q,te=z,Ue=J),U=ep(-$,oe),_=U*Kf,U&&(I=Math.cos(-U),k=Math.sin(-U),q=j*I-V*k,z=W*I-X*k,J=$*I-oe*k,Pe=se*k+Pe*I,j=q,W=z,$=J),U=ep(W,j),M=U*Kf,U&&(I=Math.cos(U),k=Math.sin(U),q=j*I+W*k,z=Z*I+te*k,W=W*I-j*k,te=te*I-Z*k,j=q,Z=z),b&&Math.abs(b)+Math.abs(M)>359.9&&(b=M=0,_=180-_),y=qi(Math.sqrt(j*j+W*W+$*$)),x=qi(Math.sqrt(te*te+Ue*Ue)),U=ep(Z,te),E=Math.abs(U)>2e-4?U*Kf:0,P=Pe?1/(Pe<0?-Pe:Pe):0),n.svg&&(q=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!FD(Fo(e,Ni)),q&&e.setAttribute("transform",q))),Math.abs(E)>90&&Math.abs(E)<270&&(s?(y*=-1,E+=M<=0?180:-180,M+=M<=0?180:-180):(x*=-1,E+=E<=0?180:-180)),t=t||n.uncache,n.x=p-((n.xPercent=p&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=m-((n.yPercent=m&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=qi(y),n.scaleY=qi(x),n.rotation=qi(M)+a,n.rotationX=qi(b)+a,n.rotationY=qi(_)+a,n.skewX=E+a,n.skewY=C+a,n.transformPerspective=P+o,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(r[uo]=A_(f)),n.xOffset=n.yOffset=0,n.force3D=Bo.force3D,n.renderTransform=n.svg?Oq:LD?OD:Fq,n.uncache=0,n},A_=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ww=function(e,t,n){var r=ls(t);return qi(parseFloat(t)+parseFloat(Oc(e,"x",n+"px",r)))+r},Fq=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,OD(e,t)},Xf="0deg",gg="0px",Yf=") ",OD=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.z,f=n.rotation,p=n.rotationY,m=n.rotationX,g=n.skewX,y=n.skewY,x=n.scaleX,M=n.scaleY,b=n.transformPerspective,_=n.force3D,E=n.target,C=n.zOrigin,P="",D=_==="auto"&&e&&e!==1||_===!0;if(C&&(m!==Xf||p!==Xf)){var F=parseFloat(p)*Tp,O=Math.sin(F),U=Math.cos(F),I;F=parseFloat(m)*Tp,I=Math.cos(F),o=Ww(E,o,O*I*-C),a=Ww(E,a,-Math.sin(F)*-C),c=Ww(E,c,U*I*-C+C)}b!==gg&&(P+="perspective("+b+Yf),(r||s)&&(P+="translate("+r+"%, "+s+"%) "),(D||o!==gg||a!==gg||c!==gg)&&(P+=c!==gg||D?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+Yf),f!==Xf&&(P+="rotate("+f+Yf),p!==Xf&&(P+="rotateY("+p+Yf),m!==Xf&&(P+="rotateX("+m+Yf),(g!==Xf||y!==Xf)&&(P+="skew("+g+", "+y+Yf),(x!==1||M!==1)&&(P+="scale("+x+", "+M+Yf),E.style[Ni]=P||"translate(0, 0)"},Oq=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.rotation,f=n.skewX,p=n.skewY,m=n.scaleX,g=n.scaleY,y=n.target,x=n.xOrigin,M=n.yOrigin,b=n.xOffset,_=n.yOffset,E=n.forceCSS,C=parseFloat(o),P=parseFloat(a),D,F,O,U,I;c=parseFloat(c),f=parseFloat(f),p=parseFloat(p),p&&(p=parseFloat(p),f+=p,c+=p),c||f?(c*=Tp,f*=Tp,D=Math.cos(c)*m,F=Math.sin(c)*m,O=Math.sin(c-f)*-g,U=Math.cos(c-f)*g,f&&(p*=Tp,I=Math.tan(f-p),I=Math.sqrt(1+I*I),O*=I,U*=I,p&&(I=Math.tan(p),I=Math.sqrt(1+I*I),D*=I,F*=I)),D=qi(D),F=qi(F),O=qi(O),U=qi(U)):(D=m,U=g,F=O=0),(C&&!~(o+"").indexOf("px")||P&&!~(a+"").indexOf("px"))&&(C=Oc(y,"x",o,"px"),P=Oc(y,"y",a,"px")),(x||M||b||_)&&(C=qi(C+x-(x*D+M*O)+b),P=qi(P+M-(x*F+M*U)+_)),(r||s)&&(I=y.getBBox(),C=qi(C+r/100*I.width),P=qi(P+s/100*I.height)),I="matrix("+D+","+F+","+O+","+U+","+C+","+P+")",y.setAttribute("transform",I),E&&(y.style[Ni]=I)},Uq=function(e,t,n,r,s){var o=360,a=Dr(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?Kf:1),f=c-r,p=r+f+"deg",m,g;return a&&(m=s.split("_")[1],m==="short"&&(f%=o,f!==f%(o/2)&&(f+=f<0?o:-o)),m==="cw"&&f<0?f=(f+o*K3)%o-~~(f/o)*o:m==="ccw"&&f>0&&(f=(f-o*K3)%o-~~(f/o)*o)),e._pt=g=new lo(e._pt,t,n,r,f,_q),g.e=p,g.u="deg",e._props.push(n),g},iP=function(e,t){for(var n in t)e[n]=t[n];return e},Bq=function(e,t,n){var r=iP({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,c,f,p,m,g,y,x;r.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),o[Ni]=t,a=I0(n,1),Fc(n,Ni),n.setAttribute("transform",f)):(f=getComputedStyle(n)[Ni],o[Ni]=t,a=I0(n,1),o[Ni]=f);for(c in Au)f=r[c],p=a[c],f!==p&&s.indexOf(c)<0&&(y=ls(f),x=ls(p),m=y!==x?Oc(n,c,f,x):parseFloat(f),g=parseFloat(p),e._pt=new lo(e._pt,a,c,m,g-m,tb),e._pt.u=x||0,e._props.push(c));iP(a,r)};ao("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(a){return e<2?i+a:"border"+a+i});E_[e>1?"border"+i:i]=function(a,c,f,p,m){var g,y;if(arguments.length<4)return g=o.map(function(x){return gu(a,x,f)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(p+"").split(" "),y={},o.forEach(function(x,M){return y[x]=g[M]=g[M]||g[(M-1)/2|0]}),a.init(c,y,m)}});var UD={name:"css",register:ib,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,a=e.style,c=n.vars.startAt,f,p,m,g,y,x,M,b,_,E,C,P,D,F,O,U,I;iE||ib(),this.styles=this.styles||ID(e),U=this.styles.props,this.tween=n;for(M in t)if(M!=="autoRound"&&(p=t[M],!(Ro[M]&&_D(M,t,n,r,e,s)))){if(y=typeof p,x=E_[M],y==="function"&&(p=p.call(n,r,e,s),y=typeof p),y==="string"&&~p.indexOf("random(")&&(p=A0(p)),x)x(this,e,M,p,n)&&(O=1);else if(M.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(M)+"").trim(),p+="",Cc.lastIndex=0,Cc.test(f)||(b=ls(f),_=ls(p),_?b!==_&&(f=Oc(e,M,f,_)+_):b&&(p+=b)),this.add(a,"setProperty",f,p,r,s,0,0,M),o.push(M),U.push(M,0,a[M]);else if(y!=="undefined"){if(c&&M in c?(f=typeof c[M]=="function"?c[M].call(n,r,e,s):c[M],Dr(f)&&~f.indexOf("random(")&&(f=A0(f)),ls(f+"")||f==="auto"||(f+=Bo.units[M]||ls(gu(e,M))||""),(f+"").charAt(1)==="="&&(f=gu(e,M))):f=gu(e,M),g=parseFloat(f),E=y==="string"&&p.charAt(1)==="="&&p.substr(0,2),E&&(p=p.substr(2)),m=parseFloat(p),M in gl&&(M==="autoAlpha"&&(g===1&&gu(e,"visibility")==="hidden"&&m&&(g=0),U.push("visibility",0,a.visibility),bc(this,a,"visibility",g?"inherit":"hidden",m?"inherit":"hidden",!m)),M!=="scale"&&M!=="transform"&&(M=gl[M],~M.indexOf(",")&&(M=M.split(",")[0]))),C=M in Au,C){if(this.styles.save(M),I=p,y==="string"&&p.substring(0,6)==="var(--"){if(p=Fo(e,p.substring(4,p.indexOf(")"))),p.substring(0,5)==="calc("){var k=e.style.perspective;e.style.perspective=p,p=Fo(e,"perspective"),k?e.style.perspective=k:Fc(e,"perspective")}m=parseFloat(p)}if(P||(D=e._gsap,D.renderTransform&&!t.parseTransform||I0(e,t.parseTransform),F=t.smoothOrigin!==!1&&D.smooth,P=this._pt=new lo(this._pt,a,Ni,0,1,D.renderTransform,D,0,-1),P.dep=1),M==="scale")this._pt=new lo(this._pt,D,"scaleY",D.scaleY,(E?Mp(D.scaleY,E+m):m)-D.scaleY||0,tb),this._pt.u=0,o.push("scaleY",M),M+="X";else if(M==="transformOrigin"){U.push(uo,0,a[uo]),p=Dq(p),D.svg?rb(e,p,0,F,0,this):(_=parseFloat(p.split(" ")[2])||0,_!==D.zOrigin&&bc(this,D,"zOrigin",D.zOrigin,_),bc(this,a,M,A_(f),A_(p)));continue}else if(M==="svgOrigin"){rb(e,p,1,F,0,this);continue}else if(M in kD){Uq(this,D,M,g,E?Mp(g,E+p):p);continue}else if(M==="smoothOrigin"){bc(this,D,"smooth",D.smooth,p);continue}else if(M==="force3D"){D[M]=p;continue}else if(M==="transform"){Bq(this,p,e);continue}}else M in a||(M=jp(M)||M);if(C||(m||m===0)&&(g||g===0)&&!xq.test(p)&&M in a)b=(f+"").substr((g+"").length),m||(m=0),_=ls(p)||(M in Bo.units?Bo.units[M]:b),b!==_&&(g=Oc(e,M,f,_)),this._pt=new lo(this._pt,C?D:a,M,g,(E?Mp(g,E+m):m)-g,!C&&(_==="px"||M==="zIndex")&&t.autoRound!==!1?Mq:tb),this._pt.u=_||0,C&&I!==p?(this._pt.b=f,this._pt.e=I,this._pt.r=wq):b!==_&&_!=="%"&&(this._pt.b=f,this._pt.r=Sq);else if(M in a)Nq.call(this,e,M,f,E?E+p:p);else if(M in e)this.add(e,M,f||e[M],E?E+p:p,r,s);else if(M!=="parseTransform"){YT(M,p);continue}C||(M in a?U.push(M,0,a[M]):typeof e[M]=="function"?U.push(M,2,e[M]()):U.push(M,1,f||e[M])),o.push(M)}}O&&ED(this)},render:function(e,t){if(t.tween._time||!rE())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:gu,aliases:gl,getSetter:function(e,t,n){var r=gl[t];return r&&r.indexOf(",")<0&&(t=r),t in Au&&t!==uo&&(e._gsap.x||gu(e,"x"))?n&&$3===n?t==="scale"?Aq:Eq:($3=n||{})&&(t==="scale"?Cq:Pq):e.style&&!WT(e.style[t])?bq:~t.indexOf("-")?Tq:tE(e,t)},core:{_removeProperty:Fc,_getMatrix:oE}};fo.utils.checkPrefix=jp;fo.core.getStyleSaver=ID;(function(i,e,t,n){var r=ao(i+","+e+","+t,function(s){Au[s]=1});ao(e,function(s){Bo.units[s]="deg",kD[s]=1}),gl[r[13]]=i+","+e,ao(n,function(s){var o=s.split(":");gl[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ao("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Bo.units[i]="px"});fo.registerPlugin(UD);var Yg=fo.registerPlugin(UD)||fo;Yg.core.Tween;function zq(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Vq(i,e,t){return e&&zq(i.prototype,e),i}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Yr,px,No,Tc,Ec,Ep,BD,Zf,qg,zD,_u,za,VD,HD=function(){return Yr||typeof window<"u"&&(Yr=window.gsap)&&Yr.registerPlugin&&Yr},GD=1,xp=[],En=[],_l=[],$g=Date.now,sb=function(e,t){return t},Hq=function(){var e=qg.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,En),r.push.apply(r,_l),En=n,_l=r,sb=function(o,a){return t[o](a)}},Pc=function(e,t){return~_l.indexOf(e)&&_l[_l.indexOf(e)+1][t]},Kg=function(e){return!!~zD.indexOf(e)},Es=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:r!==!1,capture:!!s})},Ts=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Hy="scrollLeft",Gy="scrollTop",ob=function(){return _u&&_u.isPressed||En.cache++},C_=function(e,t){var n=function r(s){if(s||s===0){GD&&(No.history.scrollRestoration="manual");var o=_u&&_u.isPressed;s=r.v=Math.round(s)||(_u&&_u.iOS?1:0),e(s),r.cacheID=En.cache,o&&sb("ss",s)}else(t||En.cache!==r.cacheID||sb("ref"))&&(r.cacheID=En.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},Ds={s:Hy,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:C_(function(i){return arguments.length?No.scrollTo(i,_r.sc()):No.pageXOffset||Tc[Hy]||Ec[Hy]||Ep[Hy]||0})},_r={s:Gy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ds,sc:C_(function(i){return arguments.length?No.scrollTo(Ds.sc(),i):No.pageYOffset||Tc[Gy]||Ec[Gy]||Ep[Gy]||0})},to=function(e,t){return(t&&t._ctx&&t._ctx.selector||Yr.utils.toArray)(e)[0]||(typeof e=="string"&&Yr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Gq=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},Uc=function(e,t){var n=t.s,r=t.sc;Kg(e)&&(e=Tc.scrollingElement||Ec);var s=En.indexOf(e),o=r===_r.sc?1:2;!~s&&(s=En.push(e)-1),En[s+o]||Es(e,"scroll",ob);var a=En[s+o],c=a||(En[s+o]=C_(Pc(e,n),!0)||(Kg(e)?r:C_(function(f){return arguments.length?e[n]=f:e[n]})));return c.target=e,a||(c.smooth=Yr.getProperty(e,"scrollBehavior")==="smooth"),c},ab=function(e,t,n){var r=e,s=e,o=$g(),a=o,c=t||50,f=Math.max(500,c*3),p=function(x,M){var b=$g();M||b-o>c?(s=r,r=x,a=o,o=b):n?r+=x:r=s+(x-s)/(b-a)*(o-a)},m=function(){s=r=n?0:r,a=o=0},g=function(x){var M=a,b=s,_=$g();return(x||x===0)&&x!==r&&p(x),o===a||_-a>f?0:(r+(n?b:-b))/((n?_:o)-M)*1e3};return{update:p,reset:m,getVelocity:g}},vg=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},rP=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},WD=function(){qg=Yr.core.globals().ScrollTrigger,qg&&qg.core&&Hq()},jD=function(e){return Yr=e||HD(),!px&&Yr&&typeof document<"u"&&document.body&&(No=window,Tc=document,Ec=Tc.documentElement,Ep=Tc.body,zD=[No,Tc,Ec,Ep],Yr.utils.clamp,VD=Yr.core.context||function(){},Zf="onpointerenter"in Ep?"pointer":"mouse",BD=Ki.isTouch=No.matchMedia&&No.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in No||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,za=Ki.eventTypes=("ontouchstart"in Ec?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ec?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return GD=0},500),WD(),px=1),px};Ds.op=_r;En.cache=0;var Ki=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){px||jD(Yr)||console.warn("Please gsap.registerPlugin(Observer)"),qg||WD();var r=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,c=n.lineHeight,f=n.debounce,p=n.preventDefault,m=n.onStop,g=n.onStopDelay,y=n.ignore,x=n.wheelSpeed,M=n.event,b=n.onDragStart,_=n.onDragEnd,E=n.onDrag,C=n.onPress,P=n.onRelease,D=n.onRight,F=n.onLeft,O=n.onUp,U=n.onDown,I=n.onChangeX,k=n.onChangeY,j=n.onChange,W=n.onToggleX,$=n.onToggleY,se=n.onHover,Z=n.onHoverEnd,te=n.onMove,q=n.ignoreCheck,z=n.isNormalizer,J=n.onGestureStart,V=n.onGestureEnd,X=n.onWheel,oe=n.onEnable,ye=n.onDisable,Pe=n.onClick,Ue=n.scrollSpeed,de=n.capture,me=n.allowClicks,De=n.lockAxis,Be=n.onLockAxis;this.target=a=to(a)||Ec,this.vars=n,y&&(y=Yr.utils.toArray(y)),r=r||1e-9,s=s||0,x=x||1,Ue=Ue||1,o=o||"wheel,touch,pointer",f=f!==!1,c||(c=parseFloat(No.getComputedStyle(Ep).lineHeight)||22);var We,yt,Bt,qe,Ce,ke,Le,ae=this,Q=0,wt=0,Je=n.passive||!p&&n.passive!==!1,st=Uc(a,Ds),Ye=Uc(a,_r),K=st(),H=Ye(),le=~o.indexOf("touch")&&!~o.indexOf("pointer")&&za[0]==="pointerdown",Te=Kg(a),Re=a.ownerDocument||Tc,be=[0,0,0],ct=[0,0,0],$e=0,pt=function(){return $e=$g()},vt=function(Ct,Kt){return(ae.event=Ct)&&y&&Gq(Ct.target,y)||Kt&&le&&Ct.pointerType!=="touch"||q&&q(Ct,Kt)},He=function(){ae._vx.reset(),ae._vy.reset(),yt.pause(),m&&m(ae)},et=function(){var Ct=ae.deltaX=rP(be),Kt=ae.deltaY=rP(ct),ut=Math.abs(Ct)>=r,jt=Math.abs(Kt)>=r;j&&(ut||jt)&&j(ae,Ct,Kt,be,ct),ut&&(D&&ae.deltaX>0&&D(ae),F&&ae.deltaX<0&&F(ae),I&&I(ae),W&&ae.deltaX<0!=Q<0&&W(ae),Q=ae.deltaX,be[0]=be[1]=be[2]=0),jt&&(U&&ae.deltaY>0&&U(ae),O&&ae.deltaY<0&&O(ae),k&&k(ae),$&&ae.deltaY<0!=wt<0&&$(ae),wt=ae.deltaY,ct[0]=ct[1]=ct[2]=0),(qe||Bt)&&(te&&te(ae),Bt&&(b&&Bt===1&&b(ae),E&&E(ae),Bt=0),qe=!1),ke&&!(ke=!1)&&Be&&Be(ae),Ce&&(X(ae),Ce=!1),We=0},xt=function(Ct,Kt,ut){be[ut]+=Ct,ct[ut]+=Kt,ae._vx.update(Ct),ae._vy.update(Kt),f?We||(We=requestAnimationFrame(et)):et()},St=function(Ct,Kt){De&&!Le&&(ae.axis=Le=Math.abs(Ct)>Math.abs(Kt)?"x":"y",ke=!0),Le!=="y"&&(be[2]+=Ct,ae._vx.update(Ct,!0)),Le!=="x"&&(ct[2]+=Kt,ae._vy.update(Kt,!0)),f?We||(We=requestAnimationFrame(et)):et()},Qe=function(Ct){if(!vt(Ct,1)){Ct=vg(Ct,p);var Kt=Ct.clientX,ut=Ct.clientY,jt=Kt-ae.x,Ot=ut-ae.y,Wt=ae.isDragging;ae.x=Kt,ae.y=ut,(Wt||(jt||Ot)&&(Math.abs(ae.startX-Kt)>=s||Math.abs(ae.startY-ut)>=s))&&(Bt||(Bt=Wt?2:1),Wt||(ae.isDragging=!0),St(jt,Ot))}},Yt=ae.onPress=function(ft){vt(ft,1)||ft&&ft.button||(ae.axis=Le=null,yt.pause(),ae.isPressed=!0,ft=vg(ft),Q=wt=0,ae.startX=ae.x=ft.clientX,ae.startY=ae.y=ft.clientY,ae._vx.reset(),ae._vy.reset(),Es(z?a:Re,za[1],Qe,Je,!0),ae.deltaX=ae.deltaY=0,C&&C(ae))},re=ae.onRelease=function(ft){if(!vt(ft,1)){Ts(z?a:Re,za[1],Qe,!0);var Ct=!isNaN(ae.y-ae.startY),Kt=ae.isDragging,ut=Kt&&(Math.abs(ae.x-ae.startX)>3||Math.abs(ae.y-ae.startY)>3),jt=vg(ft);!ut&&Ct&&(ae._vx.reset(),ae._vy.reset(),p&&me&&Yr.delayedCall(.08,function(){if($g()-$e>300&&!ft.defaultPrevented){if(ft.target.click)ft.target.click();else if(Re.createEvent){var Ot=Re.createEvent("MouseEvents");Ot.initMouseEvent("click",!0,!0,No,1,jt.screenX,jt.screenY,jt.clientX,jt.clientY,!1,!1,!1,!1,0,null),ft.target.dispatchEvent(Ot)}}})),ae.isDragging=ae.isGesturing=ae.isPressed=!1,m&&Kt&&!z&&yt.restart(!0),Bt&&et(),_&&Kt&&_(ae),P&&P(ae,ut)}},ot=function(Ct){return Ct.touches&&Ct.touches.length>1&&(ae.isGesturing=!0)&&J(Ct,ae.isDragging)},Ve=function(){return(ae.isGesturing=!1)||V(ae)},it=function(Ct){if(!vt(Ct)){var Kt=st(),ut=Ye();xt((Kt-K)*Ue,(ut-H)*Ue,1),K=Kt,H=ut,m&&yt.restart(!0)}},Oe=function(Ct){if(!vt(Ct)){Ct=vg(Ct,p),X&&(Ce=!0);var Kt=(Ct.deltaMode===1?c:Ct.deltaMode===2?No.innerHeight:1)*x;xt(Ct.deltaX*Kt,Ct.deltaY*Kt,0),m&&!z&&yt.restart(!0)}},Ne=function(Ct){if(!vt(Ct)){var Kt=Ct.clientX,ut=Ct.clientY,jt=Kt-ae.x,Ot=ut-ae.y;ae.x=Kt,ae.y=ut,qe=!0,m&&yt.restart(!0),(jt||Ot)&&St(jt,Ot)}},tt=function(Ct){ae.event=Ct,se(ae)},Vt=function(Ct){ae.event=Ct,Z(ae)},Mn=function(Ct){return vt(Ct)||vg(Ct,p)&&Pe(ae)};yt=ae._dc=Yr.delayedCall(g||.25,He).pause(),ae.deltaX=ae.deltaY=0,ae._vx=ab(0,50,!0),ae._vy=ab(0,50,!0),ae.scrollX=st,ae.scrollY=Ye,ae.isDragging=ae.isGesturing=ae.isPressed=!1,VD(this),ae.enable=function(ft){return ae.isEnabled||(Es(Te?Re:a,"scroll",ob),o.indexOf("scroll")>=0&&Es(Te?Re:a,"scroll",it,Je,de),o.indexOf("wheel")>=0&&Es(a,"wheel",Oe,Je,de),(o.indexOf("touch")>=0&&BD||o.indexOf("pointer")>=0)&&(Es(a,za[0],Yt,Je,de),Es(Re,za[2],re),Es(Re,za[3],re),me&&Es(a,"click",pt,!0,!0),Pe&&Es(a,"click",Mn),J&&Es(Re,"gesturestart",ot),V&&Es(Re,"gestureend",Ve),se&&Es(a,Zf+"enter",tt),Z&&Es(a,Zf+"leave",Vt),te&&Es(a,Zf+"move",Ne)),ae.isEnabled=!0,ae.isDragging=ae.isGesturing=ae.isPressed=qe=Bt=!1,ae._vx.reset(),ae._vy.reset(),K=st(),H=Ye(),ft&&ft.type&&Yt(ft),oe&&oe(ae)),ae},ae.disable=function(){ae.isEnabled&&(xp.filter(function(ft){return ft!==ae&&Kg(ft.target)}).length||Ts(Te?Re:a,"scroll",ob),ae.isPressed&&(ae._vx.reset(),ae._vy.reset(),Ts(z?a:Re,za[1],Qe,!0)),Ts(Te?Re:a,"scroll",it,de),Ts(a,"wheel",Oe,de),Ts(a,za[0],Yt,de),Ts(Re,za[2],re),Ts(Re,za[3],re),Ts(a,"click",pt,!0),Ts(a,"click",Mn),Ts(Re,"gesturestart",ot),Ts(Re,"gestureend",Ve),Ts(a,Zf+"enter",tt),Ts(a,Zf+"leave",Vt),Ts(a,Zf+"move",Ne),ae.isEnabled=ae.isPressed=ae.isDragging=!1,ye&&ye(ae))},ae.kill=ae.revert=function(){ae.disable();var ft=xp.indexOf(ae);ft>=0&&xp.splice(ft,1),_u===ae&&(_u=0)},xp.push(ae),z&&Kg(a)&&(_u=ae),ae.enable(M)},Vq(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();Ki.version="3.14.2";Ki.create=function(i){return new Ki(i)};Ki.register=jD;Ki.getAll=function(){return xp.slice()};Ki.getById=function(i){return xp.filter(function(e){return e.vars.id===i})[0]};HD()&&Yr.registerPlugin(Ki);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var It,op,Tn,di,Io,$n,aE,P_,L0,Zg,Eg,Wy,os,S1,lb,Ps,sP,oP,ap,XD,jw,YD,Cs,ub,qD,$D,mc,cb,lE,Ap,uE,Jg,fb,Xw,jy=1,as=Date.now,Yw=as(),ca=0,Ag=0,aP=function(e,t,n){var r=Po(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},lP=function(e,t){return t&&(!Po(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Wq=function i(){return Ag&&requestAnimationFrame(i)},uP=function(){return S1=1},cP=function(){return S1=0},dl=function(e){return e},Cg=function(e){return Math.round(e*1e5)/1e5||0},KD=function(){return typeof window<"u"},ZD=function(){return It||KD()&&(It=window.gsap)&&It.registerPlugin&&It},Ed=function(e){return!!~aE.indexOf(e)},JD=function(e){return(e==="Height"?uE:Tn["inner"+e])||Io["client"+e]||$n["client"+e]},QD=function(e){return Pc(e,"getBoundingClientRect")||(Ed(e)?function(){return xx.width=Tn.innerWidth,xx.height=uE,xx}:function(){return xu(e)})},jq=function(e,t,n){var r=n.d,s=n.d2,o=n.a;return(o=Pc(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?JD(s):e["client"+s])||0}},Xq=function(e,t){return!t||~_l.indexOf(e)?QD(e):function(){return xx}},vl=function(e,t){var n=t.s,r=t.d2,s=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=Pc(e,n))?o()-QD(e)()[s]:Ed(e)?(Io[n]||$n[n])-JD(r):e[n]-e["offset"+r])},Xy=function(e,t){for(var n=0;n<ap.length;n+=3)(!t||~t.indexOf(ap[n+1]))&&e(ap[n],ap[n+1],ap[n+2])},Po=function(e){return typeof e=="string"},us=function(e){return typeof e=="function"},Pg=function(e){return typeof e=="number"},Jf=function(e){return typeof e=="object"},yg=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},qw=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},tp=Math.abs,ek="left",tk="top",cE="right",fE="bottom",vd="width",yd="height",Qg="Right",e0="Left",t0="Top",n0="Bottom",sr="padding",na="margin",Xp="Width",dE="Height",yr="px",ia=function(e){return Tn.getComputedStyle(e)},Yq=function(e){var t=ia(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},fP=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},xu=function(e,t){var n=t&&ia(e)[lb]!=="matrix(1, 0, 0, 1, 0, 0)"&&It.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},R_=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},nk=function(e){var t=[],n=e.labels,r=e.duration(),s;for(s in n)t.push(n[s]/r);return t},qq=function(e){return function(t){return It.utils.snap(nk(e),t)}},hE=function(e){var t=It.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return n?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return t(r);if(s>0){for(r-=o,a=0;a<n.length;a++)if(n[a]>=r)return n[a];return n[a-1]}else for(a=n.length,r+=o;a--;)if(n[a]<=r)return n[a];return n[0]}:function(r,s,o){o===void 0&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},$q=function(e){return function(t,n){return hE(nk(e))(t,n.direction)}},Yy=function(e,t,n,r){return n.split(",").forEach(function(s){return e(t,s,r)})},Lr=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:!r,capture:!!s})},Ir=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},qy=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},dP={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},$y={toggleActions:"play",anticipatePin:0},I_={top:0,left:0,center:.5,bottom:1,right:1},mx=function(e,t){if(Po(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in I_?I_[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ky=function(e,t,n,r,s,o,a,c){var f=s.startColor,p=s.endColor,m=s.fontSize,g=s.indent,y=s.fontWeight,x=di.createElement("div"),M=Ed(n)||Pc(n,"pinType")==="fixed",b=e.indexOf("scroller")!==-1,_=M?$n:n,E=e.indexOf("start")!==-1,C=E?f:p,P="border-color:"+C+";font-size:"+m+";color:"+C+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return P+="position:"+((b||c)&&M?"fixed;":"absolute;"),(b||c||!M)&&(P+=(r===_r?cE:fE)+":"+(o+parseFloat(g))+"px;"),a&&(P+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),x._isStart=E,x.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),x.style.cssText=P,x.innerText=t||t===0?e+"-"+t:e,_.children[0]?_.insertBefore(x,_.children[0]):_.appendChild(x),x._offset=x["offset"+r.op.d2],gx(x,0,r,E),x},gx=function(e,t,n,r){var s={display:"block"},o=n[r?"os2":"p2"],a=n[r?"p2":"os2"];e._isFlipped=r,s[n.a+"Percent"]=r?-100:0,s[n.a]=r?"1px":0,s["border"+o+Xp]=1,s["border"+a+Xp]=0,s[n.p]=t+"px",It.set(e,s)},wn=[],db={},N0,hP=function(){return as()-ca>34&&(N0||(N0=requestAnimationFrame(wu)))},np=function(){(!Cs||!Cs.isPressed||Cs.startX>$n.clientWidth)&&(En.cache++,Cs?N0||(N0=requestAnimationFrame(wu)):wu(),ca||Cd("scrollStart"),ca=as())},$w=function(){$D=Tn.innerWidth,qD=Tn.innerHeight},Rg=function(e){En.cache++,(e===!0||!os&&!YD&&!di.fullscreenElement&&!di.webkitFullscreenElement&&(!ub||$D!==Tn.innerWidth||Math.abs(Tn.innerHeight-qD)>Tn.innerHeight*.25))&&P_.restart(!0)},Ad={},Kq=[],ik=function i(){return Ir(An,"scrollEnd",i)||ad(!0)},Cd=function(e){return Ad[e]&&Ad[e].map(function(t){return t()})||Kq},Co=[],rk=function(e){for(var t=0;t<Co.length;t+=5)(!e||Co[t+4]&&Co[t+4].query===e)&&(Co[t].style.cssText=Co[t+1],Co[t].getBBox&&Co[t].setAttribute("transform",Co[t+2]||""),Co[t+3].uncache=1)},sk=function(){return En.forEach(function(e){return us(e)&&++e.cacheID&&(e.rec=e())})},pE=function(e,t){var n;for(Ps=0;Ps<wn.length;Ps++)n=wn[Ps],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));Jg=!0,t&&rk(t),t||Cd("revert")},ok=function(e,t){En.cache++,(t||!Rs)&&En.forEach(function(n){return us(n)&&n.cacheID++&&(n.rec=0)}),Po(e)&&(Tn.history.scrollRestoration=lE=e)},Rs,xd=0,pP,Zq=function(){if(pP!==xd){var e=pP=xd;requestAnimationFrame(function(){return e===xd&&ad(!0)})}},ak=function(){$n.appendChild(Ap),uE=!Cs&&Ap.offsetHeight||Tn.innerHeight,$n.removeChild(Ap)},mP=function(e){return L0(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},ad=function(e,t){if(Io=di.documentElement,$n=di.body,aE=[Tn,di,Io,$n],ca&&!e&&!Jg){Lr(An,"scrollEnd",ik);return}ak(),Rs=An.isRefreshing=!0,Jg||sk();var n=Cd("refreshInit");XD&&An.sort(),t||pE(),En.forEach(function(r){us(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),wn.slice(0).forEach(function(r){return r.refresh()}),Jg=!1,wn.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),fb=1,mP(!0),wn.forEach(function(r){var s=vl(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),mP(!1),fb=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),En.forEach(function(r){us(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),ok(lE,1),P_.pause(),xd++,Rs=2,wu(2),wn.forEach(function(r){return us(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Rs=An.isRefreshing=!1,Cd("refresh")},hb=0,vx=1,i0,wu=function(e){if(e===2||!Rs&&!Jg){An.isUpdating=!0,i0&&i0.update(0);var t=wn.length,n=as(),r=n-Yw>=50,s=t&&wn[0].scroll();if(vx=hb>s?-1:1,Rs||(hb=s),r&&(ca&&!S1&&n-ca>200&&(ca=0,Cd("scrollEnd")),Eg=Yw,Yw=n),vx<0){for(Ps=t;Ps-- >0;)wn[Ps]&&wn[Ps].update(0,r);vx=1}else for(Ps=0;Ps<t;Ps++)wn[Ps]&&wn[Ps].update(0,r);An.isUpdating=!1}N0=0},pb=[ek,tk,fE,cE,na+n0,na+Qg,na+t0,na+e0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],yx=pb.concat([vd,yd,"boxSizing","max"+Xp,"max"+dE,"position",na,sr,sr+t0,sr+Qg,sr+n0,sr+e0]),Jq=function(e,t,n){Cp(n);var r=e._gsap;if(r.spacerIsNative)Cp(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},Kw=function(e,t,n,r){if(!e._gsap.swappedIn){for(var s=pb.length,o=t.style,a=e.style,c;s--;)c=pb[s],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[fE]=a[cE]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[vd]=R_(e,Ds)+yr,o[yd]=R_(e,_r)+yr,o[sr]=a[na]=a[tk]=a[ek]="0",Cp(r),a[vd]=a["max"+Xp]=n[vd],a[yd]=a["max"+dE]=n[yd],a[sr]=n[sr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Qq=/([A-Z])/g,Cp=function(e){if(e){var t=e.t.style,n=e.length,r=0,s,o;for((e.t._gsap||It.core.getCache(e.t)).uncache=1;r<n;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(Qq,"-$1").toLowerCase())}},Zy=function(e){for(var t=yx.length,n=e.style,r=[],s=0;s<t;s++)r.push(yx[s],n[yx[s]]);return r.t=e,r},e$=function(e,t,n){for(var r=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],r.push(a,a in t?t[a]:e[o+1]);return r.t=e.t,r},xx={left:0,top:0},gP=function(e,t,n,r,s,o,a,c,f,p,m,g,y,x){us(e)&&(e=e(c)),Po(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?mx("0"+e.substr(3),n):0));var M=y?y.time():0,b,_,E;if(y&&y.seek(0),isNaN(e)||(e=+e),Pg(e))y&&(e=It.utils.mapRange(y.scrollTrigger.start,y.scrollTrigger.end,0,g,e)),a&&gx(a,n,r,!0);else{us(t)&&(t=t(c));var C=(e||"0").split(" "),P,D,F,O;E=to(t,c)||$n,P=xu(E)||{},(!P||!P.left&&!P.top)&&ia(E).display==="none"&&(O=E.style.display,E.style.display="block",P=xu(E),O?E.style.display=O:E.style.removeProperty("display")),D=mx(C[0],P[r.d]),F=mx(C[1]||"0",n),e=P[r.p]-f[r.p]-p+D+s-F,a&&gx(a,F,r,n-F<20||a._isStart&&F>20),n-=n-F}if(x&&(c[x]=e||-.001,e<0&&(e=0)),o){var U=e+n,I=o._isStart;b="scroll"+r.d2,gx(o,U,r,I&&U>20||!I&&(m?Math.max($n[b],Io[b]):o.parentNode[b])<=U+1),m&&(f=xu(a),m&&(o.style[r.op.p]=f[r.op.p]-r.op.m-o._offset+yr))}return y&&E&&(b=xu(E),y.seek(g),_=xu(E),y._caScrollDist=b[r.p]-_[r.p],e=e/y._caScrollDist*g),y&&y.seek(M),y?e:Math.round(e)},t$=/(webkit|moz|length|cssText|inset)/i,vP=function(e,t,n,r){if(e.parentNode!==t){var s=e.style,o,a;if(t===$n){e._stOrig=s.cssText,a=ia(e);for(o in a)!+o&&!t$.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=r}else s.cssText=e._stOrig;It.core.getCache(e).uncache=1,t.appendChild(e)}},lk=function(e,t,n){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,n&&n()),s=r,r=Math.round(o),r}},Jy=function(e,t,n){var r={};r[t.p]="+="+n,It.set(e,r)},yP=function(e,t){var n=Uc(e,t),r="_scroll"+t.p2,s=function o(a,c,f,p,m){var g=o.tween,y=c.onComplete,x={};f=f||n();var M=lk(n,f,function(){g.kill(),o.tween=0});return m=p&&m||0,p=p||a-f,g&&g.kill(),c[r]=a,c.inherit=!1,c.modifiers=x,x[r]=function(){return M(f+p*g.ratio+m*g.ratio*g.ratio)},c.onUpdate=function(){En.cache++,o.tween&&wu()},c.onComplete=function(){o.tween=0,y&&y.call(g)},g=o.tween=It.to(e,c),g};return e[r]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Lr(e,"wheel",n.wheelHandler),An.isTouch&&Lr(e,"touchmove",n.wheelHandler),s},An=(function(){function i(t,n){op||i.register(It)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),cb(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ag){this.update=this.refresh=this.kill=dl;return}n=fP(Po(n)||Pg(n)||n.nodeType?{trigger:n}:n,$y);var s=n,o=s.onUpdate,a=s.toggleClass,c=s.id,f=s.onToggle,p=s.onRefresh,m=s.scrub,g=s.trigger,y=s.pin,x=s.pinSpacing,M=s.invalidateOnRefresh,b=s.anticipatePin,_=s.onScrubComplete,E=s.onSnapComplete,C=s.once,P=s.snap,D=s.pinReparent,F=s.pinSpacer,O=s.containerAnimation,U=s.fastScrollEnd,I=s.preventOverlaps,k=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Ds:_r,j=!m&&m!==0,W=to(n.scroller||Tn),$=It.core.getCache(W),se=Ed(W),Z=("pinType"in n?n.pinType:Pc(W,"pinType")||se&&"fixed")==="fixed",te=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],q=j&&n.toggleActions.split(" "),z="markers"in n?n.markers:$y.markers,J=se?0:parseFloat(ia(W)["border"+k.p2+Xp])||0,V=this,X=n.onRefreshInit&&function(){return n.onRefreshInit(V)},oe=jq(W,se,k),ye=Xq(W,se),Pe=0,Ue=0,de=0,me=Uc(W,k),De,Be,We,yt,Bt,qe,Ce,ke,Le,ae,Q,wt,Je,st,Ye,K,H,le,Te,Re,be,ct,$e,pt,vt,He,et,xt,St,Qe,Yt,re,ot,Ve,it,Oe,Ne,tt,Vt;if(V._startClamp=V._endClamp=!1,V._dir=k,b*=45,V.scroller=W,V.scroll=O?O.time.bind(O):me,yt=me(),V.vars=n,r=r||n.animation,"refreshPriority"in n&&(XD=1,n.refreshPriority===-9999&&(i0=V)),$.tweenScroll=$.tweenScroll||{top:yP(W,_r),left:yP(W,Ds)},V.tweenTo=De=$.tweenScroll[k.p],V.scrubDuration=function(ut){ot=Pg(ut)&&ut,ot?re?re.duration(ut):re=It.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ot,paused:!0,onComplete:function(){return _&&_(V)}}):(re&&re.progress(1).kill(),re=0)},r&&(r.vars.lazy=!1,r._initted&&!V.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),V.animation=r.pause(),r.scrollTrigger=V,V.scrubDuration(m),Qe=0,c||(c=r.vars.id)),P&&((!Jf(P)||P.push)&&(P={snapTo:P}),"scrollBehavior"in $n.style&&It.set(se?[$n,Io]:W,{scrollBehavior:"auto"}),En.forEach(function(ut){return us(ut)&&ut.target===(se?di.scrollingElement||Io:W)&&(ut.smooth=!1)}),We=us(P.snapTo)?P.snapTo:P.snapTo==="labels"?qq(r):P.snapTo==="labelsDirectional"?$q(r):P.directional!==!1?function(ut,jt){return hE(P.snapTo)(ut,as()-Ue<500?0:jt.direction)}:It.utils.snap(P.snapTo),Ve=P.duration||{min:.1,max:2},Ve=Jf(Ve)?Zg(Ve.min,Ve.max):Zg(Ve,Ve),it=It.delayedCall(P.delay||ot/2||.1,function(){var ut=me(),jt=as()-Ue<500,Ot=De.tween;if((jt||Math.abs(V.getVelocity())<10)&&!Ot&&!S1&&Pe!==ut){var Wt=(ut-qe)/st,Jn=r&&!j?r.totalProgress():Wt,Zt=jt?0:(Jn-Yt)/(as()-Eg)*1e3||0,In=It.utils.clamp(-Wt,1-Wt,tp(Zt/2)*Zt/.185),vi=Wt+(P.inertia===!1?0:In),Kn,Wn,dn=P,ur=dn.onStart,Un=dn.onInterrupt,Vi=dn.onComplete;if(Kn=We(vi,V),Pg(Kn)||(Kn=vi),Wn=Math.max(0,Math.round(qe+Kn*st)),ut<=Ce&&ut>=qe&&Wn!==ut){if(Ot&&!Ot._initted&&Ot.data<=tp(Wn-ut))return;P.inertia===!1&&(In=Kn-Wt),De(Wn,{duration:Ve(tp(Math.max(tp(vi-Jn),tp(Kn-Jn))*.185/Zt/.05||0)),ease:P.ease||"power3",data:tp(Wn-ut),onInterrupt:function(){return it.restart(!0)&&Un&&Un(V)},onComplete:function(){V.update(),Pe=me(),r&&!j&&(re?re.resetTo("totalProgress",Kn,r._tTime/r._tDur):r.progress(Kn)),Qe=Yt=r&&!j?r.totalProgress():V.progress,E&&E(V),Vi&&Vi(V)}},ut,In*st,Wn-ut-In*st),ur&&ur(V,De.tween)}}else V.isActive&&Pe!==ut&&it.restart(!0)}).pause()),c&&(db[c]=V),g=V.trigger=to(g||y!==!0&&y),Vt=g&&g._gsap&&g._gsap.stRevert,Vt&&(Vt=Vt(V)),y=y===!0?g:to(y),Po(a)&&(a={targets:g,className:a}),y&&(x===!1||x===na||(x=!x&&y.parentNode&&y.parentNode.style&&ia(y.parentNode).display==="flex"?!1:sr),V.pin=y,Be=It.core.getCache(y),Be.spacer?Ye=Be.pinState:(F&&(F=to(F),F&&!F.nodeType&&(F=F.current||F.nativeElement),Be.spacerIsNative=!!F,F&&(Be.spacerState=Zy(F))),Be.spacer=le=F||di.createElement("div"),le.classList.add("pin-spacer"),c&&le.classList.add("pin-spacer-"+c),Be.pinState=Ye=Zy(y)),n.force3D!==!1&&It.set(y,{force3D:!0}),V.spacer=le=Be.spacer,St=ia(y),pt=St[x+k.os2],Re=It.getProperty(y),be=It.quickSetter(y,k.a,yr),Kw(y,le,St),H=Zy(y)),z){wt=Jf(z)?fP(z,dP):dP,ae=Ky("scroller-start",c,W,k,wt,0),Q=Ky("scroller-end",c,W,k,wt,0,ae),Te=ae["offset"+k.op.d2];var Mn=to(Pc(W,"content")||W);ke=this.markerStart=Ky("start",c,Mn,k,wt,Te,0,O),Le=this.markerEnd=Ky("end",c,Mn,k,wt,Te,0,O),O&&(tt=It.quickSetter([ke,Le],k.a,yr)),!Z&&!(_l.length&&Pc(W,"fixedMarkers")===!0)&&(Yq(se?$n:W),It.set([ae,Q],{force3D:!0}),He=It.quickSetter(ae,k.a,yr),xt=It.quickSetter(Q,k.a,yr))}if(O){var ft=O.vars.onUpdate,Ct=O.vars.onUpdateParams;O.eventCallback("onUpdate",function(){V.update(0,0,1),ft&&ft.apply(O,Ct||[])})}if(V.previous=function(){return wn[wn.indexOf(V)-1]},V.next=function(){return wn[wn.indexOf(V)+1]},V.revert=function(ut,jt){if(!jt)return V.kill(!0);var Ot=ut!==!1||!V.enabled,Wt=os;Ot!==V.isReverted&&(Ot&&(Oe=Math.max(me(),V.scroll.rec||0),de=V.progress,Ne=r&&r.progress()),ke&&[ke,Le,ae,Q].forEach(function(Jn){return Jn.style.display=Ot?"none":"block"}),Ot&&(os=V,V.update(Ot)),y&&(!D||!V.isActive)&&(Ot?Jq(y,le,Ye):Kw(y,le,ia(y),vt)),Ot||V.update(Ot),os=Wt,V.isReverted=Ot)},V.refresh=function(ut,jt,Ot,Wt){if(!((os||!V.enabled)&&!jt)){if(y&&ut&&ca){Lr(i,"scrollEnd",ik);return}!Rs&&X&&X(V),os=V,De.tween&&!Ot&&(De.tween.kill(),De.tween=0),re&&re.pause(),M&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren?r.getChildren(!0,!0,!1).forEach(function(je){return je.vars.immediateRender&&je.render(0,!0,!0)}):r.vars.immediateRender&&r.render(0,!0,!0)),V.isReverted||V.revert(!0,!0),V._subPinOffset=!1;var Jn=oe(),Zt=ye(),In=O?O.duration():vl(W,k),vi=st<=.01||!st,Kn=0,Wn=Wt||0,dn=Jf(Ot)?Ot.end:n.end,ur=n.endTrigger||g,Un=Jf(Ot)?Ot.start:n.start||(n.start===0||!g?0:y?"0 0":"0 100%"),Vi=V.pinnedContainer=n.pinnedContainer&&to(n.pinnedContainer,V),Mr=g&&Math.max(0,wn.indexOf(V))||0,yi=Mr,xi,Ti,po,Ya,an,Y,fe,Me,Se,ve,Ke,at,Fe;for(z&&Jf(Ot)&&(at=It.getProperty(ae,k.p),Fe=It.getProperty(Q,k.p));yi-- >0;)Y=wn[yi],Y.end||Y.refresh(0,1)||(os=V),fe=Y.pin,fe&&(fe===g||fe===y||fe===Vi)&&!Y.isReverted&&(ve||(ve=[]),ve.unshift(Y),Y.revert(!0,!0)),Y!==wn[yi]&&(Mr--,yi--);for(us(Un)&&(Un=Un(V)),Un=aP(Un,"start",V),qe=gP(Un,g,Jn,k,me(),ke,ae,V,Zt,J,Z,In,O,V._startClamp&&"_startClamp")||(y?-.001:0),us(dn)&&(dn=dn(V)),Po(dn)&&!dn.indexOf("+=")&&(~dn.indexOf(" ")?dn=(Po(Un)?Un.split(" ")[0]:"")+dn:(Kn=mx(dn.substr(2),Jn),dn=Po(Un)?Un:(O?It.utils.mapRange(0,O.duration(),O.scrollTrigger.start,O.scrollTrigger.end,qe):qe)+Kn,ur=g)),dn=aP(dn,"end",V),Ce=Math.max(qe,gP(dn||(ur?"100% 0":In),ur,Jn,k,me()+Kn,Le,Q,V,Zt,J,Z,In,O,V._endClamp&&"_endClamp"))||-.001,Kn=0,yi=Mr;yi--;)Y=wn[yi]||{},fe=Y.pin,fe&&Y.start-Y._pinPush<=qe&&!O&&Y.end>0&&(xi=Y.end-(V._startClamp?Math.max(0,Y.start):Y.start),(fe===g&&Y.start-Y._pinPush<qe||fe===Vi)&&isNaN(Un)&&(Kn+=xi*(1-Y.progress)),fe===y&&(Wn+=xi));if(qe+=Kn,Ce+=Kn,V._startClamp&&(V._startClamp+=Kn),V._endClamp&&!Rs&&(V._endClamp=Ce||-.001,Ce=Math.min(Ce,vl(W,k))),st=Ce-qe||(qe-=.01)&&.001,vi&&(de=It.utils.clamp(0,1,It.utils.normalize(qe,Ce,Oe))),V._pinPush=Wn,ke&&Kn&&(xi={},xi[k.a]="+="+Kn,Vi&&(xi[k.p]="-="+me()),It.set([ke,Le],xi)),y&&!(fb&&V.end>=vl(W,k)))xi=ia(y),Ya=k===_r,po=me(),ct=parseFloat(Re(k.a))+Wn,!In&&Ce>1&&(Ke=(se?di.scrollingElement||Io:W).style,Ke={style:Ke,value:Ke["overflow"+k.a.toUpperCase()]},se&&ia($n)["overflow"+k.a.toUpperCase()]!=="scroll"&&(Ke.style["overflow"+k.a.toUpperCase()]="scroll")),Kw(y,le,xi),H=Zy(y),Ti=xu(y,!0),Me=Z&&Uc(W,Ya?Ds:_r)(),x?(vt=[x+k.os2,st+Wn+yr],vt.t=le,yi=x===sr?R_(y,k)+st+Wn:0,yi&&(vt.push(k.d,yi+yr),le.style.flexBasis!=="auto"&&(le.style.flexBasis=yi+yr)),Cp(vt),Vi&&wn.forEach(function(je){je.pin===Vi&&je.vars.pinSpacing!==!1&&(je._subPinOffset=!0)}),Z&&me(Oe)):(yi=R_(y,k),yi&&le.style.flexBasis!=="auto"&&(le.style.flexBasis=yi+yr)),Z&&(an={top:Ti.top+(Ya?po-qe:Me)+yr,left:Ti.left+(Ya?Me:po-qe)+yr,boxSizing:"border-box",position:"fixed"},an[vd]=an["max"+Xp]=Math.ceil(Ti.width)+yr,an[yd]=an["max"+dE]=Math.ceil(Ti.height)+yr,an[na]=an[na+t0]=an[na+Qg]=an[na+n0]=an[na+e0]="0",an[sr]=xi[sr],an[sr+t0]=xi[sr+t0],an[sr+Qg]=xi[sr+Qg],an[sr+n0]=xi[sr+n0],an[sr+e0]=xi[sr+e0],K=e$(Ye,an,D),Rs&&me(0)),r?(Se=r._initted,jw(1),r.render(r.duration(),!0,!0),$e=Re(k.a)-ct+st+Wn,et=Math.abs(st-$e)>1,Z&&et&&K.splice(K.length-2,2),r.render(0,!0,!0),Se||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),jw(0)):$e=st,Ke&&(Ke.value?Ke.style["overflow"+k.a.toUpperCase()]=Ke.value:Ke.style.removeProperty("overflow-"+k.a));else if(g&&me()&&!O)for(Ti=g.parentNode;Ti&&Ti!==$n;)Ti._pinOffset&&(qe-=Ti._pinOffset,Ce-=Ti._pinOffset),Ti=Ti.parentNode;ve&&ve.forEach(function(je){return je.revert(!1,!0)}),V.start=qe,V.end=Ce,yt=Bt=Rs?Oe:me(),!O&&!Rs&&(yt<Oe&&me(Oe),V.scroll.rec=0),V.revert(!1,!0),Ue=as(),it&&(Pe=-1,it.restart(!0)),os=0,r&&j&&(r._initted||Ne)&&r.progress()!==Ne&&r.progress(Ne||0,!0).render(r.time(),!0,!0),(vi||de!==V.progress||O||M||r&&!r._initted)&&(r&&!j&&(r._initted||de||r.vars.immediateRender!==!1)&&r.totalProgress(O&&qe<-.001&&!de?It.utils.normalize(qe,Ce,0):de,!0),V.progress=vi||(yt-qe)/st===de?0:de),y&&x&&(le._pinOffset=Math.round(V.progress*$e)),re&&re.invalidate(),isNaN(at)||(at-=It.getProperty(ae,k.p),Fe-=It.getProperty(Q,k.p),Jy(ae,k,at),Jy(ke,k,at-(Wt||0)),Jy(Q,k,Fe),Jy(Le,k,Fe-(Wt||0))),vi&&!Rs&&V.update(),p&&!Rs&&!Je&&(Je=!0,p(V),Je=!1)}},V.getVelocity=function(){return(me()-Bt)/(as()-Eg)*1e3||0},V.endAnimation=function(){yg(V.callbackAnimation),r&&(re?re.progress(1):r.paused()?j||yg(r,V.direction<0,1):yg(r,r.reversed()))},V.labelToScroll=function(ut){return r&&r.labels&&(qe||V.refresh()||qe)+r.labels[ut]/r.duration()*st||0},V.getTrailing=function(ut){var jt=wn.indexOf(V),Ot=V.direction>0?wn.slice(0,jt).reverse():wn.slice(jt+1);return(Po(ut)?Ot.filter(function(Wt){return Wt.vars.preventOverlaps===ut}):Ot).filter(function(Wt){return V.direction>0?Wt.end<=qe:Wt.start>=Ce})},V.update=function(ut,jt,Ot){if(!(O&&!Ot&&!ut)){var Wt=Rs===!0?Oe:V.scroll(),Jn=ut?0:(Wt-qe)/st,Zt=Jn<0?0:Jn>1?1:Jn||0,In=V.progress,vi,Kn,Wn,dn,ur,Un,Vi,Mr;if(jt&&(Bt=yt,yt=O?me():Wt,P&&(Yt=Qe,Qe=r&&!j?r.totalProgress():Zt)),b&&y&&!os&&!jy&&ca&&(!Zt&&qe<Wt+(Wt-Bt)/(as()-Eg)*b?Zt=1e-4:Zt===1&&Ce>Wt+(Wt-Bt)/(as()-Eg)*b&&(Zt=.9999)),Zt!==In&&V.enabled){if(vi=V.isActive=!!Zt&&Zt<1,Kn=!!In&&In<1,Un=vi!==Kn,ur=Un||!!Zt!=!!In,V.direction=Zt>In?1:-1,V.progress=Zt,ur&&!os&&(Wn=Zt&&!In?0:Zt===1?1:In===1?2:3,j&&(dn=!Un&&q[Wn+1]!=="none"&&q[Wn+1]||q[Wn],Mr=r&&(dn==="complete"||dn==="reset"||dn in r))),I&&(Un||Mr)&&(Mr||m||!r)&&(us(I)?I(V):V.getTrailing(I).forEach(function(po){return po.endAnimation()})),j||(re&&!os&&!jy?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",Zt,r._tTime/r._tDur):(re.vars.totalProgress=Zt,re.invalidate().restart())):r&&r.totalProgress(Zt,!!(os&&(Ue||ut)))),y){if(ut&&x&&(le.style[x+k.os2]=pt),!Z)be(Cg(ct+$e*Zt));else if(ur){if(Vi=!ut&&Zt>In&&Ce+1>Wt&&Wt+1>=vl(W,k),D)if(!ut&&(vi||Vi)){var yi=xu(y,!0),xi=Wt-qe;vP(y,$n,yi.top+(k===_r?xi:0)+yr,yi.left+(k===_r?0:xi)+yr)}else vP(y,le);Cp(vi||Vi?K:H),et&&Zt<1&&vi||be(ct+(Zt===1&&!Vi?$e:0))}}P&&!De.tween&&!os&&!jy&&it.restart(!0),a&&(Un||C&&Zt&&(Zt<1||!Xw))&&L0(a.targets).forEach(function(po){return po.classList[vi||C?"add":"remove"](a.className)}),o&&!j&&!ut&&o(V),ur&&!os?(j&&(Mr&&(dn==="complete"?r.pause().totalProgress(1):dn==="reset"?r.restart(!0).pause():dn==="restart"?r.restart(!0):r[dn]()),o&&o(V)),(Un||!Xw)&&(f&&Un&&qw(V,f),te[Wn]&&qw(V,te[Wn]),C&&(Zt===1?V.kill(!1,1):te[Wn]=0),Un||(Wn=Zt===1?1:3,te[Wn]&&qw(V,te[Wn]))),U&&!vi&&Math.abs(V.getVelocity())>(Pg(U)?U:2500)&&(yg(V.callbackAnimation),re?re.progress(1):yg(r,dn==="reverse"?1:!Zt,1))):j&&o&&!os&&o(V)}if(xt){var Ti=O?Wt/O.duration()*(O._caScrollDist||0):Wt;He(Ti+(ae._isFlipped?1:0)),xt(Ti)}tt&&tt(-Wt/O.duration()*(O._caScrollDist||0))}},V.enable=function(ut,jt){V.enabled||(V.enabled=!0,Lr(W,"resize",Rg),se||Lr(W,"scroll",np),X&&Lr(i,"refreshInit",X),ut!==!1&&(V.progress=de=0,yt=Bt=Pe=me()),jt!==!1&&V.refresh())},V.getTween=function(ut){return ut&&De?De.tween:re},V.setPositions=function(ut,jt,Ot,Wt){if(O){var Jn=O.scrollTrigger,Zt=O.duration(),In=Jn.end-Jn.start;ut=Jn.start+In*ut/Zt,jt=Jn.start+In*jt/Zt}V.refresh(!1,!1,{start:lP(ut,Ot&&!!V._startClamp),end:lP(jt,Ot&&!!V._endClamp)},Wt),V.update()},V.adjustPinSpacing=function(ut){if(vt&&ut){var jt=vt.indexOf(k.d)+1;vt[jt]=parseFloat(vt[jt])+ut+yr,vt[1]=parseFloat(vt[1])+ut+yr,Cp(vt)}},V.disable=function(ut,jt){if(ut!==!1&&V.revert(!0,!0),V.enabled&&(V.enabled=V.isActive=!1,jt||re&&re.pause(),Oe=0,Be&&(Be.uncache=1),X&&Ir(i,"refreshInit",X),it&&(it.pause(),De.tween&&De.tween.kill()&&(De.tween=0)),!se)){for(var Ot=wn.length;Ot--;)if(wn[Ot].scroller===W&&wn[Ot]!==V)return;Ir(W,"resize",Rg),se||Ir(W,"scroll",np)}},V.kill=function(ut,jt){V.disable(ut,jt),re&&!jt&&re.kill(),c&&delete db[c];var Ot=wn.indexOf(V);Ot>=0&&wn.splice(Ot,1),Ot===Ps&&vx>0&&Ps--,Ot=0,wn.forEach(function(Wt){return Wt.scroller===V.scroller&&(Ot=1)}),Ot||Rs||(V.scroll.rec=0),r&&(r.scrollTrigger=null,ut&&r.revert({kill:!1}),jt||r.kill()),ke&&[ke,Le,ae,Q].forEach(function(Wt){return Wt.parentNode&&Wt.parentNode.removeChild(Wt)}),i0===V&&(i0=0),y&&(Be&&(Be.uncache=1),Ot=0,wn.forEach(function(Wt){return Wt.pin===y&&Ot++}),Ot||(Be.spacer=0)),n.onKill&&n.onKill(V)},wn.push(V),V.enable(!1,!1),Vt&&Vt(V),r&&r.add&&!st){var Kt=V.update;V.update=function(){V.update=Kt,En.cache++,qe||Ce||V.refresh()},It.delayedCall(.01,V.update),st=.01,qe=Ce=0}else V.refresh();y&&Zq()},i.register=function(n){return op||(It=n||ZD(),KD()&&window.document&&i.enable(),op=Ag),op},i.defaults=function(n){if(n)for(var r in n)$y[r]=n[r];return $y},i.disable=function(n,r){Ag=0,wn.forEach(function(o){return o[r?"kill":"disable"](n)}),Ir(Tn,"wheel",np),Ir(di,"scroll",np),clearInterval(Wy),Ir(di,"touchcancel",dl),Ir($n,"touchstart",dl),Yy(Ir,di,"pointerdown,touchstart,mousedown",uP),Yy(Ir,di,"pointerup,touchend,mouseup",cP),P_.kill(),Xy(Ir);for(var s=0;s<En.length;s+=3)qy(Ir,En[s],En[s+1]),qy(Ir,En[s],En[s+2])},i.enable=function(){if(Tn=window,di=document,Io=di.documentElement,$n=di.body,It&&(L0=It.utils.toArray,Zg=It.utils.clamp,cb=It.core.context||dl,jw=It.core.suppressOverwrites||dl,lE=Tn.history.scrollRestoration||"auto",hb=Tn.pageYOffset||0,It.core.globals("ScrollTrigger",i),$n)){Ag=1,Ap=document.createElement("div"),Ap.style.height="100vh",Ap.style.position="absolute",ak(),Wq(),Ki.register(It),i.isTouch=Ki.isTouch,mc=Ki.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ub=Ki.isTouch===1,Lr(Tn,"wheel",np),aE=[Tn,di,Io,$n],It.matchMedia?(i.matchMedia=function(f){var p=It.matchMedia(),m;for(m in f)p.add(m,f[m]);return p},It.addEventListener("matchMediaInit",function(){sk(),pE()}),It.addEventListener("matchMediaRevert",function(){return rk()}),It.addEventListener("matchMedia",function(){ad(0,1),Cd("matchMedia")}),It.matchMedia().add("(orientation: portrait)",function(){return $w(),$w})):console.warn("Requires GSAP 3.11.0 or later"),$w(),Lr(di,"scroll",np);var n=$n.hasAttribute("style"),r=$n.style,s=r.borderTopStyle,o=It.core.Animation.prototype,a,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=xu($n),_r.m=Math.round(a.top+_r.sc())||0,Ds.m=Math.round(a.left+Ds.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),n||($n.setAttribute("style",""),$n.removeAttribute("style")),Wy=setInterval(hP,250),It.delayedCall(.5,function(){return jy=0}),Lr(di,"touchcancel",dl),Lr($n,"touchstart",dl),Yy(Lr,di,"pointerdown,touchstart,mousedown",uP),Yy(Lr,di,"pointerup,touchend,mouseup",cP),lb=It.utils.checkPrefix("transform"),yx.push(lb),op=as(),P_=It.delayedCall(.2,ad).pause(),ap=[di,"visibilitychange",function(){var f=Tn.innerWidth,p=Tn.innerHeight;di.hidden?(sP=f,oP=p):(sP!==f||oP!==p)&&Rg()},di,"DOMContentLoaded",ad,Tn,"load",ad,Tn,"resize",Rg],Xy(Lr),wn.forEach(function(f){return f.enable(0,1)}),c=0;c<En.length;c+=3)qy(Ir,En[c],En[c+1]),qy(Ir,En[c],En[c+2])}},i.config=function(n){"limitCallbacks"in n&&(Xw=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(Wy)||(Wy=r)&&setInterval(hP,r),"ignoreMobileResize"in n&&(ub=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Xy(Ir)||Xy(Lr,n.autoRefreshEvents||"none"),YD=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var s=to(n),o=En.indexOf(s),a=Ed(s);~o&&En.splice(o,a?6:2),r&&(a?_l.unshift(Tn,r,$n,r,Io,r):_l.unshift(s,r))},i.clearMatchMedia=function(n){wn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,s){var o=(Po(n)?to(n):n).getBoundingClientRect(),a=o[s?vd:yd]*r||0;return s?o.right-a>0&&o.left+a<Tn.innerWidth:o.bottom-a>0&&o.top+a<Tn.innerHeight},i.positionInViewport=function(n,r,s){Po(n)&&(n=to(n));var o=n.getBoundingClientRect(),a=o[s?vd:yd],c=r==null?a/2:r in I_?I_[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+c)/Tn.innerWidth:(o.top+c)/Tn.innerHeight},i.killAll=function(n){if(wn.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var r=Ad.killAll||[];Ad={},r.forEach(function(s){return s()})}},i})();An.version="3.14.2";An.saveStyles=function(i){return i?L0(i).forEach(function(e){if(e&&e.style){var t=Co.indexOf(e);t>=0&&Co.splice(t,5),Co.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),It.core.getCache(e),cb())}}):Co};An.revert=function(i,e){return pE(!i,e)};An.create=function(i,e){return new An(i,e)};An.refresh=function(i){return i?Rg(!0):(op||An.register())&&ad(!0)};An.update=function(i){return++En.cache&&wu(i===!0?2:0)};An.clearScrollMemory=ok;An.maxScroll=function(i,e){return vl(i,e?Ds:_r)};An.getScrollFunc=function(i,e){return Uc(to(i),e?Ds:_r)};An.getById=function(i){return db[i]};An.getAll=function(){return wn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};An.isScrolling=function(){return!!ca};An.snapDirectional=hE;An.addEventListener=function(i,e){var t=Ad[i]||(Ad[i]=[]);~t.indexOf(e)||t.push(e)};An.removeEventListener=function(i,e){var t=Ad[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};An.batch=function(i,e){var t=[],n={},r=e.interval||.016,s=e.batchMax||1e9,o=function(f,p){var m=[],g=[],y=It.delayedCall(r,function(){p(m,g),m=[],g=[]}).pause();return function(x){m.length||y.restart(!0),m.push(x.trigger),g.push(x),s<=m.length&&y.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&us(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return us(s)&&(s=s(),Lr(An,"refresh",function(){return s=e.batchMax()})),L0(i).forEach(function(c){var f={};for(a in n)f[a]=n[a];f.trigger=c,t.push(An.create(f))}),t};var xP=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},Zw=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Ki.isTouch?" pinch-zoom":""):"none",e===Io&&i($n,t)},Qy={auto:1,scroll:1},n$=function(e){var t=e.event,n=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||It.core.getCache(s),a=as(),c;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==$n&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Qy[(c=ia(s)).overflowY]||Qy[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!Ed(s)&&(Qy[(c=ia(s)).overflowY]||Qy[c.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},uk=function(e,t,n,r){return Ki.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&n$,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&Lr(di,Ki.eventTypes[0],SP,!1,!0)},onDisable:function(){return Ir(di,Ki.eventTypes[0],SP,!0)}})},i$=/(input|label|select|textarea)/i,_P,SP=function(e){var t=i$.test(e.target.tagName);(t||_P)&&(e._gsapAllow=!0,_P=t)},r$=function(e){Jf(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,c,f=to(e.target)||Io,p=It.core.globals().ScrollSmoother,m=p&&p.get(),g=mc&&(e.content&&to(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),y=Uc(f,_r),x=Uc(f,Ds),M=1,b=(Ki.isTouch&&Tn.visualViewport?Tn.visualViewport.scale*Tn.visualViewport.width:Tn.outerWidth)/Tn.innerWidth,_=0,E=us(r)?function(){return r(a)}:function(){return r||2.8},C,P,D=uk(f,e.type,!0,s),F=function(){return P=!1},O=dl,U=dl,I=function(){c=vl(f,_r),U=Zg(mc?1:0,c),n&&(O=Zg(0,vl(f,Ds))),C=xd},k=function(){g._gsap.y=Cg(parseFloat(g._gsap.y)+y.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},j=function(){if(P){requestAnimationFrame(F);var z=Cg(a.deltaY/2),J=U(y.v-z);if(g&&J!==y.v+y.offset){y.offset=J-y.v;var V=Cg((parseFloat(g&&g._gsap.y)||0)-y.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+V+", 0, 1)",g._gsap.y=V+"px",y.cacheID=En.cache,wu()}return!0}y.offset&&k(),P=!0},W,$,se,Z,te=function(){I(),W.isActive()&&W.vars.scrollY>c&&(y()>c?W.progress(1)&&y(c):W.resetTo("scrollY",c))};return g&&It.set(g,{y:"+=0"}),e.ignoreCheck=function(q){return mc&&q.type==="touchmove"&&j()||M>1.05&&q.type!=="touchstart"||a.isGesturing||q.touches&&q.touches.length>1},e.onPress=function(){P=!1;var q=M;M=Cg((Tn.visualViewport&&Tn.visualViewport.scale||1)/b),W.pause(),q!==M&&Zw(f,M>1.01?!0:n?!1:"x"),$=x(),se=y(),I(),C=xd},e.onRelease=e.onGestureStart=function(q,z){if(y.offset&&k(),!z)Z.restart(!0);else{En.cache++;var J=E(),V,X;n&&(V=x(),X=V+J*.05*-q.velocityX/.227,J*=xP(x,V,X,vl(f,Ds)),W.vars.scrollX=O(X)),V=y(),X=V+J*.05*-q.velocityY/.227,J*=xP(y,V,X,vl(f,_r)),W.vars.scrollY=U(X),W.invalidate().duration(J).play(.01),(mc&&W.vars.scrollY>=c||V>=c-1)&&It.to({},{onUpdate:te,duration:J})}o&&o(q)},e.onWheel=function(){W._ts&&W.pause(),as()-_>1e3&&(C=0,_=as())},e.onChange=function(q,z,J,V,X){if(xd!==C&&I(),z&&n&&x(O(V[2]===z?$+(q.startX-q.x):x()+z-V[1])),J){y.offset&&k();var oe=X[2]===J,ye=oe?se+q.startY-q.y:y()+J-X[1],Pe=U(ye);oe&&ye!==Pe&&(se+=Pe-ye),y(Pe)}(J||z)&&wu()},e.onEnable=function(){Zw(f,n?!1:"x"),An.addEventListener("refresh",te),Lr(Tn,"resize",te),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=x.smooth=!1),D.enable()},e.onDisable=function(){Zw(f,!0),Ir(Tn,"resize",te),An.removeEventListener("refresh",te),D.kill()},e.lockAxis=e.lockAxis!==!1,a=new Ki(e),a.iOS=mc,mc&&!y()&&y(1),mc&&It.ticker.add(dl),Z=a._dc,W=It.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:lk(y,y(),function(){return W.pause()})},onUpdate:wu,onComplete:Z.vars.onComplete}),a};An.sort=function(i){if(us(i))return wn.sort(i);var e=Tn.pageYOffset||0;return An.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Tn.innerHeight}),wn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};An.observe=function(i){return new Ki(i)};An.normalizeScroll=function(i){if(typeof i>"u")return Cs;if(i===!0&&Cs)return Cs.enable();if(i===!1){Cs&&Cs.kill(),Cs=i;return}var e=i instanceof Ki?i:r$(i);return Cs&&Cs.target===e.target&&Cs.kill(),Ed(e.target)&&(Cs=e),e};An.core={_getVelocityProp:ab,_inputObserver:uk,_scrollers:En,_proxies:_l,bridge:{ss:function(){ca||Cd("scrollStart"),ca=as()},ref:function(){return os}}};ZD()&&It.registerPlugin(An);Yg.registerPlugin(An);function s$({panels:i}){const e=ce.useRef(null),t=ce.useRef(null);return ce.useEffect(()=>{const n=Yg.context(()=>{const r=t.current,s=e.current;if(!r||!s)return;const o=s.querySelector("[data-hero-content]");o&&Yg.set(o,{opacity:0,y:60});const a=Yg.timeline({scrollTrigger:{trigger:s,start:"top top",end:()=>`+=${window.innerWidth*i.length}`,scrub:.5,pin:!0,anticipatePin:1,invalidateOnRefresh:!0,preventOverlaps:!0,fastScrollEnd:!0}});o&&a.to(o,{opacity:1,y:0,duration:.5,ease:"power2.out"}),a.to(r,{xPercent:-100*(i.length-1),duration:i.length,ease:"none"})},e);return()=>n.revert()},[i.length]),N.jsx("section",{ref:e,className:xn.scrollSection,children:N.jsx("div",{ref:t,className:xn.scrollTrack,children:i.map((n,r)=>N.jsx("div",{className:xn.scrollPanel,children:N.jsx(n,{})},r))})})}const xg=[{family:"'Syne', sans-serif",style:"normal"},{family:"'Italiana', serif",style:"normal"},{family:"'Italiana', serif",style:"italic"},{family:"'Rubik Mono One', monospace",style:"normal"},{family:"'Cormorant Garamond', serif",style:"italic"},{family:"'Playfair Display', serif",style:"italic"},{family:"'Bebas Neue', sans-serif",style:"normal"},{family:"'Unbounded', sans-serif",style:"normal"},{family:"'Chakra Petch', sans-serif",style:"normal"},{family:"'Righteous', system-ui",style:"normal"},{family:"'Orbitron', sans-serif",style:"normal"},{family:"'Audiowide', system-ui",style:"normal"},{family:"'Monoton', system-ui",style:"normal"},{family:"'Bungee', system-ui",style:"normal"},{family:"'Russo One', sans-serif",style:"normal"},{family:"'Racing Sans One', system-ui",style:"normal"},{family:"'Bungee Inline', cursive",style:"normal"},{family:"'Press Start 2P', cursive",style:"normal"},{family:"'Silkscreen', cursive",style:"normal"},{family:"'DotGothic16', sans-serif",style:"normal"},{family:"'Major Mono Display', monospace",style:"normal"},{family:"'Kumar One', cursive",style:"normal"},{family:"'Bungee Shade', cursive",style:"normal"},{family:"'Permanent Marker', cursive",style:"normal"},{family:"'Shadows Into Light', cursive",style:"normal"},{family:"'Satisfy', cursive",style:"normal"},{family:"'Great Vibes', cursive",style:"normal"},{family:"'Sacramento', cursive",style:"normal"},{family:"'Montez', cursive",style:"normal"},{family:"'Ceviche One', cursive",style:"normal"},{family:"'Bungee Outline', cursive",style:"normal"},{family:"'Creepster', cursive",style:"normal"},{family:"'Nosifer', cursive",style:"normal"},{family:"'Ewert', cursive",style:"normal"},{family:"'Special Elite', cursive",style:"normal"},{family:"'Fredericka the Great', cursive",style:"normal"},{family:"'Cabin Sketch', cursive",style:"normal"},{family:"'Homemade Apple', cursive",style:"normal"},{family:"'Reenie Beanie', cursive",style:"normal"},{family:"'League Script', cursive",style:"normal"},{family:"'Megrim', cursive",style:"normal"},{family:"'Faster One', cursive",style:"normal"}];function o$(){const i=ce.useRef(null);return ce.useEffect(()=>{const e=i.current;if(!e)return;e.style.setProperty("font-family",xg[0].family,"important"),e.style.setProperty("font-style",xg[0].style,"important");let t=0;const n=setInterval(()=>{t=(t+1)%xg.length,e.style.setProperty("font-family",xg[t].family,"important"),e.style.setProperty("font-style",xg[t].style,"important")},120);return()=>clearInterval(n)},[]),N.jsx("div",{className:`${xn.hero}`,children:N.jsx("div",{className:xn.heroContent,"data-hero-content":!0,children:N.jsxs("h1",{className:xn.heroTitle,children:[N.jsx("span",{className:`${xn.heroLine} ${xn.heroWhy}`,children:"WHY"}),N.jsx("span",{className:`${xn.heroLine} ${xn.heroLaunchpad}`,children:N.jsx("span",{ref:i,id:"lp-word",className:xn.lpWord,children:"LAUNCHPAD"})}),N.jsx("span",{className:`${xn.heroLine} ${xn.heroDiff}`,children:"IS DIFFERENT?"})]})})})}function a$(){return N.jsx("div",{className:`${xn.old}`,children:N.jsx("div",{className:xn.oldContent,children:N.jsxs("div",{className:xn.choose,children:[N.jsxs("div",{children:[N.jsx("h2",{children:"THE OLD WAY"}),N.jsx("p",{className:xn.oldWarning,children:"WARNING: OBSOLETE"}),N.jsxs("ul",{className:xn.oldList,children:[N.jsx("li",{children:" Theory-based exams"}),N.jsx("li",{children:" Just motivational talks"}),N.jsx("li",{children:" Generic placement training"})]})]}),N.jsxs("div",{className:xn.features,children:[N.jsxs("div",{className:xn.feature,children:[N.jsx(y4,{className:xn.icon}),N.jsxs("div",{children:[N.jsx("h4",{className:xn.oldTitle,children:"No Real Stakes"}),N.jsx("p",{className:xn.oldText,children:"Zero pressure. Zero growth."})]})]}),N.jsxs("div",{className:xn.feature,children:[N.jsx(V5,{className:xn.icon}),N.jsxs("div",{children:[N.jsx("h4",{className:xn.oldTitle,children:"Passive Learning"}),N.jsx("p",{className:xn.oldText,children:"Memorize  write  forget."})]})]})]})]})})})}function l$(){return N.jsx("div",{className:`${xn.system}`,children:N.jsx("div",{className:xn.systemContent,children:N.jsx("div",{className:xn.stats,children:N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"32px"},children:[N.jsx("h2",{className:xn.newSystemTitle,children:"THE NEW SYSTEM"}),N.jsx("p",{className:xn.newSystemDesc,children:"Built like a startup. Run like a product company."}),N.jsxs("div",{className:xn.cardGrid,children:[N.jsxs("div",{className:xn.card,children:[N.jsx("h3",{children:"BUILD"}),N.jsx("p",{style:{marginTop:"12px",color:"#CBD5E1"},children:"Design, build, and ship real products."}),N.jsxs("p",{style:{marginTop:"8px",color:"#94A3B8",fontSize:"15px",lineHeight:1.6},children:[" Production code",N.jsx("br",{})," Real users",N.jsx("br",{})," Live feedback"]})]}),N.jsxs("div",{className:xn.card,children:[N.jsx("h3",{children:"PRESSURE"}),N.jsx("p",{style:{marginTop:"12px",color:"#CBD5E1"},children:"Operate under real startup conditions."}),N.jsxs("p",{style:{marginTop:"8px",color:"#94A3B8",fontSize:"15px",lineHeight:1.6},children:[" Daily reviews",N.jsx("br",{})," Deadlines",N.jsx("br",{})," Ownership mindset"]})]}),N.jsxs("div",{className:xn.card,children:[N.jsx("h3",{children:"PROOF"}),N.jsx("p",{style:{marginTop:"12px",color:"#CBD5E1"},children:"Show outcomes, not certificates."}),N.jsxs("p",{style:{marginTop:"8px",color:"#94A3B8",fontSize:"15px",lineHeight:1.6},children:[" Portfolio",N.jsx("br",{})," Metrics",N.jsx("br",{})," Investor-ready demos"]})]})]})]})})})})}function u$(){return N.jsx("div",{className:`${xn.outcome}`,children:N.jsx("div",{className:xn.outcomeContent,children:N.jsxs("div",{className:xn.cta,children:[N.jsxs("h2",{children:["REAL PRESSURE.",N.jsx("br",{}),"REAL OUTCOMES."]}),N.jsxs("p",{style:{marginTop:"32px",fontSize:"22px",lineHeight:1.6},children:["Students enter as learners.",N.jsx("br",{}),N.jsx("strong",{children:"They leave as Leaders & Founders."})]}),N.jsxs("p",{style:{marginTop:"24px",fontSize:"18px",opacity:.75},children:["Launchpad is not preparation for the real world.",N.jsx("br",{}),N.jsx("strong",{children:"It is the real world."})]}),N.jsx("button",{className:xn.ctaButton,onClick:()=>document.getElementById("application")?.scrollIntoView({behavior:"smooth"}),children:"Apply to Launchpad "})]})})})}function c$(){return N.jsx("div",{id:"why-different",children:N.jsx(s$,{panels:[o$,a$,l$,u$]})})}function f$({timelineData:i}){const[e,t]=ce.useState({}),[n,r]=ce.useState(0),[s,o]=ce.useState(!0),[a,c]=ce.useState({}),[f,p]=ce.useState(null),[m,g]=ce.useState(!1),[y,x]=ce.useState(!1),M=ce.useRef(null),b=ce.useRef(null),_=ce.useRef({}),E=ce.useRef(null),C=ce.useRef(null);ce.useEffect(()=>{const Z=()=>g(window.innerWidth<1024);return Z(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]);const P=ce.useMemo(()=>m?140:200,[m]),D=Z=>{Z.target===M.current&&(t({}),p(null),c({}),o(!0),x(!1))},F=ce.useCallback((Z,te=!1)=>{te&&x(!0),t(q=>{const z={...q};if(Object.keys(z).forEach(J=>{parseInt(J)!==Z&&(z[parseInt(J)]=!1)}),z[Z]=!q[Z],q[Z])p(null),te&&o(!0),c({});else{p(Z),te&&(o(!1),I(Z));const J=O(Z),V={};J.forEach(X=>{V[X]=!0}),c(V)}return z})},[]),O=ce.useCallback(Z=>{const te=i.find(q=>q.id===Z);return te?te.relatedIds:[]},[i]),U=ce.useCallback(()=>{for(let q=0;q<i.length;q++){const z=(q/i.length*360+n)%360;let J=Math.abs(z-0);if(J>180&&(J=360-J),J<30)return i[q].id}return null},[n,i]);ce.useEffect(()=>{if(!s||y)return;const Z=U();if(Z!==null&&Z!==C.current){C.current=Z,t({[Z]:!0}),p(Z);const te=O(Z),q={};te.forEach(z=>{q[z]=!0}),c(q)}},[n,s,y,U,O]),ce.useEffect(()=>{let Z=performance.now();const te=q=>{if(s){const z=q-Z;Z=q,r(J=>{const oe=(J+(f&&!y?.06:m?.12:.15)*z/16.67)%360;return Number(oe.toFixed(2))})}E.current=requestAnimationFrame(te)};return E.current=requestAnimationFrame(te),()=>{E.current&&cancelAnimationFrame(E.current)}},[s,m,f,y]);const I=Z=>{const te=i.findIndex(J=>J.id===Z),q=i.length,z=te/q*360;r(360-z)},k=ce.useCallback((Z,te)=>{const q=(Z/te*360+n)%360,z=q*Math.PI/180,J=P*Math.cos(z),V=P*Math.sin(z),X=Math.round(20+20*Math.cos(z)),oe=Math.max(.4,Math.min(1,.5+.5*((1+Math.cos(z))/2))),ye=Math.max(.7,Math.min(1.1,.8+.3*((1+Math.cos(z))/2)));return{x:J,y:V,angle:q,zIndex:X,opacity:oe,scale:ye}},[n,P]),j=Z=>f?O(f).includes(Z):!1,W=ce.useMemo(()=>i.find(Z=>Z.id===f)||null,[f,i]),$=Z=>{switch(Z){case"completed":return{bg:"linear-gradient(135deg, #B1122C 0%, #FF3A4A 100%)",text:"#FF5E63",label:"ENTREPRENEUR"};case"in-progress":return{bg:"linear-gradient(135deg, #00A9FF 0%, #4AD4FF 100%)",text:"#4AD4FF",label:"CAREER"};default:return{bg:"rgba(255, 255, 255, 0.15)",text:"#94A3B8",label:"UPCOMING"}}},se=ce.useMemo(()=>Array.from({length:50},(Z,te)=>({id:te,x:Math.random()*100,y:Math.random()*100,size:Math.random()*1.5+.5,opacity:Math.random()*.4+.1,delay:Math.random()*4})),[]);return N.jsxs("div",{className:"w-full relative overflow-hidden flex",style:{backgroundColor:"transparent",minHeight:"600px"},ref:M,onClick:D,children:[N.jsx("div",{className:"absolute inset-0 pointer-events-none",children:se.map(Z=>N.jsx(on.div,{className:"absolute rounded-full bg-white",style:{left:`${Z.x}%`,top:`${Z.y}%`,width:Z.size,height:Z.size},animate:{opacity:[Z.opacity,Z.opacity*.2,Z.opacity]},transition:{duration:3+Z.delay,repeat:1/0,ease:"easeInOut"}},Z.id))}),N.jsx("div",{className:"absolute pointer-events-none",style:{width:"600px",height:"600px",left:m?"-100px":"5%",top:"50%",transform:"translateY(-50%)",background:"radial-gradient(circle, rgba(0, 169, 255, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}}),N.jsxs("div",{className:"flex w-full",children:[N.jsx("div",{className:"relative flex items-start justify-center pt-8 md:pt-16",style:{width:m?"100%":"50%",minHeight:"600px"},children:N.jsxs("div",{className:"relative",ref:b,style:{width:`${P*2+120}px`,height:`${P*2+120}px`},children:[N.jsx(on.div,{className:"absolute rounded-full flex items-center justify-center overflow-hidden cursor-pointer",style:{left:"50%",top:"50%",marginLeft:m?"-40px":"-55px",marginTop:m?"-40px":"-55px",width:m?"80px":"110px",height:m?"80px":"110px",background:"rgba(10, 15, 28, 0.9)",border:W?"none":"2px solid rgba(74, 212, 255, 0.4)",zIndex:10},animate:{boxShadow:W?[`0 0 20px ${$(W.status).text}40, 0 0 40px ${$(W.status).text}20`,`0 0 35px ${$(W.status).text}60, 0 0 70px ${$(W.status).text}30`,`0 0 20px ${$(W.status).text}40, 0 0 40px ${$(W.status).text}20`]:["0 0 30px rgba(0, 169, 255, 0.4), 0 0 60px rgba(0, 169, 255, 0.2)","0 0 50px rgba(0, 169, 255, 0.6), 0 0 100px rgba(0, 169, 255, 0.3)","0 0 30px rgba(0, 169, 255, 0.4), 0 0 60px rgba(0, 169, 255, 0.2)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},whileTap:{scale:.98},onClick:Z=>{Z.stopPropagation(),t({}),p(null),c({}),o(!0),x(!1)},children:N.jsx("img",{src:"/src/components/figma/4_cropped_processed_by_imagy.png",alt:"Launchpad Logo",className:"object-cover rounded-full",style:{width:"100%",height:"100%",filter:"drop-shadow(0 0 15px rgba(74, 212, 255, 0.5))"}})}),N.jsx("div",{className:"absolute rounded-full border border-cyan-500/20",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:`${P*2}px`,height:`${P*2}px`,boxShadow:"0 0 20px rgba(0, 169, 255, 0.1)"}}),f&&(()=>{const Z=i.findIndex(z=>z.id===f),te=k(Z,i.length),q=$(i[Z]?.status||"pending");return N.jsx(on.div,{className:"absolute pointer-events-none",style:{left:`calc(50% + ${te.x}px)`,top:`calc(50% + ${te.y}px)`,width:m?"300px":"500px",height:"80px",transform:"translate(-20px, -50%)",background:`linear-gradient(90deg, ${q.text}50 0%, ${q.text}20 30%, transparent 70%)`,filter:"blur(20px)",zIndex:4},initial:{opacity:0,scaleX:0},animate:{opacity:.6,scaleX:1},exit:{opacity:0},transition:{duration:.5}})})(),f&&N.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",zIndex:5},children:[(()=>{const Z=i.findIndex(ye=>ye.id===f),te=i.length,q=k(Z,te),z=P+60,J=P+60,V=Z===0?te-1:Z-1,X=Z===te-1?0:Z+1;return[V,X].map(ye=>{const Pe=k(ye,te);return N.jsx(on.line,{x1:z+q.x,y1:J+q.y,x2:z+Pe.x,y2:J+Pe.y,stroke:"url(#gradient-line)",strokeWidth:"2",strokeDasharray:"5,5",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:.6}},`line-${Z}-${ye}`)})})(),N.jsx("defs",{children:N.jsxs("linearGradient",{id:"gradient-line",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[N.jsx("stop",{offset:"0%",stopColor:"#00A9FF",stopOpacity:"0.7"}),N.jsx("stop",{offset:"100%",stopColor:"#4AD4FF",stopOpacity:"0.3"})]})})]}),i.map((Z,te)=>{const q=k(te,i.length),z=e[Z.id];j(Z.id);const J=Z.icon,V=$(Z.status);return N.jsxs(on.div,{ref:X=>{X&&(_.current[Z.id]=X)},className:"absolute cursor-pointer",style:{left:"50%",top:"50%",zIndex:z?45:q.zIndex},animate:{x:q.x,y:q.y,scale:z?1.2:q.scale,opacity:z?1:q.opacity},transition:{type:"spring",stiffness:100,damping:20},onClick:X=>{X.stopPropagation(),F(Z.id,!0)},children:[z&&N.jsx("div",{className:"absolute rounded-full pointer-events-none",style:{width:`${Z.energy*.6+40}px`,height:`${Z.energy*.6+40}px`,left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:`radial-gradient(circle, ${V.text}30 0%, transparent 70%)`,opacity:.6}}),N.jsx(on.div,{className:"rounded-full flex items-center justify-center border-2 -translate-x-1/2 -translate-y-1/2",style:{width:m?"36px":"44px",height:m?"36px":"44px",background:z?V.bg:"rgba(10, 15, 28, 0.85)",borderColor:z?"#FFFFFF":V.text,boxShadow:z?`0 0 25px ${V.text}50, inset 0 0 15px ${V.text}20`:`0 0 12px ${V.text}50`},whileHover:{scale:1.15},whileTap:{scale:.95},children:N.jsx(J,{size:m?14:18,style:{color:z?"#FFFFFF":V.text}})}),N.jsx("div",{className:"absolute whitespace-nowrap font-medium text-center -translate-x-1/2",style:{top:m?"24px":"30px",left:"0",fontSize:m?"9px":"11px",color:z?V.text:"#8BA3C7"},children:Z.title})]},Z.id)})]})}),f&&!m&&N.jsx(on.div,{className:"absolute pointer-events-none",style:{left:"45%",top:"50%",transform:"translateY(-50%)",width:"200px",height:"300px",background:`radial-gradient(ellipse at center, ${$(W?.status||"pending").text}15 0%, transparent 70%)`,filter:"blur(40px)",zIndex:1},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}}),N.jsxs("div",{className:"relative flex items-start justify-start px-4 lg:px-8 pt-8 md:pt-24",style:{width:m?"100%":"50%",minHeight:"600px"},children:[W&&N.jsxs(N.Fragment,{children:[N.jsx(on.div,{className:"absolute pointer-events-none flex items-center justify-center",style:{right:m?"20px":"40px",top:"50%",opacity:.12,zIndex:0},initial:{scale:.8,opacity:0,y:"-50%"},animate:{scale:1,opacity:.12,y:["-50%","-55%","-50%"],rotate:[0,5,0]},transition:{y:{duration:6,repeat:1/0,ease:"easeInOut"},rotate:{duration:7,repeat:1/0,ease:"easeInOut"},scale:{duration:.5},opacity:{duration:.5}},children:N.jsx(W.icon,{size:m?120:160,style:{color:$(W.status).text}})},"watermark-icon"),N.jsx(on.div,{className:"absolute pointer-events-none rounded-full",style:{left:m?"-100px":"-150px",top:"50%",transform:"translateY(-50%)",width:m?"200px":"280px",height:m?"200px":"280px",border:`2px solid ${$(W.status).text}`,opacity:.15,zIndex:0},animate:{scale:[1,1.05,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),N.jsx(on.div,{className:"absolute pointer-events-none rounded-full",style:{left:m?"-60px":"-100px",top:"50%",transform:"translateY(-50%)",width:m?"140px":"200px",height:m?"140px":"200px",border:`1px solid ${$(W.status).text}`,opacity:.2,zIndex:0},animate:{scale:[1,1.1,1],opacity:[.15,.25,.15]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:.5}})]}),N.jsx(MM,{mode:"wait",children:W?N.jsxs(on.div,{className:"relative w-full max-w-md z-10",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.3},children:[N.jsx(on.div,{className:"absolute pointer-events-none",style:{left:"-80px",top:"50%",transform:"translateY(-50%)",width:"200px",height:"300px",background:`radial-gradient(ellipse at center, ${$(W.status).text}30 0%, transparent 70%)`,filter:"blur(40px)",zIndex:-1},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}}),N.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10 pl-2",children:[N.jsx(on.div,{className:"rounded-2xl flex items-center justify-center",style:{width:m?"48px":"56px",height:m?"48px":"56px",background:`linear-gradient(135deg, ${$(W.status).text}20, transparent)`,border:`1px solid ${$(W.status).text}40`,boxShadow:`0 0 30px ${$(W.status).text}30`},animate:{boxShadow:[`0 0 20px ${$(W.status).text}20`,`0 0 40px ${$(W.status).text}40`,`0 0 20px ${$(W.status).text}20`]},transition:{duration:3,repeat:1/0},children:N.jsx(W.icon,{size:m?24:28,style:{color:$(W.status).text}})}),N.jsxs("div",{children:[N.jsx("div",{className:"flex items-center gap-2 mb-1",children:N.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase py-0.5 px-2 rounded-md",style:{background:`${$(W.status).text}15`,color:$(W.status).text,border:`1px solid ${$(W.status).text}30`},children:$(W.status).label})}),N.jsx("h3",{className:"font-bold text-white leading-tight",style:{fontSize:m?"20px":"28px"},children:W.title})]})]}),N.jsx(on.div,{className:"rounded-3xl overflow-hidden relative z-10 backdrop-blur-xl",style:{background:"rgba(8, 12, 22, 0.6)",borderTop:`1px solid ${$(W.status).text}40`,borderLeft:`1px solid ${$(W.status).text}20`,borderBottom:`1px solid ${$(W.status).text}10`,borderRight:`1px solid ${$(W.status).text}10`,boxShadow:`0 20px 80px -20px rgba(0,0,0,0.8), inset 0 0 60px ${$(W.status).text}05`},children:N.jsxs("div",{className:"relative p-6 lg:p-8",children:[N.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px]",style:{background:`linear-gradient(90deg, transparent, ${$(W.status).text}80, transparent)`}}),N.jsx("div",{className:"mb-6 space-y-3",children:(Array.isArray(W.content)?W.content:[W.content]).map((Z,te)=>N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsx("div",{className:"mt-1 shrink-0 w-5 h-5 rounded-full flex items-center justify-center",style:{background:`${$(W.status).text}15`},children:N.jsx(Y5,{size:12,style:{color:$(W.status).text}})}),N.jsx("p",{className:"leading-relaxed font-light text-[14px]",style:{color:"#CBD5E1"},children:Z})]},te))}),N.jsxs("div",{className:"mb-8 p-4 rounded-xl",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:[N.jsxs("div",{className:"flex justify-between items-end mb-3",children:[N.jsxs("div",{children:[N.jsx("span",{className:"block text-[10px] font-bold tracking-wider text-slate-400 uppercase mb-1",children:"Mastery Potential"}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(GP,{size:14,style:{color:$(W.status).text}}),N.jsx("span",{className:"text-sm font-bold text-white",children:"Impact Level"})]})]}),N.jsxs("span",{className:"text-xl font-bold font-mono",style:{color:$(W.status).text},children:[W.energy,"%"]})]}),N.jsxs("div",{className:"h-2 rounded-full overflow-hidden relative",style:{background:"rgba(0,0,0,0.4)"},children:[N.jsx(on.div,{className:"h-full rounded-full absolute top-0 left-0",style:{background:`linear-gradient(90deg, ${$(W.status).text}40, ${$(W.status).text})`,boxShadow:`0 0 20px ${$(W.status).text}`},initial:{width:0},animate:{width:`${W.energy}%`},transition:{duration:1.2,ease:"easeOut"}}),N.jsx(on.div,{className:"absolute top-0 bottom-0 w-[20px] z-10",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent)"},animate:{left:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear",delay:1}})]})]}),W.relatedIds.length>0&&N.jsxs("div",{children:[N.jsx("div",{className:"flex items-center gap-2 mb-3",children:N.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold text-slate-400",children:"Suggested Connections"})}),N.jsx("div",{className:"flex flex-nowrap overflow-x-auto pb-2 gap-2 scrollbar-none",children:W.relatedIds.map(Z=>{const te=i.find(q=>q.id===Z);return te?N.jsxs(on.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"group flex items-center gap-2 px-3 py-2 text-xs rounded-lg transition-all",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"#CBD5E1"},onClick:q=>{q.stopPropagation(),F(Z,!0)},children:[N.jsx(a4,{size:10,className:"text-slate-500 group-hover:text-slate-400 transition-colors"}),N.jsx("span",{className:"group-hover:text-white transition-colors",children:te.title}),N.jsx(BP,{size:10,style:{color:$(W.status).text,opacity:.7}})]},Z):null})})]})]})})]},W.id):N.jsxs(on.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",style:{color:"#64748B"},children:[N.jsx("p",{className:"text-lg mb-2",children:"Select a track to explore"}),N.jsx("p",{className:"text-sm",children:"Click any node on the orbital"})]})})]})]})]})}function d$(){const i=[{id:1,title:"Startup Foundations",date:"Entrepreneur Track",content:["Master lean startup frameworks from ideation to MVP.","Validate business models & navigate early-stage challenges.","Build a solid foundation for a scalable venture."],category:"Entrepreneur",icon:zP,relatedIds:[2,6],status:"completed",energy:95},{id:2,title:"Tech & Development",date:"Career Track",content:["Build production-grade apps with modern full-stack tech.","Master cloud infrastructure, DevOps, and scalable architecture.","Deploy robust, high-performance software solutions."],category:"Career",icon:Z5,relatedIds:[1,3],status:"in-progress",energy:90},{id:3,title:"Growth & Marketing",date:"Entrepreneur Track",content:["Unlock explosive growth with data-driven strategies.","Master content marketing, SEO, and paid channels.","Optimize funnels for maximum conversion."],category:"Entrepreneur",icon:w4,relatedIds:[2,4],status:"completed",energy:85},{id:4,title:"Creative & Design",date:"Career Track",content:["Craft brand identities that resonate deeply.","Master UI/UX principles for intuitive interfaces.","Tell compelling visual stories that elevate your product."],category:"Career",icon:p4,relatedIds:[3,5],status:"in-progress",energy:80},{id:5,title:"Business Operations",date:"Entrepreneur Track",content:["Build operational backbone with financial modeling.","Master legal frameworks and team management.","Ensure efficient scaling without friction."],category:"Entrepreneur",icon:j5,relatedIds:[4,6],status:"completed",energy:75},{id:6,title:"Leadership & Management",date:"Career Track",content:["Cultivate executive presence and strategic decision-making.","Navigate organizational dynamics to inspire shared vision.","Develop emotional intelligence for high-performance teams."],category:"Career",icon:s4,relatedIds:[5,1],status:"in-progress",energy:70}];return N.jsxs("section",{id:"curriculum",className:"relative z-20 overflow-hidden bg-[#020617] py-10",children:[N.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-blue-500/10 blur-[120px] rounded-full pointer-events-none"}),N.jsx("div",{className:"relative z-10 container mx-auto px-4 mb-4",children:N.jsxs(on.div,{className:"text-center max-w-4xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:[N.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 mb-6 backdrop-blur-sm shadow-[0_0_15px_rgba(59,130,246,0.2)]",children:[N.jsxs("span",{className:"relative flex h-2 w-2",children:[N.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),N.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),N.jsx("span",{className:"text-xs font-semibold tracking-widest text-blue-400 uppercase",children:"Interactive Curriculum"})]}),N.jsxs("h2",{className:"text-5xl md:text-7xl text-white mb-6 tracking-tight",style:{fontFamily:"'Poppins', sans-serif",fontWeight:900},children:["What Students ",N.jsx("br",{}),N.jsx("span",{className:"block mt-2 lp-text-gradient pb-2 drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",style:{fontFamily:"'Poppins', sans-serif",fontWeight:900},children:"Actually Learn"})]}),N.jsxs("p",{className:"text-slate-400 max-w-3xl mx-auto text-lg md:text-xl leading-relaxed font-light",children:["We don't just teach theory. We build ",N.jsx("span",{className:"text-white font-medium border-b border-blue-500/30 pb-0.5",children:"market-ready capabilities"})," by combining an entrepreneurial mindset with high-demand technical skills."]})]})}),N.jsx(on.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.8,delay:.2},className:"flex-grow flex items-center",children:N.jsx(f$,{timelineData:i})})]})}const h$="_gamificationSection_1eirx_1",p$="_gamiContainer_1eirx_15",m$="_gamiHeader_1eirx_25",g$="_gamiGrid_1eirx_69",v$="_gamiCard_1eirx_81",y$="_gamiIcon_1eirx_113",x$="_gold_1eirx_157",_$="_red_1eirx_167",S$="_blue_1eirx_177",w$="_purple_1eirx_187",M$="_gamiFooter_1eirx_197",Wr={gamificationSection:h$,gamiContainer:p$,gamiHeader:m$,gamiGrid:g$,gamiCard:v$,gamiIcon:y$,gold:x$,red:_$,blue:S$,purple:w$,gamiFooter:M$};function b$(){return N.jsx("section",{className:Wr.gamificationSection,id:"gamification",children:N.jsxs("div",{className:Wr.gamiContainer,children:[N.jsxs("div",{className:Wr.gamiHeader,children:[N.jsx("h2",{children:"Gamification & Competition"}),N.jsx("p",{children:"Because growth should feel rewarding"})]}),N.jsxs("div",{className:Wr.gamiGrid,children:[N.jsxs("div",{className:`${Wr.gamiCard} ${Wr.gold}`,children:[N.jsx("div",{className:Wr.gamiIcon,children:""}),N.jsx("h4",{children:"Leaderboards"}),N.jsx("p",{children:"See where you rank among peers in real-time"})]}),N.jsxs("div",{className:`${Wr.gamiCard} ${Wr.red}`,children:[N.jsx("div",{className:Wr.gamiIcon,children:""}),N.jsx("h4",{children:"Games & Challenges"}),N.jsx("p",{children:"Level up through engaging weekly challenges"})]}),N.jsxs("div",{className:`${Wr.gamiCard} ${Wr.blue}`,children:[N.jsx("div",{className:Wr.gamiIcon,children:""}),N.jsx("h4",{children:"Performance Tracking"}),N.jsx("p",{children:"Data-driven insights on your progress"})]}),N.jsxs("div",{className:`${Wr.gamiCard} ${Wr.purple}`,children:[N.jsx("div",{className:Wr.gamiIcon,children:""}),N.jsx("h4",{children:"Rewards & Recognition"}),N.jsx("p",{children:"Earn badges and unlock achievements"})]})]}),N.jsxs("div",{className:Wr.gamiFooter,children:[N.jsxs("p",{children:["Launchpad is a ",N.jsx("strong",{children:"real startup environment"}),"."]}),N.jsxs("p",{children:["Performance is ",N.jsx("strong",{children:"visible, tracked, and rewarded"}),"."]})]})]})})}const T$="_section_mhxsu_1",E$="_header_mhxsu_15",A$="_timeline_mhxsu_63",C$="_card_mhxsu_77",P$="_cardContent_mhxsu_151",R$="_hoverContent_mhxsu_173",I$="_phase_mhxsu_211",L$="_badge_mhxsu_225",N$="_foundation_mhxsu_243",D$="_execution_mhxsu_253",k$="_leadership_mhxsu_285",F$="_cardBorder_mhxsu_465",O$="_active_mhxsu_511",U$="_outcome_mhxsu_609",B$="_outcomeLine_mhxsu_625",z$="_outcomeHighlight_mhxsu_637",V$="_outcomeSub_mhxsu_663",jn={section:T$,header:E$,timeline:A$,card:C$,cardContent:P$,hoverContent:R$,phase:I$,badge:L$,foundation:N$,execution:D$,leadership:k$,cardBorder:F$,active:O$,outcome:U$,outcomeLine:B$,outcomeHighlight:z$,outcomeSub:V$},Jw=({children:i,color:e="#5227FF",speed:t=1,chaos:n=.12,borderRadius:r=24,className:s,style:o,active:a=!0,gradientColors:c,...f})=>{const p=ce.useRef(null),m=ce.useRef(null),g=ce.useRef(null),y=ce.useRef(0),x=ce.useRef(0),M=ce.useCallback(O=>Math.sin(O*12.9898)*43758.5453%1,[]),b=ce.useCallback((O,U)=>{const I=Math.floor(O),k=Math.floor(U),j=O-I,W=U-k,$=M(I+k*57),se=M(I+1+k*57),Z=M(I+(k+1)*57),te=M(I+1+(k+1)*57),q=j*j*(3-2*j),z=W*W*(3-2*W);return $*(1-q)*(1-z)+se*q*(1-z)+Z*(1-q)*z+te*q*z},[M]),_=ce.useCallback((O,U,I,k,j,W,$,se,Z)=>{let te=0,q=j,z=W;for(let J=0;J<U;J++){let V=q;J===0&&(V*=Z),te+=V*b(z*O+se*100,$*z*.3),z*=I,q*=k}return te},[b]),E=ce.useCallback((O,U,I,k,j,W)=>{const $=k+W*j;return{x:O+I*Math.cos($),y:U+I*Math.sin($)}},[]),C=ce.useCallback((O,U,I,k,j,W)=>{const $=k-2*W,se=j-2*W,Z=Math.PI*W/2,te=2*$+2*se+4*Z,q=O*te;let z=0;if(q<=z+$){const V=(q-z)/$;return{x:U+W+V*$,y:I}}if(z+=$,q<=z+Z){const V=(q-z)/Z;return E(U+k-W,I+W,W,-Math.PI/2,Math.PI/2,V)}if(z+=Z,q<=z+se){const V=(q-z)/se;return{x:U+k,y:I+W+V*se}}if(z+=se,q<=z+Z){const V=(q-z)/Z;return E(U+k-W,I+j-W,W,0,Math.PI/2,V)}if(z+=Z,q<=z+$){const V=(q-z)/$;return{x:U+k-W-V*$,y:I+j}}if(z+=$,q<=z+Z){const V=(q-z)/Z;return E(U+W,I+j-W,W,Math.PI/2,Math.PI/2,V)}if(z+=Z,q<=z+se){const V=(q-z)/se;return{x:U,y:I+j-W-V*se}}z+=se;const J=(q-z)/Z;return E(U+W,I+W,W,Math.PI,Math.PI/2,J)},[E]),[P,D]=ce.useState(a);ce.useEffect(()=>{if(a)D(!0);else{const O=setTimeout(()=>{D(!1)},300);return()=>clearTimeout(O)}},[a]),ce.useEffect(()=>{if(!P){g.current&&(cancelAnimationFrame(g.current),g.current=null);return}const O=p.current,U=m.current;if(!O||!U)return;const I=O.getContext("2d");if(!I)return;const k=4,j=1.6,W=.7,$=n,se=10,Z=0,te=45,q=60,z=()=>{const ye=U.getBoundingClientRect(),Pe=ye.width+q*2,Ue=ye.height+q*2,de=Math.min(window.devicePixelRatio||1,2);if(O.width=Pe*de,O.height=Ue*de,O.style.width=`${Pe}px`,O.style.height=`${Ue}px`,I.scale(de,de),c&&c.length>0){const me=I.createLinearGradient(0,0,Pe,Ue);c.forEach((De,Be)=>{me.addColorStop(Be/(c.length-1),De)}),I.strokeStyle=me}else I.strokeStyle=e;return{width:Pe,height:Ue}};let{width:J,height:V}=z();const X=ye=>{if(!O||!I)return;const Pe=(ye-x.current)/1e3;y.current+=Pe*t,x.current=ye;const Ue=Math.min(window.devicePixelRatio||1,2);if(I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,O.width,O.height),I.scale(Ue,Ue),c&&c.length>0){const ke=I.createLinearGradient(0,0,J,V);c.forEach((Le,ae)=>{ke.addColorStop(ae/(c.length-1),Le)}),I.strokeStyle=ke}else I.strokeStyle=e;I.lineWidth=1,I.lineCap="round",I.lineJoin="round";const de=te,me=q,De=q,Be=J-2*q,We=V-2*q,yt=Math.min(Be,We)/2,Bt=Math.min(r,yt),qe=2*(Be+We)+2*Math.PI*Bt,Ce=Math.floor(qe/5);I.beginPath();for(let ke=0;ke<=Ce;ke++){const Le=ke/Ce,ae=C(Le,me,De,Be,We,Bt),Q=_(Le*8,k,j,W,$,se,y.current,0,Z),wt=_(Le*8,k,j,W,$,se,y.current,1,Z),Je=ae.x+Q*de,st=ae.y+wt*de;ke===0?I.moveTo(Je,st):I.lineTo(Je,st)}I.closePath(),I.stroke(),g.current=requestAnimationFrame(X)},oe=new ResizeObserver(()=>{const ye=z();J=ye.width,V=ye.height});return oe.observe(U),g.current=requestAnimationFrame(X),()=>{g.current&&cancelAnimationFrame(g.current),oe.disconnect()}},[e,t,n,r,_,C,P]);const F={"--electric-border-color":e,borderRadius:r};return N.jsxs("div",{ref:m,className:`electric-border ${s??""}`,style:{...F,...o},...f,children:[N.jsxs("div",{className:"eb-container",style:{opacity:a?1:0},children:[N.jsx("div",{className:"eb-canvas-container",children:N.jsx("canvas",{ref:p,className:"eb-canvas"})}),N.jsxs("div",{className:"eb-layers",children:[N.jsx("div",{className:"eb-glow-1"}),N.jsx("div",{className:"eb-glow-2"}),N.jsx("div",{className:"eb-background-glow"})]})]}),N.jsx("div",{className:"eb-content",children:i})]})};function H$(){const[i,e]=ce.useState(0),[t,n]=ce.useState(!1);ce.useEffect(()=>{let o;return t||(o=setInterval(()=>{e(a=>(a+1)%3)},2e3)),()=>clearInterval(o)},[t]);const r=o=>{n(!0),e(o)},s=()=>{n(!1)};return N.jsxs("section",{className:jn.section,id:"journey",children:[N.jsxs("div",{className:jn.header,children:[N.jsx("h1",{children:"The 90-Day Transformation"}),N.jsx("p",{children:"Three phases. One complete transformation."})]}),N.jsxs("div",{className:jn.timeline,children:[N.jsxs(Jw,{color:"#00A9FF",borderRadius:22,className:`${jn.card} ${jn.foundation} ${i===0?jn.active:""}`,onMouseEnter:()=>r(0),onMouseLeave:s,active:i===0,children:[N.jsxs("div",{className:jn.cardContent,children:[N.jsxs("div",{className:jn.phase,children:[N.jsx("div",{className:jn.badge,children:"01"}),N.jsx("strong",{children:"Foundation"})]}),N.jsx("h3",{children:"Build the Core"}),N.jsxs("ul",{children:[N.jsx("li",{children:"Strong core skills"}),N.jsx("li",{children:"AI tool mastery"}),N.jsx("li",{children:"Professional mindset"}),N.jsx("li",{children:"Department basics"})]})]}),N.jsxs("div",{className:jn.hoverContent,children:[N.jsx("p",{children:"Day 130: Skill & mindset reset"}),N.jsx("span",{children:"Focus on fundamentals, clarity, and professional habits."})]}),N.jsx("div",{className:jn.cardBorder})]}),N.jsxs(Jw,{color:"#B1122C",gradientColors:["#B1122C","#FF3A4A","#00A9FF"],borderRadius:22,className:`${jn.card} ${jn.execution} ${i===1?jn.active:""}`,onMouseEnter:()=>r(1),onMouseLeave:s,active:i===1,children:[N.jsxs("div",{className:jn.cardContent,children:[N.jsxs("div",{className:jn.phase,children:[N.jsx("div",{className:jn.badge,children:"02"}),N.jsx("strong",{children:"Execution"})]}),N.jsx("h3",{children:"Do Real Work"}),N.jsxs("ul",{children:[N.jsx("li",{children:"Work on real projects"}),N.jsx("li",{children:"Handle real responsibility"}),N.jsx("li",{children:"Collaborate in teams"}),N.jsx("li",{children:"Deliver real outcomes"})]})]}),N.jsxs("div",{className:jn.hoverContent,children:[N.jsx("p",{children:"Day 3160: Real pressure zone"}),N.jsx("span",{children:"Execution under constraints. Real teams. Real output."})]}),N.jsx("div",{className:jn.cardBorder})]}),N.jsxs(Jw,{color:"#FF3A4A",borderRadius:22,className:`${jn.card} ${jn.leadership} ${i===2?jn.active:""}`,onMouseEnter:()=>r(2),onMouseLeave:s,active:i===2,children:[N.jsxs("div",{className:jn.cardContent,children:[N.jsxs("div",{className:jn.phase,children:[N.jsx("div",{className:jn.badge,children:"03"}),N.jsx("strong",{children:"Leadership"})]}),N.jsx("h3",{children:"Lead Systems"}),N.jsxs("ul",{children:[N.jsx("li",{children:"Build systems"}),N.jsx("li",{children:"Create SOPs"}),N.jsx("li",{children:"Pitch ideas"}),N.jsx("li",{children:"Lead operations"})]})]}),N.jsxs("div",{className:jn.hoverContent,children:[N.jsx("p",{children:"Day 6190: Ownership mode"}),N.jsx("span",{children:"Systems thinking, decisions, and leadership mindset."})]}),N.jsx("div",{className:jn.cardBorder})]})]}),N.jsxs("div",{className:jn.outcome,children:[N.jsx("p",{className:jn.outcomeLine,children:"By Day 90, students are no longer learners."}),N.jsxs("p",{className:jn.outcomeHighlight,children:["They are ",N.jsx("span",{children:"leaders in training"}),"."]}),N.jsx("p",{className:jn.outcomeSub,children:"No confusion. No half-learning. One clear outcome."})]})]})}const G$="_section_4ky3a_1",W$="_sectionAlt_4ky3a_15",j$="_header_4ky3a_23",X$="_grad_4ky3a_61",Y$="_outcomesTwoCol_4ky3a_75",q$="_colTitle_4ky3a_95",$$="_outcomeList_4ky3a_109",K$="_outcomeItem_4ky3a_119",Z$="_growthItem_4ky3a_121",J$="_oiIcon_4ky3a_301",Q$="_growthIcon_4ky3a_303",eK="_outcomesRight_4ky3a_325",tK="_growthMap_4ky3a_335",nK="_heads_4ky3a_345",iK="_leaders_4ky3a_347",rK="_founders_4ky3a_349",sK="_execs_4ky3a_351",oK="_pm_4ky3a_353",aK="_finalNote_4ky3a_363",Rn={section:G$,sectionAlt:W$,header:j$,grad:X$,outcomesTwoCol:Y$,colTitle:q$,outcomeList:$$,outcomeItem:K$,growthItem:Z$,oiIcon:J$,growthIcon:Q$,outcomesRight:eK,growthMap:tK,heads:nK,leaders:iK,founders:rK,execs:sK,pm:oK,finalNote:aK};function lK(){return N.jsxs("section",{className:`${Rn.section} ${Rn.sectionAlt}`,id:"outcomes",children:[N.jsxs("div",{className:Rn.header,children:[N.jsxs("h1",{children:["Real ",N.jsx("span",{className:Rn.grad,children:"Outcomes"})," for Students"]}),N.jsx("p",{children:"What do you get after this program?"})]}),N.jsxs("div",{className:Rn.outcomesTwoCol,children:[N.jsxs("div",{children:[N.jsx("h3",{className:Rn.colTitle,children:"What You Get After This Program"}),N.jsxs("div",{className:Rn.outcomeList,children:[N.jsxs("div",{className:Rn.outcomeItem,children:[N.jsx("span",{className:Rn.oiIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Elite Internships"}),N.jsx("p",{children:"Access to high-quality internships aligned with real startup needs."})]})]}),N.jsxs("div",{className:Rn.outcomeItem,children:[N.jsx("span",{className:Rn.oiIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Hands-on Project Experience"}),N.jsx("p",{children:"Work on real problems, not mock assignments or theory-only tasks."})]})]}),N.jsxs("div",{className:Rn.outcomeItem,children:[N.jsx("span",{className:Rn.oiIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Portfolio-Ready Work"}),N.jsx("p",{children:"Documented outcomes you can confidently show to employers or investors."})]})]}),N.jsxs("div",{className:Rn.outcomeItem,children:[N.jsx("span",{className:Rn.oiIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Leadership Badges & Recognition"}),N.jsx("p",{children:"Visible proof of responsibility, ownership, and execution capability."})]})]}),N.jsxs("div",{className:Rn.outcomeItem,children:[N.jsx("span",{className:Rn.oiIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Investor & Partner Exposure"}),N.jsx("p",{children:"Opportunities to pitch ideas directly to founders and early investors."})]})]})]})]}),N.jsxs("div",{className:Rn.outcomesRight,children:[N.jsx("h3",{className:Rn.colTitle,children:"Possible Growth Roles"}),N.jsxs("div",{className:Rn.growthMap,children:[N.jsxs("div",{className:`${Rn.growthItem} ${Rn.heads}`,children:[N.jsx("span",{className:Rn.growthIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Department Heads"}),N.jsx("p",{children:"Lead teams and execute strategies aligned with company goals."})]})]}),N.jsxs("div",{className:`${Rn.growthItem} ${Rn.leaders}`,children:[N.jsx("span",{className:Rn.growthIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Strategic Leaders"}),N.jsx("p",{children:"Drive long-term vision and high-impact decision making."})]})]}),N.jsxs("div",{className:`${Rn.growthItem} ${Rn.founders}`,children:[N.jsx("span",{className:Rn.growthIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Startup Founders"}),N.jsx("p",{children:"Build and scale your own ventures with full-stack competence."})]})]}),N.jsxs("div",{className:`${Rn.growthItem} ${Rn.execs}`,children:[N.jsx("span",{className:Rn.growthIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Early-stage Executives"}),N.jsx("p",{children:"Take ownership of core business functions."})]})]}),N.jsxs("div",{className:`${Rn.growthItem} ${Rn.pm}`,children:[N.jsx("span",{className:Rn.growthIcon,children:""}),N.jsxs("div",{children:[N.jsx("strong",{children:"Global Product Managers"}),N.jsx("p",{children:"Bridge engineering, design, and business to launch products."})]})]})]})]})]}),N.jsx("p",{className:Rn.finalNote,children:"Income grows with capability, not certificates."})]})}const uK="_section_p87px_1",cK="_header_p87px_19",fK="_grad_p87px_61",dK="_whyBg_p87px_75",hK="_whyContrast_p87px_89",pK="_whyBlock_p87px_111",mK="_negative_p87px_151",gK="_positive_p87px_187",vK="_whyDivider_p87px_205",yK="_whyStatement_p87px_229",xK="_lineMuted_p87px_245",_K="_lineBold_p87px_257",Ao={section:uK,header:cK,grad:fK,whyBg:dK,whyContrast:hK,whyBlock:pK,negative:mK,positive:gK,whyDivider:vK,whyStatement:yK,lineMuted:xK,lineBold:_K};function SK(){return N.jsxs("section",{className:Ao.section,id:"belief",children:[N.jsx("div",{className:Ao.whyBg}),N.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-0",children:N.jsx(zN,{speed:.4,intensity:2.5})}),N.jsxs("div",{className:Ao.header,children:[N.jsxs("h1",{children:["Why This ",N.jsx("span",{className:Ao.grad,children:"Matters"})," for Your Future"]}),N.jsx("p",{children:"This is the line that separates credentials from capability."})]}),N.jsxs("div",{className:Ao.whyContrast,children:[N.jsxs("div",{className:`${Ao.whyBlock} ${Ao.negative}`,children:[N.jsxs("h3",{children:[" The future does ",N.jsx("strong",{children:"NOT"})," belong to"]}),N.jsxs("ul",{children:[N.jsx("li",{children:" Degree holders"}),N.jsx("li",{children:" Certificate collectors"}),N.jsx("li",{children:" Job seekers"})]})]}),N.jsx("div",{className:Ao.whyDivider,children:N.jsx("span",{children:"VS"})}),N.jsxs("div",{className:`${Ao.whyBlock} ${Ao.positive}`,children:[N.jsxs("h3",{children:[" The future ",N.jsx("strong",{children:"BELONGS"})," to"]}),N.jsxs("ul",{children:[N.jsx("li",{children:" Builders"}),N.jsx("li",{children:" Decision makers"}),N.jsx("li",{children:" Leaders"}),N.jsx("li",{children:" Problem solvers"})]})]})]}),N.jsxs("div",{className:Ao.whyStatement,children:[N.jsxs("p",{className:Ao.lineMuted,children:[N.jsx("span",{children:"Bristletech"})," does not create followers."]}),N.jsxs("p",{className:Ao.lineBold,children:["We create ",N.jsx("span",{children:"AI leaders, Innovators, and Founders"})," "]})]})]})}function pu({children:i,className:e="",delay:t=.1,direction:n="up"}){const r={hidden:{opacity:0,y:n==="up"?50:n==="down"?-50:0,x:n==="left"?50:n==="right"?-50:0},visible:{opacity:1,y:0,x:0,transition:{duration:.6,delay:t,ease:[.22,1,.36,1]}}};return N.jsx(on.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-10%"},variants:r,className:e,children:i})}const wK=ce.lazy(()=>MP(()=>import("./HeroSection-DRrxHWF7.js"),[]));function MK(){return N.jsx(jk,{children:N.jsxs("div",{className:"min-h-screen lp-bg",style:{backgroundColor:"var(--lp-bg-solid)"},children:[N.jsx(_z,{}),N.jsx(ce.Suspense,{fallback:N.jsx("div",{className:"w-full h-screen lp-bg lp-dual-energy flex items-center justify-center",style:{backgroundColor:"var(--lp-bg-solid)"},children:N.jsx("div",{className:"lp-text-gradient text-xl font-medium",children:"Loading Launchpad..."})}),children:N.jsx(wK,{})}),N.jsx(pu,{children:N.jsx(WX,{})}),N.jsx(pu,{children:N.jsx(Mz,{})}),N.jsx(c$,{}),N.jsx(pu,{children:N.jsx(d$,{})}),N.jsx(pu,{children:N.jsx(H$,{})}),N.jsx(pu,{children:N.jsx(lK,{})}),N.jsx(pu,{children:N.jsx(SK,{})}),N.jsx(pu,{children:N.jsx(b$,{})}),N.jsx(pu,{children:N.jsx(eV,{})}),N.jsx(pu,{children:N.jsx(tV,{})}),N.jsx(wz,{})]})})}Hk.createRoot(document.getElementById("root")).render(N.jsx(MK,{}));export{MP as _,mb as a,bK as b,bi as c,wP as d,Yg as g,N as j,ce as r,kP as t};
